!function(){function getUA(){var e,t={},r=navigator.userAgent.toLowerCase();return t.mac=navigator.platform.toUpperCase().indexOf("MAC")>=0,(e=r.match(/rv:([\d.]+)\) like gecko/))?t.ie=e[1]:(e=r.match(/(msie\s|trident.*rv:)([\w.]+)/))?t.ie=e[2]:(e=r.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=r.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=r.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=r.match(/version\/([\d.]+).*safari/))?t.safari=e[1]:0,t}function getDefaultQueryHis(){try{return JSON.parse(localStorage.getItem("index_ls_default_query"))
}catch(e){return{}}}function detectPlaceholder(e){var t="[object OperaMini]"===Object.prototype.toString.call(window.operamini);return e.ie?!1:"placeholder"in document.createElement("input")&&!t}function createPlaceHolder(e,t,r){if(t)e.attr("placeholder",r);else{var o="<div class=kw-placeholder>"+r+"</div>";e.before(o),$(".kw-placeholder").on("click",function(t){e.focus(),t.target=e.get(0),e.trigger(t)}),$(document).ready(function(){$(".kw-placeholder").toggleClass("placeholders-hidden",e.val().length>0)
}),e.on("keydown keyup cut paste setValue input",checkInputValue)}}function checkInputValue(){var e=$input.val();setTimeout(function(){var t=$input.val();(t!==e||t.length>0)&&$(".kw-placeholder").toggleClass("placeholders-hidden",t.length>0)},0)}function removePlaceHolder(e,t){t?e.removeAttr("placeholder"):$(".kw-placeholder").remove()}function testLocalStorage(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function getShowCount(e,t){var r=0;return t&&t.query&&t.query===e&&t.count&&(r=t.count),r
}function recordDefaultQuery(e,t){var r={query:e,time:(new Date).getTime(),count:1};t&&t.query&&e===t.query&&t.count&&(r.count=t.count+1),setTimeout(function(){try{localStorage.removeItem("index_ls_default_query"),localStorage.setItem("index_ls_default_query",JSON.stringify(r))}catch(e){return!1}},0)}function jsonPolyfill(){var json={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=Array.isArray||function(t){return"[object Array]"===e.call(t)
},o={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(e){return o[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},a=/[\\"\u0000-\u001F\u2028\u2029]/g;return function u(o){if(null==o)return"null";if("number"==typeof o)return isFinite(o)?o.toString():"null";if("boolean"==typeof o)return o.toString();if("object"==typeof o){if("function"==typeof o.toJSON)return u(o.toJSON());if(r(o)){for(var l="[",c=0;c<o.length;c++)l+=(c?", ":"")+u(o[c]);return l+"]"}if("[object Object]"===e.call(o)){var i=[];
for(var d in o)t.call(o,d)&&i.push(u(d)+": "+u(o[d]));return"{"+i.join(", ")+"}"}}return'"'+o.toString().replace(a,n)+'"'}}()};return json}var defaultQuery=window.bds&&bds.comm&&bds.comm.dpquery;window.JSON||(window.JSON=jsonPolyfill());var isSupportLocalStorage=testLocalStorage(),defaultQueryHis=isSupportLocalStorage?getDefaultQueryHis():{},$input=$("#kw");if(getShowCount(defaultQuery,defaultQueryHis)>9&&(defaultQuery=""),defaultQuery){var UA=getUA(),isPlaceHolderSupported=detectPlaceholder(UA);
createPlaceHolder($input,isPlaceHolderSupported,defaultQuery,UA),isSupportLocalStorage&&recordDefaultQuery(defaultQuery,defaultQueryHis),$(window).one("index_off",function(){removePlaceHolder($input,isPlaceHolderSupported),bds.comm.dpquery=""})}}();;
function addEV(t,e,n){window.attachEvent?t.attachEvent("on"+e,n):window.addEventListener&&t.addEventListener(e,n,!1)}function _aMC(t){for(var e=t,n=-1;e=e.parentNode;)if(n=parseInt(e.getAttribute("id")),n>0)return n}function al_c(t){for(;"TABLE"!=t.tagName;)t=t.parentNode;return t.getAttribute("id")}function al_c2(t,e){for(;e--;)for(;"TABLE"!=(t=t.parentNode).tagName;);return t.getAttribute("id")}function c(t){var e=t.p1;if(!("alop"!=t.fm||"rsv_xpath"in t||e&&"6677"==G(e).getAttribute("srcid")))return!0;
!e||"p5"in t||(t.p5=e);var n=window.document.location.href,i="",a="",r="",o=window["BD_PS_C"+(new Date).getTime()]=new Image;for(v in t){switch(v){case"title":a=t[v].replace(/<[^<>]+>/g,""),a&&a.length>100&&(a=a.substring(0,100)),a=encodeURIComponent(a);break;case"mu":case"url":a=escape(t[v]);break;default:a=t[v]}i+="&"+v+"="+a}if(!("mu"in t))try{"p2"in t&&G(t.p1).getAttribute("mu")&&"pl"!=t.fm&&(r="&mu="+escape(G(t.p1).getAttribute("mu")))}catch(s){}if(window.bds&&bds.comm){var c=bds.comm.ubsurl+"?q="+bds.comm.queryEnc+i+r+"&rsv_sid="+bds.comm.sid+"&cid="+bds.comm.cid+"&qid="+bds.comm.queryId+"&t="+(new Date).getTime();
if(bds.comm.inter&&(c=c+"&rsv_inter="+bds.comm.inter),bds.comm.seinfo&&bds.comm.seinfo.rsv_pstg&&(c=c+"&rsv_pstg="+bds.comm.seinfo.rsv_pstg),bds.comm.cftime&&0!=bds.comm.cftime&&(c=c+"&rsv_cftime="+bds.comm.cftime),c+=bds.comm.resultPage?"&rsv_iorr=1":"&rsv_iorr=0",bds.comm.tn&&(c=c+"&rsv_tn="+bds.comm.tn),bds.comm.indexSid&&(c+="&rsv_isid="+bds.comm.indexSid),bds.comm.lastVoiceQuery&&(c+="&rsv_lavo="+encodeURIComponent(bds.comm.lastVoiceQuery)),Cookie.get("ispeed")&&(c+="&rsv_ispeed="+Cookie.get("ispeed")),/ssl_sample/.test(location.href)){var u=location.href.match(/ssl_sample=[^=&]+/i);
c+="&rsv_"+u[0]}if(/ssl_s=/.test(location.href)){var u=location.href.match(/ssl_s=[^=&]+/i);c+="&rsv_"+u[0]}c+="&rsv_ssl="+("https:"===location.protocol?1:0),c+="&path="+encodeURIComponent(n),c+="&rsv_did="+(bds.comm.did?bds.comm.did:""),o.src=c}return!0}function TagQ(t,e){return e.getElementsByTagName(t)}function h(t){t.style.behavior="url(#default#homepage)",t.setHomePage(bds.comm.domain);var e=window["BD_PS_C"+(new Date).getTime()]=new Image;e.src=bds.comm.ubsurl+"?fm=hp&tn="+bds.comm.tn+"&t="+(new Date).getTime()
}function G(t){return document.getElementById(t)}function ns_c_pj(t,e){var n=encodeURIComponent(window.document.location.href),i="",a="",r="",o=bds&&bds.comm&&bds.comm.did?bds.comm.did:"";wd=bds.comm.queryEnc,nsclickDomain=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com",img=window["BD_PS_C"+(new Date).getTime()]=new Image,src="";for(v in t){switch(v){case"title":a=encodeURIComponent(t[v].replace(/<[^<>]+>/g,""));break;case"url":a=encodeURIComponent(t[v]);
break;default:a=t[v]}i+=v+"="+a+"&"}if(r="&mu="+n,src=nsclickDomain+"/v.gif?pid=201&"+(e||"")+i+"path="+n+"&wd="+wd+"&rsv_sid="+(bds.comm.ishome&&bds.comm.indexSid?bds.comm.indexSid:bds.comm.sid)+"&rsv_did="+o+"&t="+(new Date).getTime(),"undefined"!=typeof Cookie&&"undefined"!=typeof Cookie.get)Cookie.get("H_PS_SKIN")&&"0"!=Cookie.get("H_PS_SKIN")&&(src+="&rsv_skin=1");else{var s="";try{s=parseInt(document.cookie.match(new RegExp("(^| )H_PS_SKIN=([^;]*)(;|$)"))[2])}catch(c){}s&&"0"!=s&&(src+="&rsv_skin=1")
}return img.src=src,!0}function ns_c(t,e){return e===!0?ns_c_pj(t,"pj=www&rsv_sample=1&"):ns_c_pj(t,"pj=www&")}var define,require,esl;!function(t){function e(t){f(t,B)||(H[t]=1)}function n(t,e){function n(t){0===t.indexOf(".")&&a.push(t)}var a=[];if("string"==typeof t?n(t):T(t,function(t){n(t)}),a.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+a.join(", "));var r=z.waitSeconds;return r&&t instanceof Array&&(q&&clearTimeout(q),q=setTimeout(i,1e3*r)),W(t,e)
}function i(){function t(o,s){if(!r[o]&&!f(o,B)){r[o]=1;var c=N[o];c?(s||!f(o,M)||c.hang)&&(i[o]||(i[o]=1,e.push(o)),T(c.depMs,function(e){t(e.absId,e.hard)})):a[o]||(a[o]=1,n.push(o))}}var e=[],n=[],i={},a={},r={};for(var o in H)t(o,1);if(e.length||n.length)throw new Error("[MODULE_TIMEOUT]Hang("+(e.join(", ")||"none")+") Miss("+(n.join(", ")||"none")+")")}function a(t){T(F,function(e){s(t,e.deps,e.factory)}),F.length=0}function r(t,e,n){if(null==n&&(null==e?(n=t,t=null):(n=e,e=null,t instanceof Array&&(e=t,t=null))),null!=n){var i=window.opera;
if(!t&&document.attachEvent&&(!i||"[object Opera]"!==i.toString())){var a=R();t=a&&a.getAttribute("data-require-id")}t?s(t,e,n):F[0]={deps:e,factory:n}}}function o(){var t=z.config[this.id];return t&&"object"==typeof t?t:{}}function s(t,e,n){N[t]||(N[t]={id:t,depsDec:e,deps:e||["require","exports","module"],factoryDeps:[],factory:n,exports:{},config:o,state:O,require:j(t),depMs:[],depMkv:{},depRs:[],hang:0})}function c(t){var e=N[t];if(e&&!f(t,U)){var n=e.deps,i=e.factory,a=0;"function"==typeof i&&(a=Math.min(i.length,n.length),!e.depsDec&&i.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"])([^'"]+)\1\s*\)/g,function(t,e,i){n.push(i)
}));var r=[],o=[];T(n,function(n,i){var s,c,u=I(n),d=k(u.mod,t);d&&!L[d]?(u.res&&(c={id:n,mod:d,res:u.res},o.push(n),e.depRs.push(c)),s=e.depMkv[d],s||(s={id:u.mod,absId:d,hard:a>i},e.depMs.push(s),e.depMkv[d]=s,r.push(d))):s={absId:d},a>i&&e.factoryDeps.push(c||s)}),e.state=U,l(t),w(r),o.length&&e.require(o,function(){T(e.depRs,function(e){e.absId||(e.absId=k(e.id,t))}),u()})}}function u(){for(var t in H)c(t),d(t),m(t)}function d(t){function e(t){if(c(t),!f(t,U))return!1;if(f(t,M)||n[t])return!0;
n[t]=1;var i=N[t],a=!0;return T(i.depMs,function(t){a=e(t.absId)&&a}),a&&T(i.depRs,function(t){return a=!!t.absId}),a&&!f(t,M)&&(i.state=M),n[t]=0,a}var n={};e(t)}function l(e){function n(){if(!i&&a.state===M){i=1;var n=1;if(T(a.factoryDeps,function(t){var e=t.absId;return L[e]?void 0:(m(e),n=f(e,B))}),n){try{var r=a.factory,o="function"==typeof r?r.apply(t,p(a.factoryDeps,{require:a.require,exports:a.exports,module:a})):r;null!=o&&(a.exports=o),a.invokeFactory=null}catch(s){throw a.hang=1,s}b(e)
}}}var i,a=N[e];a.invokeFactory=n}function f(t,e){return N[t]&&N[t].state>=e}function m(t){var e=N[t];e&&e.invokeFactory&&e.invokeFactory()}function p(t,e){var n=[];return T(t,function(t,i){"object"==typeof t&&(t=t.absId),n[i]=e[t]||N[t].exports}),n}function h(t,e){if(f(t,B))return void e();var n=Q[t];n||(n=Q[t]=[]),n.push(e)}function b(t){var e=N[t];e.state=B,delete H[t];for(var n=Q[t]||[],i=n.length;i--;)n[i]();n.length=0,Q[t]=null}function w(e,n,i){function a(){if("function"==typeof n&&!r){var i=1;
T(e,function(t){return L[t]?void 0:i=!!f(t,B)}),i&&(r=1,n.apply(t,p(e,L)))}}var r=0;T(e,function(t){L[t]||f(t,B)||(h(t,a),(t.indexOf("!")>0?v:g)(t,i))}),a()}function g(e){function n(){var t=Z[e];P(t||e,i)}function i(){if(o){var n;"function"==typeof o.init&&(n=o.init.apply(t,p(s,L))),null==n&&o.exports&&(n=t,T(o.exports.split("."),function(t){return n=n[t],!!n})),r(e,s,function(){return n||{}})}else a(e);u()}if(!G[e]&&!N[e]){G[e]=1;var o=z.shim[e];o instanceof Array&&(z.shim[e]=o={deps:o});var s=o&&(o.deps||[]);
s?(T(s,function(t){z.shim[t]||(z.shim[t]={})}),W(s,n)):n()}}function v(t,e){function n(e){c.exports=e||!0,b(t)}function i(i){var a=e?N[e].require:W;i.load(s.res,a,n,o.call({id:t}))}if(!N[t]){var r=Z[t];if(r)return void g(r);var s=I(t),c={id:t,state:U};N[t]=c,n.fromText=function(t,e){new Function(e)(),a(t)},i(W(s.mod))}}function _(t,e){var n=E(t,1,e);return n.sort(D),n}function y(){function t(t){Z[S(t)]=n}z.baseUrl=z.baseUrl.replace(/\/$/,"")+"/",K=_(z.paths),J=_(z.map,1),T(J,function(t){t.v=_(t.v)
});var e=J[J.length-1];e&&"*"===e.k&&T(J,function(t){t!=e&&(t.v=t.v.concat(e.v))}),V=[],T(z.packages,function(t){var e=t;"string"==typeof t&&(e={name:t.split("/")[0],location:t,main:"main"}),e.location=e.location||e.name,e.main=(e.main||"main").replace(/\.js$/i,""),e.reg=$(e.name),V.push(e)}),V.sort(D),X=_(z.urlArgs,1),Z={};for(var n in z.bundles)T(z.bundles[n],t)}function x(t,e,n){T(e,function(e){return e.reg.test(t)?(n(e.v,e.k,e),!1):void 0})}function A(t,e){var n=/(\.[a-z0-9]+)$/i,i=/(\?[^#]*)$/,a="",r=t,o="";
i.test(t)&&(o=RegExp.$1,t=t.replace(i,"")),n.test(t)&&(a=RegExp.$1,r=t.replace(n,"")),null!=e&&(r=k(r,e));var s,c=r;return x(r,K,function(t,e){c=c.replace(e,t),s=1}),s||x(r,V,function(t,e,n){c=c.replace(n.name,n.location)}),/^([a-z]{2,10}:\/)?\//i.test(c)||(c=z.baseUrl+c),c+=a+o,x(r,X,function(t){c+=(c.indexOf("?")>0?"&":"?")+t}),c}function j(t){function n(n,a){if("string"==typeof n){if(!i[n]){var r=k(n,t);if(m(r),!f(r,B))throw new Error('[MODULE_MISS]"'+r+'" is not exists!');i[n]=N[r].exports}return i[n]
}if(n instanceof Array){var o=[],s=[];T(n,function(n,i){var a=I(n),r=k(a.mod,t),c=a.res,u=r;if(c){var d=r+"!"+c;0!==c.indexOf(".")&&Z[d]?r=u=d:u=null}s[i]=u,e(r),o.push(r)}),w(o,function(){T(s,function(i,a){null==i&&(i=s[a]=k(n[a],t),e(i))}),w(s,a,t),u()},t),u()}}var i={};return n.toUrl=function(e){return A(e,t||"")},n}function k(t,e){if(!t)return"";e=e||"";var n=I(t);if(!n)return t;var i=n.res,a=C(n.mod,e);if(x(e,J,function(t){x(a,t,function(t,e){a=a.replace(e,t)})}),a=S(a),i){var r=f(a,B)&&W(a);
i=r&&r.normalize?r.normalize(i,function(t){return k(t,e)}):k(i,e),a+="!"+i}return a}function S(t){return T(V,function(e){var n=e.name;return n===t?(t=n+"/"+e.main,!1):void 0}),t}function C(t,e){if(0!==t.indexOf("."))return t;for(var n=e.split("/").slice(0,-1).concat(t.split("/")),i=[],a=0;a<n.length;a++){var r=n[a];switch(r){case".":break;case"..":i.length&&".."!==i[i.length-1]?i.pop():i.push(r);break;default:r&&i.push(r)}}return i.join("/")}function I(t){var e=t.split("!");return e[0]?{mod:e[0],res:e[1]}:void 0
}function E(t,e,n){var i=[];for(var a in t)if(t.hasOwnProperty(a)){var r={k:a,v:t[a]};i.push(r),e&&(r.reg="*"===a&&n?/^/:$(a))}return i}function $(t){return new RegExp("^"+t+"(/|$)")}function T(t,e){if(t instanceof Array)for(var n=0,i=t.length;i>n&&e(t[n],n)!==!1;n++);}function D(t,e){var n=t.k||t.name,i=e.k||e.name;return"*"===i?-1:"*"===n?1:i.length-n.length}function R(){if(Y)return Y;if(te&&"interactive"===te.readyState)return te;for(var t=document.getElementsByTagName("script"),e=t.length;e--;){var n=t[e];
if("interactive"===n.readyState)return te=n,n}}function P(t,e){function n(){var t=i.readyState;("undefined"==typeof t||/^(loaded|complete)$/.test(t))&&(i.onload=i.onreadystatechange=null,i=null,e())}var i=document.createElement("script");i.setAttribute("data-require-id",t),i.src=A(t+".js"),i.async=!0,i.readyState?i.onreadystatechange=n:i.onload=n,Y=i,ne?ee.insertBefore(i,ne):ee.appendChild(i),Y=null}var q,N={},O=1,U=2,M=3,B=4,H={},L={require:n,exports:1,module:1},W=j(),z={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};
n.version="2.1.4",n.loader="esl",n.toUrl=W.toUrl;var F=[];r.amd={};var Q={},G={};n.config=function(t){if(t){for(var e in z){var n=t[e],i=z[e];if(n)if("urlArgs"===e&&"string"==typeof n)z.urlArgs["*"]=n;else if(i instanceof Array)i.push.apply(i,n);else if("object"==typeof i)for(var a in n)i[a]=n[a];else z[e]=n}y()}},y();var K,V,J,Z,X,Y,te,ee=document.getElementsByTagName("head")[0],ne=document.getElementsByTagName("base")[0];ne&&(ee=ne.parentNode),define||(define=r,require||(require=n),esl=n);var ie;
!function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;){var n=t[e];if(ie=n.getAttribute("data-main"))break}}(),ie&&setTimeout(function(){n([ie])},4)}(this);var bds=window.bds||{};bds.amd={keys:{},addPaths:function(t){"object"==typeof t&&(require.config({paths:t}),$.extend(bds.amd.keys,t))},deletePath:function(t){var e="string"==typeof t?[t]:t;for(var n in e)e.hasOwnProperty(n)&&delete bds.amd.keys[n]},addConfig:function(t){if("object"==typeof t){require.config(t);for(var e in t)if(t.hasOwnProperty(e)){bds.amd[e]||(bds.amd[e]={});
for(var n in t[e])t[e].hasOwnProperty(n)&&t[e][n]&&(bds.amd[e][n]=t[e][n])}}},getPath:function(t){return t&&"string"==typeof t?bds.amd.keys[t]||bds.amd.paths[t]||"":void 0},getBundle:function(t){if(t&&"string"==typeof t){var e=bds.amd.bundles,n="",i="";if(e&&"object"==typeof e)for(var a in e)if(e.hasOwnProperty(a)&&e[a].indexOf(t)>-1){n=a,i=bds.amd.getPath(a);break}return{name:n,path:i}}},exist:function(t){return t&&"undefined"!=typeof bds.amd.keys[t]?!0:!1}},function(){var t=bds.util&&bds.util.domain?bds.util.domain.get("http://s1.bdstatic.com"):"http://s1.bdstatic.com",e=bds.util&&bds.util.domain?bds.util.domain.get("http://ecmb.bdimg.com"):"http://ecmb.bdimg.com";
require.config({baseUrl:t+"/r/www/cache/biz",packages:[{name:"ecma",location:e+"/public01"},{name:"ecmb",location:e+"/public01"}],paths:{aladdin:t+"/r/www/aladdin",ui:t+"/r/www/cache/amd/ui","ui/config":t+"/r/www/cache/amd/ui/Control","ui/lib":t+"/r/www/cache/amd/ui/Control","ui/Control":t+"/r/www/cache/amd/ui/Control"},urlArgs:{"ui/ImgZoomHover":"20141104","ui/ImgZoomHover1":"20141104","ui/ImgZoomHover2":"20141104","ui/ImgZoomHover3":"20141104"}})}(),bds.amd.addConfig({bundles:{"@baidu/ala-util":["@baidu/ala-util","@baidu/ala-util/env","@baidu/ala-util/es6-promise","@baidu/ala-util/fetch-jsonp","@baidu/ala-util/fetch","@baidu/ala-util/index","@baidu/ala-util/lodash","@baidu/ala-util/ala","@baidu/ala-util/update"]}}),bds.amd.addPaths({Atom:"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/bundles/atom_aa06f6b","voice/js/voice":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/voice/js/voice_1672ed3","plugins/swfobject":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/swfobject_0178953","soutu/js/tu":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/soutu/js/tu_2abad3c","lib/get_ua":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/lib/get_ua_5600c75","lib/get_zoom":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/lib/get_zoom_40318e9","plugins/zoom_prompt":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/zoom_prompt_d72a9cd","plugins/pcToWise":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/pcToWise_946ec60","plugins/qrcodegen":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/qrcodegen_3297c28","plugins/https_useable_sample":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/https_useable_sample_8f5c5a9","plugins/feedback_suggest":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/feedback_suggest_f73e42e","webb/instance":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/webb/instance_5d88cac","atom-logger":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/webb/atom-logger_098581c","plugins/hotWord":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/hotWord_cc828cc"}),bds.amd.addPaths({"@baidu/ala-util":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util_b8e7a51","@baidu/atom-web-runtime":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/atom-web-runtime_f8cc03e","@baidu/better-scroll":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/better-scroll_3ca1fd1","@baidu/pmd":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/pmd_9fac2fd","@baidu/search-sug":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/search-sug_913fe0a","@baidu/web-animations-js":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/web-animations-js_6166288","@baidu/webb":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/webb_f69c914","@searchfe/assert":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/assert_8f1a1ad","@searchfe/promise":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/promise_33d6467","@searchfe/user-agent":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/user-agent_165a7ee","promise-polyfill":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/promise-polyfill_eb6da34","versions-compare":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/versions-compare_a4b1c27","whatwg-fetch":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/whatwg-fetch_435bd8d"}),bds.amd.addPaths({"@baidu/ala-util":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/bundles/ala-util_e489543","@baidu/webb":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/webb/webb2.min_62df7c4","@baidu/module-version":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/module-version/index_/static/amd_modules/@baidu/module-version/index.js"}),bds.amd.addPaths({"@baidu/ala-util/env":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/env_c8c79df","@baidu/ala-util/es6-promise":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/es6-promise_5db0418","@baidu/ala-util/fetch":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/fetch_b79917d","@baidu/ala-util/fetch-jsonp":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/fetch-jsonp_2e624b8","@baidu/ala-util/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/index_6acb491","@baidu/ala-util/lodash":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/ala-util/lodash_e153b58","@baidu/atom-web-runtime/dist/atom.min":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/atom-web-runtime/dist/atom.min_960c107","@baidu/better-scroll/better-scroll":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/better-scroll/better-scroll_f35e74a","@baidu/pmd/dist/pmd":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/pmd/dist/pmd_abc3d9e","@baidu/search-sug/sug/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/search-sug/sug/index_a0fc0d8","@baidu/web-animations-js/web-animations.min":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/web-animations-js/web-animations.min_5987b41","@baidu/webb/webb2.min":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@baidu/webb/webb2.min_62df7c4","@searchfe/assert/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/assert/index_93ef523","@searchfe/promise/src/promise":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/promise/src/promise_c5de809","@searchfe/promise/src/set-immediate":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/promise/src/set-immediate_099c916","@searchfe/user-agent/src/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/@searchfe/user-agent/src/index_107eeda","promise-polyfill/lib/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/promise-polyfill/lib/index_18c4599","versions-compare/src/index":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/versions-compare/src/index_bf82f5e","versions-compare/src/util":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/amd_modules/versions-compare/src/util_294470f"}),bds&&bds.comm&&(bds.comm.did=function(){for(var t="",e=0;32>e;e++)t+=Math.floor(16*Math.random()).toString(16);
return t}(),bds.comm.isAsync=function(){var t="onhashchange"in window,e="onpopstate"in window;return(e||t)&&1!=Cookie.get("ISSW")&&!window.__disable_preload}());try{window.MutationObserver=window.WebKitMutationObserver=window.MozMutationObserver=null}catch(e){}jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=a[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'
}function n(t){var e,n,i,a=["["],r=t.length;for(n=0;r>n;n++)switch(i=t[n],typeof i){case"undefined":case"function":case"unknown":break;default:e&&a.push(","),a.push($.stringify(i)),e=1}return a.push("]"),a.join("")}if("JSON"in window)return JSON.stringify(t);var i=typeof t;if("object"!=i||null===t)return"string"==i&&(t='"'+t+'"'),String(t);var a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";
case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if("[object Array]"===Object.prototype.toString.call(t))return n(t);var r,o,s=["{"],c=$.stringify;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u))switch(o=t[u],typeof o){case"undefined":case"unknown":case"function":break;default:r&&s.push(","),r=1,s.push(c(u)+":"+c(o))}return s.push("}"),s.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;
return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(i.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var a=n[e];return"[object Function]"==i.call(a)&&(a=a(e)),"undefined"==typeof a?"":a})):t},subByte:function(t,e,n){var i=[],a=t.split("");n=n||"…";for(var r=0,o=a.length;o>r;r++)a[r].charCodeAt(0)>255&&i.push("*"),i.push(a[r]);return e&&e>0&&i.length>e?a=i.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),i=0,a=n.length;a>i;i++)n[i].charCodeAt(0)>255&&e.push("*"),e.push(n[i]);
return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},getCookie:function(t){var e="";
if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);if(i&&(e=i[2]||null,"string"==typeof e))return e=decodeURIComponent(e)}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)},limitWd:function(t,e){if(""===t)return"";t+="";var n=t.split(""),i=n.length,a=0,r=e||255;if(i<=parseInt(r/2))return t;for(var o=0;i>o;o++){if(a+=n[o].charCodeAt(0)>255?2:1,a===r)return n=t.substring(0,o+1);if(a>r)return n=t.substring(0,o)
}return t}}),$(window).on("resize",function(){"pageState"in window&&0!=pageState&&(bds.util.setContainerWidth(),bds.event.trigger("se.window_resize"))}),bds.util.addStyle=function(t){if(isIE){var e=document.createStyleSheet();e.cssText=t}else{var n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(t)),document.getElementsByTagName("HEAD")[0].appendChild(n)}},bds.util.getContentRightHeight=function(){return $("#content_right").get(0)?$("#content_right").get(0).offsetHeight:0
},bds.util.getContentLeftHeight=function(){return $("#content_left").get(0)?$("#content_left").get(0).offsetHeight:0},window.A||(window.bds=window.bds||{},bds.util=bds.util||{},bds.util.getWinWidth=function(){return window.document.documentElement.clientWidth},bds.util.setContainerWidth=function(){var t=G("container"),e=G("wrapper"),n=function(t,e){e.className=e.className.replace(t,"")},i=function(t,e){e.className=(e.className+" "+t).replace(/^\s+/g,"")},a=function(t,e){return t.test(e.className)
};bds.util.getWinWidth()<1207?(t&&(n(/\bcontainer_l\b/g,t),a(/\bcontainer_s\b/,t)||i("container_s",t)),e&&(n(/\bwrapper_l\b/g,e),a(/\bwrapper_s\b/,e)||i("wrapper_s",e)),bds.comm.containerSize="s"):(t&&(n(/\bcontainer_s\b/g,t),a(/\bcontainer_l\b/,t)||i("container_l",t)),e&&(n(/\bwrapper_s\b/g,e),a(/\bwrapper_l\b/,e)||i("wrapper_l",e)),bds.comm.containerSize="l")},function(){var t=[],e=!1,n=function(t,e){try{t.call(e)}catch(n){}},i=function(){this.ids=[],this.has=!0,this.list=[],this.logs=[],this.loadTimes=[],this.groupData=[],this.mergeFns=[],this._currentContainer=null
};window.A=bds.aladdin={},n(i,window.A),bds.ready=function(i){"function"==typeof i&&(e?n(i):t.push(i))},bds.doReady=function(){for(e=!0;t.length;)n(t.shift())},bds.clearReady=function(){e=!1,t=[]},A.__reset=i;var a=function(){var t=document.getElementsByTagName("script");return function(){var e=t[t.length-1];window.currentScriptElem&&(e=window.currentScriptElem);for(var n=e;n;){if(n.className&&/(?:^|\s)result(?:-op)?(?:$|\s)/.test(n.className)&&(tplname=n.getAttribute("tpl")))return n;n=n.parentNode
}}}(),r=function(t,e,n){var i;if(t.initIndex?i=A.groupData[t.initIndex-1]:(i={container:t,data:{},handlers:[]},t.initIndex=A.groupData.length+1,A.groupData.push(i)),"function"==typeof e)i.handlers.push(e);else if("object"==typeof e)for(var a in e)e.hasOwnProperty(a)&&(i.data[a]=e[a]);else i.data[e]=n};A.init=A.setup=function(t,e){if(void 0!==t&&null!==t){var n=A._currentContainer||a();n&&r(n,t,e)}},A.merge=function(t,e){A.mergeFns.push({tplName:t,fn:e})}}()),A.uiPrefix="//www.baidu.com/cache/aladdin/ui/",function(){var t=window.bds.aladdin,e=[],n={},i=0,a=function(t,e){try{t.call(e)
}catch(n){}},r=function(t){t.ajaxId=++i,n[t.ajaxId]=t},o=function(t){delete n[t.ajaxId]},s=function(t){return t.ajaxId?n.hasOwnProperty(t.ajaxId):!1},c=function(t){var e={};if(t)try{var n=new Function("return "+t)();n&&(e=n)}catch(i){}return e},u=function(){for(var t,e,n=$(".result-op").get().concat($(".result").get()),i={},a=0;e=n[a];a++)(t=e.getAttribute("tpl"))&&(i[t]?i[t].push(e):i[t]=[e]);return i},d=[],l=[];t.addDisposeHandler=function(t){l.push(t)},t.dispose=function(){for(;d.length;){var t=d.shift();
a(t.fn,t.obj)}for(var e=l,n=0;n<e.length;n++){var t=e[n];a(t.fn,t.obj)}},t.__clearDispose=function(){d=[],l=[]},t.addDisposeHandler({obj:n,fn:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]}}),t._Aladdin=function(){this.p1=0,this.mu=null},$.extend(t._Aladdin.prototype,{_init:function(){var t=this,e=t.container,n=c(t.container.getAttribute("data-click"));t.p1=n.p1||e.id,t.mu=n.mu||e.getAttribute("mu"),t.srcid=n.rsv_srcid||e.getAttribute("srcid")},q:function(t,e){return e=e||"",$(this.container).find(e+"."+t).get()
},qq:function(t,e){return this.q(t,e)[0]},find:function(t){return window.jQuery(t,this.container)},ready:function(){$(document).ready.apply(this,arguments)},ajax:function(e,n,i){var a=t.AJAX,c=+new Date,u=i.params||{},d={query:e,co:i.co||"",resource_id:n,t:c};$.extend(d,a.PARAMS),$.extend(d,u);var e=$.param(d),l=a.API_URL+"?"+e,f=function(){var e=new Image;e.src=$.format(a.ERR_URL,{url:l}),t.logs.push(e)},m=(new Date).getTime(),p=function(t){var e=(new Date).getTime()-m,i={fm:"opendataajax",srcid:n,time:e,status:t};
ns_c(i)},h=function(t){s(h)&&(w(),0==t.status?i.success(t.data):(i.error&&i.error(t.status),f()),p(0))},b=function(){s(b)&&(w(),i.timeout&&i.timeout(),f(),p(1))},w=function(){o(h),o(b)};r(h),r(b),$.ajax({url:l,scriptCharset:a.PARAMS.oe,timeout:a.TIMEOUT,dataType:"jsonp",jsonp:"cb",success:h,error:b})}}),t.AJAX={API_URL:bds.util.domain&&bds.util.domain.get?bds.util.domain.get("http://opendata.baidu.com/api.php"):"http://opendata.baidu.com/api.php",ERR_URL:bds.util.domain&&bds.util.domain.get?bds.util.domain.get("http://open.baidu.com/stat/al_e.gif?ajax_err_url=#{url}"):"http://open.baidu.com/stat/al_e.gif?ajax_err_url=#{url}",PARAMS:{ie:"utf8",oe:"gbk",cb:"op_aladdin_callback",format:"json",tn:"baidu"},TIMEOUT:6e3},e.push(function(t){var e=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0;
if(e){var n=document.charset;$.each(t.container.getElementsByTagName("form"),function(t,e){var i=function(){var t=e.acceptCharset;t&&"UNKNOWN"!=t.toString().toUpperCase()&&t!=document.charset&&(document.charset=t,setTimeout(function(){document.charset=n},1e3))};$(e).on("submit",i);var a=e.submit;e.submit=function(){i();try{a.call(e)}catch(t){a()}}})}}),t.__runAla=function(){var n=u();$.each(t.mergeFns,function(e,i){var a=n[i.tplName];a&&$.each(a,function(e,n){t._currentContainer=n,i.fn(),t._currentContainer=null
})}),$.each(t.groupData,function(n,i){var r,o,s,c=new t._Aladdin;c.container=i.container,c.data=i.data,c._init(),t.list.push(c);var u=i.handlers;for(r=new Date;u.length;)a(u.shift(),c);"function"==typeof c.dispose&&(d.push({obj:c,fn:c.dispose}),c.dispose=null),o=new Date,s={srcid:c.srcid},s.tpl=c.container.getAttribute("tpl"),s.time=o-r,t.loadTimes.push(s),$.each(e,function(t,e){e.call(c,c)})})}}(),function(){function t(r,o){var s="string"==typeof r?r.split(/\s*,\s*/):r;if(s.length>1)if(o)t(s.shift(),function(){s.length>0&&t(s,o)
});else for(;s.length;)t(s.shift());else{if(r=s[0],"jquery"===r&&window.jQuery)return!a.ui.jquery&&(a.ui.jquery=window.jQuery),void(o&&o());var c=r.replace(/\./g,"/"),u=r.replace(/^[\s\S]*\./,""),d=a.uiPrefix+c+"/"+u;0==c.search("style/")?e(d+".css",o):(d+=".js",f.hasOwnProperty(r)?"function"==typeof f[r]?d=f[r](r,d):"string"==typeof f[r]&&(d=f[r]):f.hasOwnProperty("*")&&(d=f["*"](r,d)),o?i(d,o):n(d))}}function e(t,e){if(e=e||l,t in r)return void e();var n=c.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,n.setAttribute("data-for","A.ui"),u.appendChild(n),r[t]=1,e()
}function n(t){return d?void i(t,l):void(t in r||(c.write('<script charset="gb2312" type="text/javascript" src="'+t+'"></script>'),r[t]=1))}function i(t,e){if(e=e||l,t in r)return void e();if(t in o)return void s[t].push(e);o[t]=1;var n=s[t]=[e],i=c.createElement("script");i.type="text/javascript",i.charset="gb2312",i.onload=i.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){for(;n.length;)n.shift()();delete o[t],r[t]=1,i.onload=i.onreadystatechange=null
}},i.src=t,i.setAttribute("data-for","A.ui"),u.insertBefore(i,u.firstChild)}var a=window.A,r={},o={},s={},c=document,u=c.getElementsByTagName("head")[0],d=!1,l=(a.baidu,function(){}),f={"*":function(t,e){return e+"?v=20170208"},scrollbarv:function(t,e){return e+"?v=20170208"},likeshare4:function(t,e){return e+"?v=20170208"},mboxsingleton:function(t,e){return e+"?v=20170208"},sms:function(t,e){return e+"?v=20170208"},tab:function(t,e){return e+"?v=20170208"},tabs:function(t,e){return e+"?v=20170208"
},musicplayer:function(t,e){return e+"?v=20170208"},slider:function(t,e){return e+"?v=20170208"},suggestion:function(t,e){return e+"?v=20170208"},tabs5:function(t,e){return e+"?v=20170208"},tabx:function(t,e){return e+"?v=20170208"},dropdown1:function(t,e){return e+"?v=20170208"},dropdown21:function(t,e){return e+"?v=20170208"},advert:function(t,e){return e+"?v=20170208"},advert2:function(t,e){return e+"?v=20170208"},honourCard:function(t,e){return e+"?v=20170208"},honourCard3:function(t,e){return e+"?v=20170208"
},honourCard4:function(t,e){return e+"?v=20190828"},share:function(t,e){return e+"?v=20170208"},qHotCity:function(t,e){return e+"?v=20170208"},mapapi:function(t,e){return e+"?v=20170208"},qunarfilters:function(t,e){return e+"?v=20170208"},renderIframe3:function(t,e){return e+"?v=20170208"},share2:function(t,e){return e+"?v=20170208"},ALD_feedback:function(t,e){return e+"?v=20170208"},addtohome:function(t,e){return e+"?v=20170208"},addtohome2:function(t,e){return e+"?v=20170208"},gpsApi:function(t,e){return e+"?v=20170208"
},simGps:function(t,e){return e+"?v=20170208"}};$(document).ready(function(){d=!0}),a.addDisposeHandler({obj:a,fn:function(){for(var t in s)if(s.hasOwnProperty(t))for(var e=s[t];e.length;)e.pop()}}),t.cache=r,a.uicss=function(t){e(a.uiPrefix+t)},a.uijs=function(t,e){i(a.uiPrefix+t,e)},a.uijsPathMap=function(t){$.extend(f,t)},a.use=t,a.ui=a.ui||{},a.addCssText=function(t){var e="opui-style-tag-id",n="data-for",i="A.ui",a=document.getElementById(e);a||(a=document.createElement("style"),a.setAttribute("type","text/css"),a.setAttribute(n,i),a.id=e,document.getElementsByTagName("head")[0].appendChild(a));
try{var r=document.createTextNode(t);a.appendChild(r)}catch(o){a.styleSheet&&(a.styleSheet.cssText+=t)}},$(window).on("swap_end",function(){var t=/MSIE\s?6/.test(window.navigator.userAgent),e=function(t,e,n){$(t).each(function(t,i){var a=$(i),r=new Image,o=a.attr("src");r.onload=function(){var t=e,i=n,o=this.width,s=this.height,c=o/s/(t/i);c>1?(o=o>t?t:"auto",s="auto"):(s=s>i?i:"auto",o="auto"),a.css({height:s,width:o}),r.onload=null,r=null},r.src=o})};t&&e("img.result-left-img",98,121),$(".c-feedback").bind("click",function(){var t=this;
a.use("ALD_feedback",function(){var e,n,i="right",r=$(t);r.parents("#content_left").length?(i="left",n=r.parents(".result-op"),e=n.attr("srcid")):r.parents("#content_right").length&&(n=r.parents("#con-ar"));var o={query:bds.comm.query,srcid:e,target:n,username:bds.comm.username,flag:i},s=a.ui.ALD_feedback(o);a.addDisposeHandler({obj:s,fn:s.dispose})})})})}(),$(window).on("swap_begin",function(){A.dispose(),A.__reset(),A.__clearDispose()}),$(window).on("swap_dom_ready",function(){bds.ready(A.__runAla),bds.doReady()
}),bds.event=new function(){function t(t,e){if("function"==typeof e||e instanceof Function){var n=a(t);r[n.name]=r[n.name]||[],r[n.name].push({prod:n.prod,callback:e})}}function e(t,e){for(var n=a(t),o=r[n.name]||[],s=0;s<o.length;){var c=o[s];e===c.callback&&i(n.prod,c.prod)?o.splice(s,1):s++}}function n(t,e){for(var n=a(t),o=r[n.name]||[],s={data:e,eventId:t},c=0,u=o.length;u>c;c++){var d=o[c];try{i(d.prod,n.prod)&&d.callback.call(this,s)}catch(l){}}}function i(t,e){return new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,".+")+"$").test(e)
}function a(t){var e=t.match(/(.+)\.(.+)/);return e&&e[2]?{prod:e[1],name:e[2]}:{}}var r={};this.on=t,this.off=e,this.trigger=n,this.events=r},bds.se.link=function(){function t(t,e){var n="/s?",i={tn:bds.comm.tn},a="wd="+encodeURIComponent(t);e&&(i=$.extend(i,e));for(var r in i)i.hasOwnProperty(r)&&(a+="&"+r+"="+encodeURIComponent(i[r]));return n+a}return{getSearchUrl:t}}();;
function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}function initPreload(e){function t(){Cookie.set("ISSW","1",null,null,new Date((new Date).getTime()+3e5))}function n(e,t){t=t||3,Cookie.set("ISWR",e,null,null,new Date((new Date).getTime()+1e3*t))}function i(e){e&&"string"==typeof e&&(e=$.parseJSON(e)),e&&e.length&&$.each(e,function(e,t){if(0===t.indexOf(ut.protocol)){var n=new Image;n.src=t
}})}function o(e){return $.trim(e).replace(/\s+/g," ")}function r(e){if("string"==typeof e){var t,n=0;for(t=0;t<e.length;t++)n+=e.charCodeAt(t);return n}return 0}function a(e){var t,n,i,o,r={};e.indexOf("?")>-1?(i=e.split("?"),o=i[1]):o=e,t=o.indexOf("&")>-1?o.split("&"):new Array(o);for(var a=0;a<t.length;a++)try{t[a]=t[a].indexOf("=")>-1?t[a]:t[a]+"=",n=t[a].split("="),r[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}catch(s){}return r}function s(e){function t(e){if(document.all)$("style[data-for='result']").get(0).styleSheet.cssText+=e;
else{var t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e)),t.setAttribute("data-for","result"),document.getElementsByTagName("HEAD")[0].appendChild(t)}}function n(){G.css({filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=95)",opacity:.95}),J||(t(".slowmsg{z-index:301;background-color:#fff;border:1px solid #f0f0f0;position:fixed;_position:absolute;top:144px;left:212px;height:95px;width:360px;box-shadow:0 0 5px rgba(0,0,0,0.05)}.slowmsg .ball{width:40px;margin:41px auto 0;position:relative;}.slowmsg .b{left:20px;position:absolute;width:10px;height:10px;-moz-border-radius: 50%;-webkit-border-radius: 50%;border-radius: 50%;}"),J=$('<div class="slowmsg"><div class="ball"><div class="b"/><div class="b"/><div class="b"/></div></div>'),J.find(".b").each(function(e,t){var n=[[0,40],[20,20],[40,0]][e],i=["rgb(55,137,250)","rgb(99,99,99)","rgb(235,67,70)"],o=0;
$(t).css({"background-color":i[e]}),function r(){return F?($(t).animate({left:n[o%2]},{duration:800,easing:"swing",progress:function(n,r){r>=.5&&$(t).css({"background-color":i[(o+e)%3]})},complete:function(){r()}}),void o++):void setTimeout(r,400)}()})),J.appendTo(cn),ns_c({pj_name:"loading_msg"})}function i(){var e,t=(new Date).getTime();Cookie.set("rsv_jmp_slow",t),Cookie.set("WWW_ST",t,null,null,new Date(t+3e4)),e=ut.href+(ut.href.indexOf("?")>0?"&":"?")+"rsv_jmp=slow",ut.replace(e)}if(!Z){var e=$.extend({top:93,"z-index":300},e),o=$(window).height();
G||(G=$("<div id='_mask'/>")),G.css({filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)",opacity:.3,position:"absolute",background:"#fff","z-index":e["z-index"],top:e.top+"px",left:"0"}),Z=!0,G.width(cn.width()),G.height(Math.max(o,cn.height())-e.top),G.appendTo(cn),$(window).scrollTop(),F=setTimeout(n,3e3),V=setTimeout(i,7e3),X=function(){F&&(clearTimeout(F),F=setTimeout(n,3e3)),V&&(clearTimeout(V),V=setTimeout(i,7e3))}}}function d(){G&&Z&&(Z=!1,G.remove(),J&&J.remove(),F&&(clearTimeout(F),F=!1),K&&K.remove(),V&&(clearTimeout(V),V=!1))
}function u(e,t,n){n||(n=0);var i=e.length;for(0>n&&(n=i+n);i>n;n++)if(e[n]===t)return n;return-1}function l(e,t,n){var i=t.find("script:not([src])"),o=0,r=$.globalEval;$.globalEval=function(e){window.currentScriptElem=i[o],o++;try{r.apply($,arguments)}catch(t){window.console&&console.debug&&(console.debug(e),console.debug(t))}},"insertBefore"==n?t.insertBefore(e):e.append(t),window.currentScriptElem=void 0,$.globalEval=r}function m(e){try{e()}catch(t){window.console&&console.debug&&console.debug(t),et(t.toString())
}}function p(e,t){function n(e){if("object"==typeof e){var t={};for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s])}else t=e;return t}if(!p.__init){p.__init=!0;var i=["wd","pn","nojc","cl","cq","srcid","gpc","tfflag","si","sl_lang","rsv_srlang","rqlang"],o=["wd","cl","ct","tn","rn","ie","f","lm","si","gpc","tfflag","usm","z","ch","sts","vit","dsp","trh","trb","tre","la","lo","st","nojc","haobd","rtt","bsst","gvideo","__eis","__eist","oq","fenlei","sid","rsv_idx","rsv_stat","rsv_bp","rqlang"],r=["w","word"];
p.prototype.clone=function(e){var t=new p(n(this.params));if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&u(o,i)>=0&&t.p(i,e[i]);return t},p.prototype.h=function(e){this.header_params=this.header_params||{};for(var t in e)this.header_params[t]=e[t];return this},p.prototype.buildHeaders=function(e){e&&this.setHeader(e);var t={};for(var n in this.header_params)if("object"==typeof this.header_params[n]){var i=[];for(var o in this.header_params[n]){var r=this.header_params[n][o];r instanceof Array&&(r=r.join("|")),i.push(o+"="+r)
}t[n]=i.join("&")}else t[n]=this.header_params[n];return t},p.prototype.buildSearchUrl=function(e){return ut.protocol+"//"+ut.host+ut.pathname+ut.search+"#"+this.buildQueryString(e)},p.prototype.buildSyncSearchUrl=function(e){return ut.protocol+"//"+ut.host+"/s?"+this.buildQueryString(e)},p.prototype.buildQueryString=function(e){var t=n(this.params);if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);var o="";t.wd=$.limitWd(t.wd);for(param in t)param&&t.hasOwnProperty(param)&&""!==t[param]&&(o+=param+"="+encodeURIComponent(t[param]).replace(/'/g,"%27")+"&");
return o.substr(0,o.length-1)},p.prototype.equals=function(e){if(!e||!e.p)return!1;for(var t=0;t<i.length;t++){var n=i[t];if("pn"==n){var o=this.p(n)?this.p(n):"0",r=e.p(n)?e.p(n):"0";if(o!=r)return!1}else if(this.p(n)!=e.p(n))return!1}return!0},p.prototype.p=function(e,t){return u(r,e)>=0&&(e="wd"),void 0===t?this.params[e]:(this.params[e]=t,this)},p.prototype.hashCode=function(){var e=[];if(!this.p("wd"))return"";for(var t=0;t<i.length;t++){var n=i[t];e.push("pn"!=n||this.p(n)?this.p(n):"0")}return e.join("	")
},p.prototype.filterOtherParams=function(){for(var e in this.params)this.params.hasOwnProperty(e)&&u(o,e)<0&&delete this.params[e]},p.prototype.wdSameName=function(){var e;for(e=0;e<r.length;e++)this.params&&this.params[r[e]]&&(this.params.wd=this.params[r[e]],delete this.params[r[e]])}}if(this.params={},!t){Et=Dt.serializeArray();for(var a=0;a<Et.length;a++)this.p(Et[a].name)||this.p(Et[a].name,Et[a].value)}if("object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&this.p(s,e[s]);this.wdSameName()
}function f(e){function t(e){"string"==typeof e&&(b[e]=Date.now?Date.now():+new Date)}function n(e,t){"string"==typeof e&&(_[e]=t)}function i(){_.cus_net=b.net>b.st&&b.net-b.st-_.cus_srv>0?b.net-b.st-_.cus_srv:1,_.cus_tti2=b.dom>b.st?b.dom-b.st:1,_.cus_frdom=b.dom-b.pt,_.cus_fs=b.fs>b.st?b.fs-b.st:_.cus_tti2,_.cus_frext=_.cus_fs-_.cus_tti2}function o(e){var t="";for(var n in e)n&&e.hasOwnProperty(n)&&""!==e[n]&&(t+="&"+n+"="+encodeURIComponent(e[n]));return t}function r(e){var e=[];for(var t in x)e.push(x[t]);
var n=T=$.when.apply($,e);T.always(function(){n===T&&m()})}function a(){var e=Array.apply(null,arguments);if(!(!e.length>0))for(var t=0;t<e.length;t++)x[e[t]]=$.Deferred()}function s(){n("qid",e.qid),n("cus_q",e.real_wd||e.env.p("wd")),n("sid",bds.comm.sid),n("cus_newindex",bds.comm.newindex),n("supportis",bds.comm.supportis)}function c(){e=null,k=null}function d(e){x[e].resolve(),"swap_end"==e&&setTimeout(function(){d("swap_end_5s")},5e3)}function u(){a("swap_end","swap_end_5s"),a("confirm"),r()
}function l(){u(),b.st=0,b.fs=0,b.dom=0}function m(){var e=Math.random(),t=/28230|28231/,r=e>.51&&.52>e;D=D||bds.comm.bfe_sample;var a=D&&e>.6&&.9>e;if(e>.51&&.52>e||t.test(bds.comm.sid)&&e>0&&.2>e||bds.comm.intrSid||a){t.test(bds.comm.sid)&&(r?n("issam",2):n("issam",1)),a&&(n("issam",3),n("bfesam",bds.comm.bfe_sample)),i(),h(k),w(k),n("srvInfo",f()),n("sysv",navigator.appMinorVersion),s(),S.fire();var c="//www.baidu.com/nocache/fesplg/s.gif?log_type=sp",d="";d+=o(v)+o(_);var u=c+d,l=new Image,m="_LOG_"+(new Date).getTime();
l.onload=function(){delete window[m]},window[m]=l,l.src=u}}function p(e){k=e,e.find("img").one("load",function(){var e=$(this).offset(),i=e.top,o=e.left,r="";if(C>i&&i>0){t("fs");var a=b.fs-b.dom;y.push(i+"_"+o+"_"+a),r=$(this).attr("data-src")||/^http/.test($(this).attr("src"))?$(this).attr("data-src")||$(this).attr("src"):"base64",n("ic_lis",r)}})}function f(){var e,t,n=$.parseJSON(bds.comm.speedInfo),i=[];for(var o in n){if(e=n[o],t=e.ModuleId+"_"+e.TimeCost+"_"+e.TimeSelf+"_"+e.Idc,e.hasOwnProperty("SubProcess"))for(var r in e.SubProcess)t+=","+e.SubProcess[r].ProcessId+"_"+e.SubProcess[r].TimeCost+"_"+e.SubProcess[r].isHitCache+"_"+e.SubProcess[r].Idc;
i.push(t)}return encodeURIComponent(i.join("|"))}function h(e){for(var t=0,i=e.find("img"),o=e.find("#content_left").find("img"),r=0,a=0,s=0;s<i.length;s++)a=i.eq(s).offset().top,C>a&&a>0&&t++;n("cus_ic",i.length),n("cus_extic",t),n("cus_extlic",r),n("cus_icl",o.length),n("cus_icr",e.find("#content_right").find("img").length),n("img_info",y.join(",")),n("psize",e.html().length)}function w(e){var t={},i=[],o=e.find("#content_left,#con-ar").children("*[tpl]"),r="";if(o.length>0)for(var a=0;a<o.length;a++)r=o.eq(a).attr("tpl"),t.hasOwnProperty(r)||(t[r]=1,i.push(r));
i.length>0&&n("tplp",i.join("|"))}function g(e){S.add(e)}var v={product_id:45,page_id:317,page_type:0},_={},b={st:0,pt:0,net:0,dom:0,fs:0},y=[],S=$.Callbacks(),x={},T=null,k=null,D=null,C=600;return u(),{trigger:d,mark:t,setParam:n,onSendlog:g,bindImgLoad:p,destroy:c,init:l}}function h(e,t){e?tn.done(function(){t(Qt,Bt,Ht)}):$.when(nn).done(function(e){t(e)})}function w(e,t){var n,i;if(!(window.__sam_his_nopredict&&window.bds&&bds.comm&&0==bds.comm.supportis)){if(n||(n=jt.val()),k(""),B(),clearTimeout(en),clearTimeout(hn),0==pageState&&window.__disable_index_predict||pt||ht||Zt.isSlow())return void e.setMaxNum(10);
e.setMaxNum(ct);var o=new p({pn:"",wd:t.value});if(bds&&bds.comm&&bds.comm.logFlagSug&&1===bds.comm.logFlagSug&&o.p("rsv_slog","ipt_change"),0==pageState&&bds.comm.supportis&&$.trim(jt.val())){Q(o);var r=$("<div id='ent_sug'>请按“回车”键发起检索</div>").insertBefore(".s_form");$(window).one("swap_begin",function(){r.remove()})}if(Gt)return void(Gt=!1);if(window.__restart_confirm_timeout&&O(),Xt="input",Ot=(new Date).getTime(),i&&(clearTimeout(i),i=!1),""==$.trim(t.value))return void C();if(Yt=t.checkStore(),!/^[a-zA-Z0-9~!@#$%^&*()_+=-]$/.test(t.value)){var a=jt.val(),s=t.imt.getLog();
s.length>0&&s[s.length-1].type.indexOf("link")>-1&&o.p("_sglink","1");var c=t.imt.diffLog();c&&c.length>1&&(c=c.slice(-15).join("."),o.h({is_params:{imes:encodeURIComponent(c)}})),!window.__disable_is2&&n.length>a.length&&0===n.indexOf(a)?i=setTimeout(function(){z({env:o,use_cache:!0,force:!1,pstg:5,shouldShow:bds.comm.supportis}),i=!1},250):z({env:o,use_cache:!0,force:!1,pstg:5,shouldShow:bds.comm.supportis})}n=a}}function g(e,t,n,i){if(k(""),clearTimeout(en),!(0==pageState&&window.__disable_index_predict||pt||ht||Zt.isSlow()))if(-1==t){Ft&&e.setVisibleSug(Ft.real_wd);
var o=new p({pn:"",wd:i.value});bds&&bds.comm&&bds.comm.logFlagSug&&1===bds.comm.logFlagSug&&o.p("rsv_slog","sug_select"),z({env:o,use_cache:!0,force:!1,shouldShow:bds.comm.supportis,pstg:3})}else{e.setVisibleSug(),k("");var o=new p({pn:"",wd:n});bds&&bds.comm&&bds.comm.logFlagSug&&1===bds.comm.logFlagSug&&o.p("rsv_slog","sug_select");var r=i.stopRefresh?!1:bds.comm.supportis;z({env:o,force:!1,use_cache:!0,no_predict:!0,shouldShow:r,pstg:3})}}function v(e,t){var n=getCursortPosition(this);(9==t.keyCode||39==t.keyCode&&n==(this.value&&this.value.length))&&bds.comm.supportis&&Ft&&Pt.text()&&(t.preventDefault(),Ft.real_wd!=this.value&&(jt.val(Ft.real_wd),e.check()),e.show(),k(""),U(Ft,Vt,22)({tipConfirm:!0}))
}function _(e){jt.keydown(function(t){v(e,t)}),e.on("start",function(){Xt="focus"}),$(window).on("blur",function(){e.hide()}),$(document).on("click",function(t){return 2==t.isTrigger||3==t.isTrigger?!1:void e.hide()}),e.on("inputChange",function(t,n){w(e,n)}),e.on("selectSug",function(t,n,i,o){g(e,i,o,n)}),e.on("render",function(){Ft&&e.setVisibleSug(Ft.real_wd)}),e.on("dataReady",function(e,t){var n=t&&t.queryValue&&t.dataCached&&t.dataCached[t.queryValue];if(n&&n.gl)for(var i in n.gl)if(1*n.gl[i]>0){var o=new p({pn:"",wd:n.s[i]});
z({env:o,force:!1,use_cache:!0,no_predict:!0,shouldShow:!1,pstg:7})}}),0==pageState&&e.start()}function b(e,t){e&&(t=$.extend(e.log,t))}function y(){if(bds.comm.seinfo){bds.comm.seinfo.rsv_pre=encodeURIComponent(S()),bds.comm.seinfo.rsv_reh=reh_rec(),bds.comm.seinfo.rsv_scr=scr_rec();var e=null;if(bds&&bds.comm&&bds.comm.personalData)try{"string"==typeof bds.comm.personalData&&(bds.comm.personalData=$.parseJSON(bds.comm.personalData)),e=bds.comm.personalData?bds.comm.personalData.fullSkinName&&bds.comm.personalData.fullSkinName.value:null
}catch(t){e=null}if(e&&(bds.comm.seinfo.rsv_skin=e),bds.comm.seinfo.rsv_psid=$.getCookie("BIDUPSID"),bds.comm.seinfo.rsv_pstm=$.getCookie("PSTM"),bds.comm.seinfo.rsv_idc=function(){var e=bds.comm.speedInfo||[];try{e=$.parseJSON(e)}catch(t){e=[]}for(var n=0,i=e.length;i>n;n++)if(9540==e[n].ModuleId)return e[n].Idc||"";return""}(),c(bds.comm.seinfo),"ON"===bds.comm._se_click_track_flag){var n=new Image,i="//www.baidu.com/s?wd="+bds.comm.queryEnc+"&qid="+bds.comm.queryId+"&lts=91";n.src=i}}!function(){var e=Math.random(),t=function(){function e(){var e=[],i=[],o={};
for(var r in n)!function(t){var r="_SSL_LOG_"+t+"_"+ +new Date,a=new Image,s=new Date;o[t]=$.Deferred(),i.push(o[t]),a.onload=function(){e.push(t+"_success="+(new Date-s)),o[t].resolve(),delete window[r]},a.onerror=function(){e.push(t+"_error="+(new Date-s)),o[t].resolve(),delete window[r]},a.src=n[t]}(r);var a=$.when.apply($,i);a.always(function(){var n="//www.baidu.com/nocache/fesplg/s.gif?log_type=hm&type=ssl&",i=e.join("&"),o=new Image,r="_HM_LOG_"+(new Date).getTime();o.onload=function(){delete window[r]
},window[r]=o,o.src=n+i+"&_tt="+t})}var t=+new Date,n={gt1:"https://gt1.baidu.com/nocache/imgdata/sp613.gif?t="+t,gt2:"https://gt2.baidu.com/nocache/imgdata/sp613.gif?t="+t};setTimeout(e,1e3)};e>.1&&.11>e&&t()}()}function S(){return Lt.length}function x(e){$(document).delegate("a","mousedown",function(){return function(){var t=$(this);T(t,e)}}())}function T(e,t){var n,i=t.prefix,o=e.attr("href");if(i&&o&&0==o.indexOf(i)&&(o=o.substring(i.length)),!i&&o){var r=o.match(/^http:\/\/[^\/]+/);if(!r)return;
i=r[0],o=o.replace(/^http:\/\/[^\/]+/,"")}if(o&&(n=o.match(/^\/*(link|baidu.php)\?(.*)$/),n=o.match(t.regex)),!(n&&n[2]&&n[2].match(/&(wd|word)=/))){if(o&&n){t.convertTable&&t.convertTable[n[1]]&&(n[1]=t.convertTable[n[1]]);var a=mt.getLinkParams(o);a&&("https:"===ut.protocol&&/Chrome|Safari/.test(navigator.userAgent)&&(i=i.replace(/^http:\/\/www\.baidu\.com/,"https://www.baidu.com")),o=i+"/"+n[1]+"?"+n[2]+"&"+a,e.attr("href",i+"/"+n[1]+"?"+n[2]+"&"+a),e.click(function(){window.PDC_ASYNC.setLinkData("click_t",(new Date).getTime()),window.PDC_ASYNC.setLinkData("linkpreload",$(this).attr("linkpreload"))
}))}return o}}function k(e){if(!window.__disable_is2||$.trim(e)!=$.trim(jt.val())){if(dn||!bds.comm.supportis)return void(Pt&&Pt.html(""));if(0!=pageState&&!window.__disable_kw_tip)if(Pt||(Pt=$('<div id="kw_tip" style="width:initial" unselectable="on" onselectstart="return false;" class="s_ipt_tip"/>').insertBefore(jt),Pt.parent().click(function(e){var t=jt.get(0);if(e.target===t)return!0;t.focus();var n=t.value.length;if(document.selection){var i=t.createTextRange();i.moveStart("character",n),i.collapse(),i.select()
}else"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd&&(t.selectionStart=t.selectionEnd=n);return!1}),Pt.get(0).onselectstart=function(){return!1}),Pt.text(e),""!=e){var t=jt.textWidth();Pt.css({"margin-left":t+10+"px","max-width":Pt.parent().width()-t-14+"px"}).text(e),window.__disable_is2&&Pt.css("z-index",1),Pt.show()}else Pt.hide()}}function D(){dn=!1}function C(){dn=!0,Ft&&Ft.real_wd&&$.trim(jt.val())?(k(Ft.real_wd),q(Ft)):(k(""),q())}function q(e){var t=o(jt.val());e&&t==e.real_wd&&$("#super_se_tip").remove()
}function I(e,t){var n=(new Date).getTime();if(t.force||b(t,{utime:(new Date).getTime()-Wt}),!t||!t.loaded)return!1;"string"==typeof t.html&&(t.html=$(t.html)),$(t).trigger("swap_begin"),m(function(){t.pdc.mark("pt"),$(window).trigger("swap_begin",[t,e]);var n=Zt&&Zt.getData();n&&(setTimeout(function(){t.pdc.setParam("ispeed",Zt.monitor(n))},3e3),t.pdc.setParam("upm",n.join(",")))}),m(function(){t.base64.restart();try{if(!t.base64_loaded){var e=$.parseJSON(t.html.find("#img_list").text());t.base64.loadImg(e.right,e.left)
}}catch(n){}t.base64.end()});var i=[$(window).scrollLeft(),$(window).scrollTop()];Nt.hide(),oldEnv=Jt,Jt=e,Vt=Ft,Ft=t,bds.comm.cur_disp_query=e.p("wd"),P(),bds&&bds.se&&bds.se.certification&&bds.se.certification.data&&(bds.se.certification.data=[]),0==pageState&&Q(e),m(function(){St()}),bds.clearReady(),Nt.empty();var o=t.html;if(ot.use_cache_repeatedly&&(o=o.clone()),m(function(){o.find("#head_style").children().removeAttr("data-for").appendTo("head")}),m(function(){$.globalEval(o.find("#head_script").html())
}),bds.comm&&bds.comm.jsversion&&"006"!=bds.comm.jsversion){var r=Jt.buildSyncSearchUrl({jmp:"jsver",_vr:Math.random()});return void ut.replace(r)}m(function(){o.find("#content_script script").each(function(e,t){$.globalEval($(t).html())})}),m(function(){var e=o.find("#s_tab");if(e.size()){var t=$("#s_tab");t.size()?t.replaceWith(e):e.insertBefore(Nt)}});var a=!1;!function(){var e=o.find("#con-at"),n=$("#con-at"),i=n.children().children();if(i.size())if(e.children().size()){var r=e.children().children();
i.attr("cq")!=r.attr("cq")||i.attr("srcid")!=r.attr("srcid")||t.force&&oldEnv&&oldEnv.equals(Jt)||!Jt.p("cq")||!Jt.p("srcid")||1==Jt.p("_trf")?(n.remove(),$(window).trigger("top_result_removed"),l(Nt,e,"insertBefore")):a=!0}else n.remove(),$(window).trigger("top_result_removed");else e.children().size()&&l(Nt,e,"insertBefore")}();var s=o.find("#container");if(t.pdc.bindImgLoad(s),l(Nt,s),!$("#footer").size()){var c=o.find("#footer").children();l(Nt,c)}m(function(){var e=(new Date).getTime();o&&$.globalEval(o.find("#jsMerge").html()),b(t,{jsmergetime:(new Date).getTime()-e})
}),bds&&bds.comm&&bds.comm.templateName==bds.comm.resTemplateName?bds.comm.seinfo&&(bds.comm.seinfo.rsv_tpfail=0):bds.comm.seinfo&&(bds.comm.seinfo.rsv_tpfail=1),0!=pageState&&bds&&bds.util&&bds.util.setContainerWidth&&bds.util.setContainerWidth(),document.title=e.p("wd")+"_百度搜索",Nt.show(),d(),b(t,{domtime:(new Date).getTime()-n}),b(t,{waittime:(new Date).getTime()-Ot}),t.pdc.mark("dom"),$(window).trigger("swap_dom_ready",[t,e]),window.__lazy_foot_js?setTimeout(function(){j(e,t,n)},0):j(e,t,n),a?window.scrollTo(i[0],i[1]):window.scrollTo(0,0),$(window).trigger("scroll"),swap_wait=!1
}function j(e,t,n){var i;n||(n=0),t&&(i=t.html),m(function(){Ct.get(0).f.value=8}),m(function(){var e=(new Date).getTime();t&&t.base64&&(t.base64.setDomLoad("left"),t.base64.setDomLoad("right")),b(t,{base64time:(new Date).getTime()-e})}),$("#search").find("form").submit(function(){var e=jt;jt=$(this).find("[name='wd']");var t=R.call(this);return jt=e,t}),m(function(){var e=(new Date).getTime();bds.doReady(),b(t,{bdstime:(new Date).getTime()-e})}),m(function(){var e=(new Date).getTime();i&&$.globalEval(i.find("#ecomScript").html()),b(t,{ecomtime:(new Date).getTime()-e})
}),m(function(){var e=(new Date).getTime();bds.se.tools&&(zt&&clearTimeout(zt),zt=setTimeout(function(){bds.se.tools()},600)),bds&&bds.se&&bds.se.certification&&bds.se.certification.build&&(Rt&&clearTimeout(Rt),Rt=setTimeout(function(){$(".certification").size()>0&&bds.se.certification.build.init()},1e3)),bds&&bds.se&&bds.se.safeTip&&(Ut&&clearTimeout(Ut),Ut=setTimeout(function(){$(".unsafe_ico_new").size()>0&&bds.se.safeTip.init()},1200)),b(t,{tiptime:(new Date).getTime()-e})}),m(function(){var e=(new Date).getTime();
window.initResultClickLog(),b(t,{clicktime:(new Date).getTime()-e})}),m(function(){b(t,{rtime:(new Date).getTime()-n,used:1}),bds.comm.seinfo&&t&&(bds.comm.seinfo.rsv_pstg=t.type)}),m(function(){$(window).trigger("swap_end",[t,e]),E(),Wt=(new Date).getTime(),t&&t.pdc&&(t.pdc.mark("js"),t.pdc.trigger("swap_end"))})}function P(){m(function(){$.each(bds.comm.tips,function(e,t){t&&t.destroy&&t.destroy()}),$("#c-tips-container").empty(),bds.comm.tips=[]}),m(function(){window.app&&window.app.dispose&&window.app.dispose()
}),m(function(){bds.comm.resolveUnloadHandler()}),bds&&bds.se&&bds.se.certification&&bds.se.certification.data&&(bds.se.certification.data=[]),bds&&bds.se&&bds.se.userAction&&bds.se.userAction.destroy()}function O(){At&&Mt&&(clearTimeout(At),At=setTimeout(Mt,st))}function U(e,t,n){return function(t){var i=$.extend({},t);if(e&&!e.confirm){bds.comm.cur_query=e.real_wd,!bds.comm.supportis&&e&&(n=e.pstg||0),e.confirm=!0,At=!1,Mt=null;var o={};o.is_referer=lt,o.is_xhr="1";var r=new p(a(mt.getQueryString()),!0);
e.env.equals(r)||e.env.clone({wd:e.prw}).equals(r)||mt.setUrl(e.env),lt=ut.protocol+"//"+ut.host+ut.pathname+ut.search,e.seq?e.seq++:e.seq=1,e.pdc&&(20!=n&&bds.comm.supportis&&e.pdc.mark("st"),e.pdc&&e.pdc.setParam&&e.pdc.setParam("cus_pstg",n),e.force&&e.pdc.setParam("f4s",1),e.pdc.trigger("confirm"),window.PRE_CONN.startTimer()),m(function(){$(window).trigger("confirm",[e,n])});var s="/s?ie=utf-8&csq="+e.seq+"&pstg="+n+(i.tipConfirm?"&_cktip=1":"")+"&mod=2"+(bds.comm.supportis?"&isbd=1":"")+"&cqid="+e.qid+"&istc="+((new Date).getTime()-e.startTime)+"&ver="+bds.comm.baiduis_verify+"&chk="+e.chk+"&isid="+kt+"&"+e.env.buildQueryString()+(e.force?"&f4s=1":"")+("function"==typeof sn?"&_ck="+sn(e.env.p("wd")):"");
if(bds.comm.indexSid&&(/9998_/.test(bds.comm.indexSid)&&"https:"===ut.protocol&&(bds.comm.indexSid=bds.comm.indexSid.replace("9998","8499")),s+="&rsv_isid="+bds.comm.indexSid),e.no_predict&&(s+="&isnop="+(1>=$t?0:1)),e&&e.pstg&&(s+="&isctg="+e.pstg),$t=0,h(it,function(t){if(Qt&&t.getRsvStatus)try{s+="&rsv_stat="+t.getRsvStatus(e.env.p("wd"))}catch(n){}t.getStat("rsv_sug6")&&(s+="&rsv_sug6="+t.getStat("rsv_sug6"),bds.comm.seinfo&&(bds.comm.seinfo.rsv_sug6=t.getStat("rsv_sug6"))),t.getStat("rsv_sug7")&&(s+="&rsv_sug7="+t.getStat("rsv_sug7")),t.getStat("rsv_sug9")&&(s+="&rsv_sug9="+t.getStat("rsv_sug9")),t.getStat("rsv_bp")&&(s+="&rsv_bp="+t.getStat("rsv_bp"))
}),$.ajax({headers:o,url:s}).done(function(e){$('#form input[name="rqlang"]').val(bds.comm.search_tool.actualResultLang||"cn"),$('#form input[name="rsv_bp"]').val(1);$(e)}).fail(function(){}),bds.comm.seinfo){bds.comm.seinfo.rsv_prw=encodeURIComponent(jt.val()),bds.comm.seinfo.rsv_pstg=n,bds.comm.seinfo.rsv_svoice=window.__supportvoice?"1":"0",e.cftime+=1,bds.comm.cftime=e.cftime+"";var c=e.env.p("rsv_bak");c&&(bds.comm.seinfo.rsv_bak=c)}bds.comm.confirmQuery=bds.comm.query,bds.comm.confirmQid=bds.comm.qid,y(),kt=e.qid,h(it,function(e){20==n?e.updateInitData():22==n||bds.comm.supportis||n>=0&&5>=n&&e.updateInitData(),e.clearStat()
}),window.cfpromise.resolve()}}}function R(e){if(!mt.support())return!0;if(mn)return!1;if(mn=!0,jt.blur(),k(""),$(this).attr("target"))return!0;ln=!0,un=setTimeout(function(){ln=!1},1e3);try{var t=$("#kw").attr("placeholder")||$(".kw-placeholder").text();if(!$.trim(jt.val())&&!t)return ut.href="/",!1;var n,i=new p,o=$(this).serializeArray();for(n=0;n<o.length;n++)i.p(o[n].name,o[n].value);if(t&&!$.trim(jt.val())?(i.p("wd",t),i.p("rsv_dq",1)):$.trim(jt.val())&&i.p("wd",jt.val()),i.p("nojc")&&i.p("nojc",""),Ft){if(i.equals(Ft.env.clone({wd:Ft.real_wd}))&&!Ft.force)return U(Ft,Vt,22)(),Ft.force=!0,k(""),q(Ft),!1;
Ft.env.p("rsv_spt")&&i.p("rsv_spt",Ft.env.p("rsv_spt"))}mt.submit(i,!!e)}catch(r){}return!1}function z(e){var t={force:!1,no_predict:!1,use_cache:!1,shouldShow:!0,pstg:-1};e&&$.extend(t,e);var n,i=t.env,o=t.force,r=t.no_predict,a=t.shouldShow,c=t.use_cache;if(i&&i.p("wd")&&i.hashCode()&&(!pt&&1!=Cookie.get("ISSW")||o||!r)&&(!ht&&1!=Cookie.get("ISSW")||o||r)){if(c&&(n=dt.hasCache(i,{loaded:!0})))return void(a&&(Ft&&n.env.clone({wd:n.real_wd}).equals(Ft.env.clone({wd:Ft.real_wd}))||(n.force=t.force,n.no_predict=t.no_predict,n.pdc.init(),n.force&&(n.pdc.mark("st"),window.bds&&bds.comm&&!bds.comm.supportis&&(n.pdc.mark("net"),n.pdc.setParam("cus_hitpreload",1))),I(i,n)),k(t.no_predict&&6!=t.pstg?"":n.real_wd),q(n)));
o&&a&&r&&s(),n={env:i,cftime:0,no_predict:r,shouldShow:a,loaded:!1,force:o,startTime:(new Date).getTime(),log:{ctime:(new Date).getTime()-Wt,wd:i.p("wd"),ntime:0,stat:0,used:0,rtime:0,utime:o?(new Date).getTime()-Wt:0,res:0}},n.pdc=f(n),t.pstg>0&&(n.pstg=t.pstg),n.force&&n.pdc.mark("st"),n.base64=isbase64(n.pdc),Lt.push(n.log),yt++,$t++,L(n)}}function A(){var e=[];return Yt&&(e=$.map(Yt.slice(0,2),function(e){return e.value})),e.join("	")}function M(e){t(),ut.replace(e.buildSyncSearchUrl())}function N(e,t){t?(ht=!0,fn&&(clearTimeout(fn),fn=!1),fn=setTimeout(function(){ht=wt
},e)):(pt=!0,pn&&(clearTimeout(pn),pn=!1),pn=setTimeout(function(){pt=ft},e))}function L(e){var t,a,s=e.env,c={};c.is_referer=Ft&&Ft.env?Ft.env.buildSyncSearchUrl():Kt.replace(/\#.*$/,""),$.extend(c,s.buildHeaders()),c.is_xhr="1",window.bds&&bds.comm&&bds.comm.cur_query?s.p("bs",bds.comm.cur_query):s.p("bs",""),window.bds&&bds.comm&&bds.comm.cur_disp_query&&(c.is_pbs=encodeURIComponent(bds.comm.cur_disp_query));var d=e.no_predict||!bds.comm.supportis?1:11,u=e.pstg;if(!(1==d&&1==u||11==d&&3==u||11==d&&6==u||1==d&&4==u)){var l="ie=utf-8"+(bds.comm.newindex?"&newi=1":"")+(xt.sid?"&sid="+encodeURIComponent(xt.sid):"")+(xt.tnp?"&tnp="+encodeURIComponent(xt.tnp):"")+"&mod="+(e.no_predict||!bds.comm.supportis?"1":"11")+(bds.comm.supportis?"&isbd=1":"")+"&isid="+kt+"&"+s.buildQueryString()+"&rsv_sid="+bds.comm.indexSid+"&_ss=1&clist="+encodeURIComponent(dt.getCacheList())+"&hsug="+encodeURIComponent(A())+(e.force?"&f4s=1":"")+"&csor="+getCursortPosition(jt.get(0));
e.pstg&&(l+="&pstg="+e.pstg);var m="/s?"+l;if(m+="&_cr1="+r(m),!e.no_predict)for(a=dt.find(function(e){return e.loaded||e.no_predict?void 0:!0}),t=0;t<a.length;t++)dt.deleteCache(a[t]);if(!(e.no_predict&&!e.force&&(a=dt.find(function(e){return e.force&&s.equals(e.env)?!0:void 0}),a.length>0))){if(e.force&&e.shouldShow){var p=!1,f=(new Date).getTime();if(a=dt.find(function(t){var n=s.equals(t.env);return t.loaded||t.no_predict||!n||t===e||(t.shouldShow=!1),!t.loaded&&t.no_predict&&t.force&&n&&t!==e&&(t.shouldShow=t.shouldShow||e.shouldShow,t.startTime&&f-t.startTime<2e3&&(p=!0),window.__sam_backup_request||(p=!0)),t.loaded||n?void t.pdc.mark("st"):!0
}),p)return;for(t=0;t<a.length;t++)dt.deleteCache(a[t])}var h,w=function(t,n,i){if(0==n)g(t,i),e.pdc&&(e.pdc.setParam("cus_srv",bds.se.mon.srvt),e.pdc.setParam("bsi",Cookie.get("__bsi")));else if(1==n)try{var o=1*new Date;e.b64ildata=$.parseJSON(t),e.base64.ilparseTime=1*new Date-o,e===Ft&&(e.base64.inline(e.b64ildata),e.base64.ilrenderTime=1*new Date-o),$(e).one("swap_begin",function(){this.base64.inline(this.b64ildata,this.html.get(0))})}catch(r){}else 2==n&&e.base64&&(e.base64.ilsum=t)},g=function(t,r){if(r&&"302"==r.status||t&&$.trim(t).indexOf("<div>")>10)return void(e.force?(n(11),M(s)):dt.deleteCache(e));
b(e,{ntime:(new Date).getTime()-e.startTime,res:1});var a,c="<!--data-->",d=t.indexOf(c);if(-1!=d){a=$(t.substr(0,d)),e.html=t.substr(d+c.length),window.__dom_pre_parse&&"1"==a.find("#__need_parse_dom").html()&&(e.html=$(e.html));try{var u=$.parseJSON(a.find("#img_list").text());e.base64.loadImg(u.right,u.left),e.base64_loaded=!0}catch(l){}try{i(a.find("#limg_list").text())}catch(l){}}else a=e.html=$(t);var m=parseInt(a.find("#__status").eq(0).html()),p=parseInt(a.find("#__switchtime").eq(0).html()),f=parseInt(a.find("#__redirect").eq(0).html()),h={};
try{h=$.parseJSON(a.find("#__sugPreInfo:eq(0)").html()||"{}")||{}}catch(l){}e.real_wd=a.find("#__real_wd").eq(0).text(),e.real_wd_org=a.find("#__real_wd_org").eq(0).text(),e.real_wd_nosynx=a.find("#__real_wd_nosynx").eq(0).text(),e.env&&e.env.p("nojc")&&e.real_wd_nosynx&&(e.real_wd=e.real_wd_nosynx);var w=!1;(s.p("wd")==o(jt.val())||e.force)&&e.shouldShow&&(w=!0),e.real_wd&&(e.prw=s.p("wd"),s.p("wd",e.real_wd));var g=a.find("#__queryId").html(),v=a.find("#__querySign").html();e.querySign=v,b(e,{stat:m?m:0}),bds.comm.isDebug&&$("#isDebugInfo").html(a.find("#__isDebugInfo").html()),g&&(e.qid=g);
var _=a.find("#__chk").html();if(e.chk=_?_:0,!t||!g&&!p&&!f&&!m||!v&&e.force)return e.force?(s.p("__eis",1),s.p("__eist",t?t.length:0),s.p("real_wd",e.real_wd),n(13),void M(s)):void dt.deleteCache(e);if(p>0&&N(1e3*p,!e.no_predict),-11==m){var y=dt.getCacheBySign(v);if(!y)return z({env:e.env.clone({wd:e.real_wd}),force:e.force,use_cache:!1,no_predict:!0}),void dt.deleteCache(e);y.force=e.force,D(),k(y.real_wd),q(y),dt.deleteCache(e),e=y,Ft&&e.real_wd==Ft.real_wd||(w=!0)}else{if(0>m){if(1==f&&e.force)return b(e,{redirect:1}),n(14),void M(s);
if(C(),-12==m&&h&&h.wait_time>0){var S=e.env.clone();en=setTimeout(function(){z({env:S,force:!1,use_cache:!0,no_predict:!0,shouldShow:!1,pstg:6})},h.wait_time)}return void dt.deleteCache(e)}if(m>0)return void dt.deleteCache(e)}for(var x=dt.find(function(t){return!t.loaded&&t!==e&&t.no_predict&&s.equals(t.env)?(t.shouldShow&&(w=!0),t.force&&(e.force=!0,e.no_predict=!0),!0):void 0}),T=0;T<x.length;T++)dt.deleteCache(x[T]);return e.backup_request_timeout&&clearTimeout(e.backup_request_timeout),e.loaded=!0,bds.comm.supportis||w?void((w&&e!==Ft||e.force)&&(D(),e.shouldShow=!1,-11==m?e.pdc.init():e.pdc.mark("net"),I(s,e))):!0
};h=$.ajax({dataType:"parts",url:m,headers:c,delimiter:"</*3*/>"}),h.parts(function(e,t){w(e,t,h)}),h.fail(function(t,i){e.force&&e.shouldShow&&"abort"!=i&&e.env&&(n(12),ut.replace(e.env.buildSyncSearchUrl()+"&rsv_jmp=fail")),dt.deleteCache(e)}),e.xhr=h,dt.addCache(e)}}}function E(){Lt=[],yt=0,ln=!1,clearTimeout(un)}function W(){window.index_off&&window.index_off(),It[0]!==qt[0]&&It.val(""),jt=qt,pageState=1,bds.comm.ishome=0,bds.comm.cur_query=bds.comm.query,Jt=new p,Ft={env:Jt,real_wd:bds.comm.query,force:!0,confirm:!0},h(it,function(e,t,n){return function(){var e=n?n:Ht;
e.start()}}()),$(window).trigger("index_off"),bds.util.setContainerWidth(),m(function(){$(window).trigger("swap_dom_ready")}),window.__lazy_foot_js?setTimeout(function(){j()},0):j()}function Q(e){window.index_off&&window.index_off(),It.get(0)!==qt.get(0)&&(It.val(""),qt.val(e.p("wd"))),jt=qt,pageState=1,bds.comm.ishome=0,h(it,function(t,n,i){n!==i&&(n.stop(),i.hide(),i.setKey(e.p("wd")),i.start())}),bds.util.setContainerWidth(),$(window).trigger("index_off",e)}function B(){wn=!1,gn=!1,_n=[],clearTimeout(bn),bn=!1
}function H(e){wn||(wn={x:e.pageX,y:e.pageY}),vn={x:e.pageX,y:e.pageY},gn||wn.x==e.pageX||wn.y==e.pageY||(gn=!0,_n=[wn],Y())}function Y(){_n.push(vn);var e=_n.length;if(Math.pow(vn.x-wn.x,2)+Math.pow(vn.y-wn.y,2)>=Math.pow(bt,2)||e*_t>=vt){var t=Qt,n=bds.comm.supportis?1:2;if(n&&t&&t.data()&&t.data()[0]&&t.visible()){var i=(new p).clone({wd:t.data()[0].value});z({env:i,force:!1,no_predict:!0,use_cache:!0,shouldShow:!1,pstg:1}),n--}if(n&&t&&t.data()&&t.data()[1]&&t.visible()){var i=(new p).clone({wd:t.data()[1].value});
z({env:i,force:!1,no_predict:!0,use_cache:!0,shouldShow:!1,pstg:1}),n--}if(!bds.comm.supportis&&n&&$.trim(jt.val())&&(!Ft||Ft.env.p("wd")!=$.trim(jt.val()))){var i=(new p).clone({wd:$.trim(jt.val())});z({env:i,force:!1,no_predict:!0,use_cache:!0,shouldShow:!1,pstg:1}),n--}}else bn=setTimeout(function(){Y()},_t)}document.write=document.writeln=function(){},bds&&bds.comm&&"clearissw"==bds.comm.query&&Cookie.clear("ISSW"),function(){var e=$.Deferred();bds.comm.registerUnloadHandler=function(t){e.done(t)
},bds.comm.resolveUnloadHandler=function(){e.resolve(),e=$.Deferred()}}(),window.b_rec=function(e){var t;if(e)t=navigator.userAgent;else try{t=window.external&&window.external.twGetRunPath?window.external.twGetRunPath():""}catch(n){t=""}return t=t.replace(/:/,"~").replace(/\t/,"`")},window.scr_rec=function(){var e="";try{e+=[document.body.clientWidth,document.body.clientHeight,window.screenTop,window.screenLeft,window.screen.height,window.screen.width].join("_")}catch(t){}return e},window.reh_rec=function(){var e=[],t=[];
try{$("#content_left").children(".result,.result-op").each(function(t,n){e.push($(n).height())})}catch(n){}try{$("#con-ar").children(".result,.result-op").each(function(e,n){t.push($(n).height())})}catch(n){}return e.join("_")+"|"+t.join("_")},window.onerror=function(){window.console&&console.debug&&console.debug(arguments),bds.comm.jserror=Array.prototype.slice.call(arguments).join("	"),et(bds.comm.jserror)},window.hash=function(e,t){return e?e&&!t&&Jt?Jt.p(e):void(e&&t&&Jt&&(Jt.p(e,t),ut.href=Jt.buildSearchUrl())):void 0
};var G,J,F,K,V,X,Z=!1;!function(){var e=$.globalEval;$.globalEval=function(){var t=(new Date).getTime();try{e.apply($,arguments)}catch(n){}(new Date).getTime()-t>500}}(),bds.comm.isDebug&&($('<style data-for="debug">#debug{display:none!important;}</style>').appendTo("head"),$('<div id="debug" style="display:block;position:absolute;top:30px;right:30px;border:1px solid;padding:5px 10px;z-index:10000"></div>').appendTo("#wrapper"),$(window).on("swap_end",function(e,t){if(t){var n=$("#isDebugInfo");
n.size()||(n=$('<div id="isDebugInfo"></div>').appendTo("#debug")),n.html(t.html.find("#__isDebugInfo").html());var i="<table>";for(var o in t.log)t.log.hasOwnProperty(o)&&(i+="<tr><td>"+o+"</td><td>"+encodeURIComponent(t.log[o])+"</td></tr>");i+="</table>",$("#debug").html(i)}}));var et=function(){var e;return function(t){bds.comm.isDebug&&alert(t),bds&&bds.comm&&bds.comm.js_error_monitor&&(e=new Image,e.src=bds.comm.js_error_monitor+"?"+$.param({url:ut.href,time:bds.comm.serverTime,explore:navigator.userAgent,info:t,info_type:1}))
}}();if(window.setSugKey=function(e){jt&&e&&(Ht&&Ht.setKey?Ht.setKey(e):jt.val(e))},window.getCursortPosition=function(e){var t=0;try{if(document.selection){var n=document.selection.createRange(),i=0;e&&e.value&&(i=e.value.length),n.moveStart("character",-i),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart)}catch(o){t=e.value.length}return t},bds.comm.flagTranslateResult&&($("#wrapper_wrapper").delegate(".result","mouseenter",function(){$(".c-fanyi",$(this)).show()
}),$("#wrapper_wrapper").delegate(".result","mouseleave",function(){$(".c-fanyi",$(this)).hide()}),$("#wrapper_wrapper").delegate(".result .c-fanyi","click",function(){var e=$(this).closest(".result"),t=$("h3 a:first",e),n=$(".c-abstract:first",e),i=$(".c-fanyi-abstract",e).val(0).html(),o=$(".c-fanyi-title",e).val(0).html();$(".c-fanyi-abstract",e).val(0).html(n.html()),$(".c-fanyi-title",e).val(0).html(t.html()),t.html(o),n.html(i)})),bds&&bds.comm&&bds.comm.indexSid){var tt=(""+bds.comm.indexSid).split("_");
$.inArray("28883",tt)>=0&&(window.__disable_preload=1,window.__disable_predict=1)}if(bds&&bds.comm&&bds.comm.sid){var nt=(""+bds.comm.sid).split("_");$.inArray("28883",nt)>=0&&(window.__disable_preload=1,window.__disable_predict=1)}var it=0;bds&&bds.comm&&bds.comm.sampleval&&$.inArray("sam_ecom_sug",bds.comm.sampleval)>-1&&(it="1");var ot={use_cache_repeatedly:!0,index_form:"#form",kw:"#kw",result_form:"#form"};e&&$.extend(ot,e);var rt=15,at=6e4,st=window.__confirm_timeout?window.__confirm_timeout:1e4,ct=bds.comm.supportis?4:10,dt=function(){function e(e){"object"==typeof e&&null!=e&&(e.xhr&&e.xhr.abort&&e.xhr.abort(),e.base64&&e.base64.destroy(),e.pdc&&e.pdc.destroy(),e.backspace_preload_timeout_id&&clearTimeout(e.backspace_preload_timeout_id),delete e.xhr,delete e.html)
}var t=[];return{find:function(e){return $.grep(t,e)},getCacheList:function(){var e=$.map(t,function(e){return e&&(new Date).getTime()-e.startTime>at?!1:e.querySign});return e=$.grep(e,function(e){return!!e}),e.join("	")},hasCache:function(e,n){function i(e){var i,o;return(o=e.p("wd"))?($.grep(t,function(t){return n.loaded&&!t.loaded?!1:void(e.equals(t.real_wd?t.env.clone({wd:t.real_wd}):t.env)&&(i=t))}),i?i:null):!1}n||(n={});var o=i(e);return o&&(new Date).getTime()-o.startTime>at&&(this.deleteCache(o),o=null),o
},shouldShow:function(e){if(e.force)return!0;if(!e.shouldShow&&!e.force&&e.no_predict)return!1;var t=o(jt.val());return!t||Ft&&e.env.equals(Ft.env)?!1:0==e.env.p("wd").indexOf(t)?!0:0==e.real_wd.indexOf(t)?!0:!1},getCacheBySign:function(e){var n=!1;return $.each(t,function(t,i){n||!i.loaded||i.querySign!=e||i.env.p("pn")&&0!=i.env.p("pn")||(n=i)}),n},addCache:function(n){if(-1==u(t,n)&&!n.env.p("srcid")&&!n.env.p("cq"))for(t.unshift(n);t.length>rt;)e(t.pop())},deleteCache:function(n){e(n),t=$.grep(t,function(e){return e!==n
})},deleteCacheByEnv:function(){t=$.grep(t,function(t){var n=t.env.equals(t.env);return n&&e(t),!n})},clearCache:function(){t=$.grep(t,function(t,n){return n!==Ft?(e(n),!1):!0}),t=[]}}}(),ut=document.location,lt=ut.protocol+"//"+ut.host+ut.pathname+ut.search,mt={onurlchange:function(){}};!function(){function e(){var e=ut.href.match(/#+(.*)$/);return e?e[1].replace(/\+/g,"%2B"):""}function n(){var e=ut.href.match(/\?([^#]+)/);return e?e[1].replace(/\?/g,"&"):""}function i(e,t){var n="";if("1"===window._thirdLinkSpeed&&(n="&qid="+bds.comm.queryId),window._bdlksmp>0&&(n="&bdlksmp="+window._bdlksmp),"1"===window._eclipse&&/^\/link\?/.test(t))return"wd=&eqid="+bds.comm.eqid+o(["pn","rn","ie"],e)+n;
var i=new p(a(e));return i.p("wd")?i.buildQueryString().replace(/&rsv[^=]*=[^&]*/g,"").replace(/[^a-zA-Z0-9]url=/g,"")+n:void 0}function o(e,t){var n="",i=a(t);for(var o in e)i.hasOwnProperty(o)&&(n+="&"+encodeURIComponent(i[o]));return n}function r(e){var t=new p(a(mt.getQueryString()),!0);t.hashCode()?0==pageState&&Q(t):0!=pageState?ut.replace(ut.pathname+ut.search.replace(/([?&])isidx=[^&*]&?/,"$1")):ut.search!=ut.search.replace(/([?&])isidx=[^&*]&?/,"$1")&&ut.replace(ut.pathname+ut.search.replace(/([?&])isidx=[^&*]&?/,"$1")),mt.onurlchange(t,e)
}var s="onhashchange"in window,c="onpopstate"in window;window.__disable_popstate&&(c=!1);var u=ut.pathname.length>1?ut.pathname:"/s";(navigator.userAgent.match(/MSIE (6|7)/)||document.documentMode<8)&&(s=!1,c=!1),ot.disable_popstate&&(c=!1),s||c||t();var l=function(){var t="";return function(n,i){i&&(t=i.buildQueryString(),ut.hash=t),(n||t!=e())&&(r(n),t=e())}}();mt.setUrl=function(e){c?m(!1,e):s&&l(!1,e)};var m=function(){var e=n();return function(t,i){i&&(e=i.buildQueryString(),window.history.pushState(i,"",i.buildSyncSearchUrl())),t||e!=n()?(r(t),e=n()):d()
}}();mt.getQueryString=function(){return c?n():/wd=/.test(e())?e():n()},mt.init=function(){c?!function(){var t=ut.href,n=!1;$(window).on("swap_begin",function(){n=!0}),$(window).bind("popstate",function(){(n||!t||t!=ut.href)&&m(),t=null}),$(window).bind("hashchange",function(){var t=e();/wd=/.test(t)&&ut.replace(u+"?"+t)})}():s&&($(window).bind("hashchange",function(){l()}),$(function(){l()}));var t=e();/wd=/.test(t)&&(c?(window.history.replaceState(null,"",u+"?"+t),m()):s?l():ut.replace(u+"?"+t))
},mt.support=function(){return(c||s)&&1!=Cookie.get("ISSW")&&!window.__disable_preload},mt.getLinkParams=function(t){if(!c){var o=e();return""==o&&(o=n()),i(o,t)}if("https:"===ut.protocol||"1"===window._eclipse){var r=n();return r||(r=e()),i(r,t)}return!1},mt.clickResultLink=function(e,t,n){return c?(window.history.pushState(null,"",new p(n,!0).buildSyncSearchUrl()),m(),!1):void e.attr("href",t.buildSearchUrl(n)).attr("target","_self")},mt.submit=function(e,t){setTimeout(function(){c?(window.history.pushState(e,"",e.buildSyncSearchUrl()),m(t)):s?(ut.href=e.buildSearchUrl(),l(t)):ut.href=e.buildSyncSearchUrl()
},0)},window.changeUrl=function(e){var t=new p(a(e));mt.submit(t,!0)}}(),mt.onurlchange=function(e,t){h(it,function(t){t.setKey(e.p("wd")),t.hide()}),Ot=(new Date).getTime(),jt.val(e.p("wd")),k("");var n=!0;t&&Ft&&Ft.env&&Ft.env.equals(e)&&(n=!1),z({env:e,force:!0,use_cache:n,no_predict:!0})};var pt=ot.disable?ot.disable:!1;window.__disable_preload&&(pt=!0);var ft=pt,ht=!1;window.__disable_predict&&(ht=!0);var wt=ht,gt=bds.comm.switchAddMask?bds.comm.switchAddMask:!1;gt||(gt=window.__switch_add_mask?window.__switch_add_mask:!1),gt=!0;
var vt=(bds.comm.preloadMouseMoveDistance?bds.comm.preloadMouseMoveDistance:5,300),_t=50,bt=80,yt=0,$t=0,St=function(){},xt=a(ut.search);mt.support()||(!function(){function e(){ut.hash&&ut.hash.match(/[^a-zA-Z0-9](wd|word)=/)&&ut.replace("//www.baidu.com/s?"+ut.href.match(/#(.*)$/)[1])}ut.hash.match(/[^a-zA-Z0-9](wd|word)=/)?(ut.replace("//www.baidu.com/s?"+ut.href.match(/#(.*)$/)[1]),function(){throw new Error("redirect to sync")}()):(document.getElementById("wrapper").style.display="block","onhashchange"in window?window.onhashchange=e:setInterval(e,200))
}(),ft=pt=!0);for(var Tt=Cookie.get("BAIDUID","nobdid").split(":")[0],kt=Tt.substr(0,6)+Tt.substr(Tt.length-5,5)+parseInt(99999*Math.random());kt.length<16;)kt+="0";kt=encodeURIComponent(kt);var Dt,Ct,qt,It,jt,Pt;qt=It=jt=$(ot.kw);{var Ot,Ut,Rt,zt,At,Mt,Nt=$("#wrapper_wrapper"),Lt=[];window.__async_strategy}Dt=$(ot.index_form),"_blank"==Dt.attr("target")&&(window.__disable_index_predict=!0,ft=pt=!0);var Et=Dt.serializeArray();Ct=$(ot.result_form);var Wt=(new Date).getTime();window.pageState=0;var Qt,Bt,Ht,Yt,Gt,Jt=null,Ft=null,Kt=document.location.href,Vt=!1,Xt="focus";
!function(){window.PDC_ASYNC={setParam:function(e,t){Ft&&Ft.pdc&&Ft.pdc.setParam(e,t)},setLinkData:function(t,n){e[t]=n},sendLinkLog:function(){var t="//www.baidu.com/nocache/fesplg/s.gif?log_type=linksp",n="";n+="&link_t="+((new Date).getTime()-e.click_t)+"&query="+bds.comm.queryEnc+"&qid="+bds.comm.queryId+"&linkpreload="+e.linkpreload;var i=Math.random();if(.01>i){var o=new Image,r="LINK_IMG_"+new Date;window[r]=o,o.onload=function(){delete window[r]},o.src=t+n}}};var e=(window.PDC_ASYNC.log={},{});
window.bds&&(bds.pdc=window.PDC_ASYNC)}();var Zt=function(e){function t(){if(c=1,n(),1==c){var t=new Date,o=!1,r=function(){var n=new Date,u=n-t-e,l=i();0>u&&(u=0),l||o||(a[s]=u,s=(s+1)%20),o=l,1==c&&(t=n,d=setTimeout(r,e))};d=setTimeout(r,e)}}function n(){window.clearTimeout(d)}function i(){var e=["webkit","moz","ms","o"];if("hidden"in document)return document.hidden;for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return document[e[t]+"Hidden"];return!1}function o(e){try{var t=0,n=Math.max.apply(null,e),i=10,o=60,r=4,a=40,s=Cookie.get("ispeed_lsm"),c=0,d=new Date,u=0;
d.setTime(d.getTime()+2592e6);for(var l=0;l<e.length;l++){var m=e[l];t+=m}return t=Math.round(t/e.length),n>1e3||t>150?(c=s?parseInt(s):0,c>=a-i&&a>c&&(u=1,Cookie.set("ispeed",2,document.domain,"/",d)),o>c&&(c=c+i>o?o:c+i,Cookie.set("ispeed_lsm",c,document.domain,"/",d))):(s&&parseInt(s)>a&&(r=5),s&&parseInt(s)>=r&&(parseInt(s)<=a+r&&parseInt(s)>a&&(u=2,Cookie.set("ispeed",1,document.domain,"/",d)),c=parseInt(s)-r,Cookie.set("ispeed_lsm",c,document.domain,"/",d))),u}catch(p){}return 0}function r(){return Cookie.get("ispeed")&&1==UPS.get("isSwitch")&&2==parseInt(Cookie.get("ispeed"))?!0:!1
}var a=[],s=0,c=0,d=!1,e=e||250;return{start:t,stop:function(){window.clearTimeout(d),c=0},getData:function(){return a.slice(s).concat(a.slice(0,s))},isSlow:r,monitor:o}}();bds.comm.supportis&&1==UPS.get("isSwitch")&&Zt.start();var en;if("1"===it){var tn=$.ajax({dataType:"script",cache:!0,url:1===bds.comm.logFlagSug?"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/sug/js/bdsug_async_sam_sug_efdbf72.js":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/sug/js/bdsug_async_125a126.js"});tn.done(function(){Qt=Bt=Ht=bds.se.sug({maxNum:10,withoutRich:bds.comm.supportis,withoutZhixin:!0,form:Ct[0],ipt:jt[0],cbname:"bdsugresultcb",submission:R})
})}else var nn=function(){var e=$.Deferred();return require(["@baidu/search-sug"],function(t){Qt=Bt=Ht=t({bds:bds,maxNum:10,withoutRich:bds.comm.supportis,withoutZhixin:!0,form:Ct[0],ipt:jt[0],cbname:"bdsugresultcb",submission:R}),e.resolve(Qt)}),e.promise()}();h(it,_);var on,rn,an,sn;!function(){var e,t=-1,n=0,i=-1,o=-1,a=-1,s=-1,c=0;on=function(t){if(t){a=t.pageX,s=t.pageY,e=t.target;var r=$(t.target);"submit"==r.attr("type")&&(c=1);var d=r.offset();i=a-d.left,o=s-d.top,n=(new Date).getTime()}},rn=function(i){i&&i.target==e&&(t=(new Date).getTime()-n)
},sn=function(e){bds&&bds.comm&&bds.comm.query&&(e=bds.comm.query);var n=c+"."+t+"."+i+"."+o+"."+a+"."+s;return n=r(n+e)+"."+n},an=function(){t=-1,n=0,i=-1,o=-1,a=-1,s=-1,c=0},$(window).on("confirm",function(){setTimeout(an,0)})}(),$(function(){$("#head").delegate(".index_tab_top>a,.index_tab_bottom>a,#u1>a,#u>a","mousedown",function(){return $(this).attr("name")?ns_c({fm:"behs",tab:$(this).attr("name"),query:"",un:encodeURIComponent(bds.comm.user||"")}):void 0})}),$(document).delegate("a","mousedown",function(){U(Ft,Vt,22)()
}),x({prefix:"http://www.baidu.com",regex:/^\/*(link)\?(.*)$/}),x({prefix:"//www.baidu.com",regex:/^\/*(link)\?(.*)$/}),x({prefix:"http://www.baidu.com",convertTable:{"baidu.php":"baidu.php","aladdin.php":"aladdin.php","siva.php":"siva.php","adrc.php":"adrc.php","zhixin.php":"zhixin.php"},regex:/^\/*(baidu\.php|aladdin\.php|siva\.php|adrc\.php|zhixin\.php)\?(.*)$/}),"www.baidu.com"!=ut.host&&x({prefix:"",convertTable:{"baidu.php":"baidu.php","aladdin.php":"aladdin.php","siva.php":"siva.php","adrc.php":"adrc.php","zhixin.php":"zhixin.php"},regex:/^\/*(baidu\.php|aladdin\.php|siva\.php|adrc\.php|zhixin\.php)\?(.*)$/}),x({prefix:"http://bzclk.baidu.com",regex:/^\/*(adrc\.php)\?(.*)$/}),x({prefix:"https://sp0.baidu.com/9q9JcDHa2gU2pMbgoY3K",regex:/^\/*(adrc\.php)\?(.*)$/}),"https:"==ut.protocol&&bds.comm.ishome&&!/Chrome/.test(navigator.userAgent)&&$(document).delegate("a","mousedown",function(){var e=$(this),t=e.attr("href"),n={"http://v.baidu.com":"/?fr=bd"};
n&&n.hasOwnProperty(t)&&e.attr("href",t+n[t])}),$(document).delegate("a","mousedown",function(){var e=$(this),t=e.attr("href"),n=new Image,i="//www.baidu.com/nocache/fesplg/s.gif?log_type=hm",o=Math.random();if(.01>o&&!/www\.baidu\.com\//.test(t)&&/^http/.test(t)){var r=i+"&c_url="+encodeURIComponent(t),n=new Image,a="_LOG_"+(new Date).getTime();n.onload=function(){delete window[a]},window[a]=n,n.src=r}}),mt.support()&&$(document).delegate("a","click",function(){var e=ut.protocol+"//"+ut.host;return function(){var t=$(this);
if(!(t.attr("target")&&"_self"!=t.attr("target")||t.attr("sync")&&"true"==t.attr("sync"))){var n=$.trim(t.attr("href"));if(n&&0==n.indexOf(e)&&(n=n.substring(e.length)),n&&(matched=n.match(/^\/*s\?(.*)/)),n&&matched){var i=a(matched[0]);if(i.pn||(i.pn=""),u(["baidurt","baiduwb","baidufir","SE_baiduxueshu_c1gjeupa"],i.tn)<0){var o=t.parents("#con-at");o.size()>0&&s({top:o.offset().top+o.height()});var r=mt.clickResultLink(t,Jt,i)}return r}}}}()),$(document).delegate("a","mousedown",function(e){on(e)
}),$(document).delegate("a","mouseup",function(e){rn(e)}),$(document).delegate("#su,#su1","mouseup",function(e){rn(e)}),$(document).delegate("#su,#su1","mousedown",function(e){on(e)}),!function(){var e;window._bdlkc>=1&&($(document).delegate(".c-container","mouseenter",function(){return function(){var t=$(this),n=300;2==window._bdlkc&&(n=100),e=setTimeout(function(){var e=t.find(".t>a"),n=T(e,{prefix:"http://www.baidu.com",regex:/^\/*(link)\?(.*)$/}),i=t.attr("mu")||t.find(".f13 .g").text(),o=/^(http[s]?:\/\/)?([^\/]+)(.*)/,r=i.match(o);
n&&n.match(ut.protocol)&&/www\.baidu\.com\/link/.test(n)&&!/bdlkc=1/.test(n)&&(r[2]&&(i="http://"+r[2],t.append('<link rel="dns-prefetch" href="'+i+'" />')),$.ajax({url:n+"&bdlkc=1",type:"GET",contentType:"text/html",success:function(){e.attr("linkpreload","1")}}),e.attr("href",n+"&bdlkc=1"))},300)}}()),$(document).delegate(".c-container","mouseleave",function(){return function(){clearTimeout(e)}}()))}();{var cn=$("body");document.title}!function(e){var t;e.fn.textWidth=function(){t||(t=e('<div data-for="result" style="clear:both;display:block;visibility:hidden;position:absolute;top:0;"><span style="width;inherit;margin:0;font:16px/22px arial;"></span></div>').appendTo("body").find("span")),t.html(escapeHTML(e(this).val()));
var n=t.width();return n}}(jQuery);var dn=!1;$(window).on("swap_dom_ready",function(e,t){var n="";!t||!t.real_wd||t.no_predict&&6!=t.pstg||(n=t.real_wd),k(n),q(t)}),$(window).on("swap_end",function(e,t){t&&(window.cfpromise=new $.Deferred,At&&(clearTimeout(At),At=!1,Mt=null),t.confirm=!1,t.force?U(t,Vt,20)():(Mt=U(t,Vt,21),At=setTimeout(Mt,st)))}),$(window).on("indexOff",function(e,t){h(it,function(){k(t.p("wd"))})}),mt.support()&&"_blank"!=Dt.attr("target")&&h(it,function(e){e.setMaxNum(ct)});var un,ln=!1,mn=!1;
Ct.mousedown(function(){mn=!1}).delegate("a,input","focus",function(){mn=!1});var pn,fn,hn;$(window).on("swap_end",function(e,t){t||(bds.comm.confirmQuery=bds.comm.query,bds.comm.confirmQid=bds.comm.qid,y()),hn=setTimeout(function(){0==$("#content_left,.result,.content_none").length&&n(15,86400)},1e4)}),mt.init(),$(function(){var e=$("script").last(),t=$("head");St=function(){e.nextAll().not("[data-for]").not("#passport-login-pop").remove(),t.find("*").not("[data-for]").not("meta").not("title").not("script[async]").not('link[href*="passport"]').not('link[rel*="icon"]').not('link[rel*="shortcut icon"]').remove()
}}),bds.comm.resultPage&&W(),Nt.delegate("#page strong+a,#page a.n","mouseover",function(){z({env:new p(a($(this).attr("href"))),force:!1,use_cache:!0,no_predict:!0,shouldShow:!1,pstg:4})});var wn,gn,vn,_n,bn;h(it,function(){$(document).mousemove(H)}),$("#u .back_org").click(function(){var e=new Date;e.setTime((new Date).getTime()+110376e7),Cookie.set("ORIGIN",2,document.domain,"/",e),Jt?ut.replace(Jt.buildSyncSearchUrl({_r:Math.random()})):ut.href="/"}),$(window).scroll(function(){var e,t=$("#head"),n=$(window),i=40,o=t.offset().top,r=function(){e&&(clearTimeout(e),e=!1),e=setTimeout(function(){var r=n.scrollTop();
r>i+o?e=setTimeout(function(){t.addClass("s_down"),h(it,function(){Ht.hide()})},0):i+o>=r&&(e=setTimeout(function(){t.removeClass("s_down")},0))},50)};return r(),r}()),jt.bind("paste",function(){if(!(window.__disable_index_predict&&0==pageState||pt||ht)){var e=this,t=this.value;Gt=!0,setTimeout(function(){e.value&&e.value!=t&&z({env:(new p).clone({wd:$.trim(e.value)}),force:!1,use_cache:!0,no_predict:!0,shouldShow:bds.comm.supportis,pstg:2})},0)}})};

function addEV(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):window.addEventListener&&e.addEventListener(t,n,!1)}!function(A){function clickDebug(){}function bindP5(){var item,index=(bds.comm.pageNum-1)*bds.comm.pageSize+1,leftItems=contentLeft&&contentLeft.children||[],rightItems=contentRight&&contentRight.children||[],topItems=contentTop&&contentTop.children||[],isResult=function(e){return 1==e.nodeType&&e.className&&/\bresult(\-op)?\b/.test(e.className)},isFrame=function(e){return 1==e.nodeType&&e.className&&/\bc\-frame\b/.test(e.className)
},setClickData=function(wrap,data){var sData=wrap.getAttribute("data-click")||"{}";try{var oData=eval("("+sData+")");sData=$.stringify($.extend(oData,data)),wrap.setAttribute("data-click",sData)}catch(e){clickDebug(e)}},bindP5ClickData=function(e){for(var t=0,n=e.length;n>t;t++)if(item=e[t],isResult(item))setClickData(item,{p5:index++});else if(isFrame(item))try{for(var i=item.children[0].children,a=0,r=i.length;r>a;a++){var s=i[a];isResult(s)&&setClickData(s,{p5:index++})}}catch(o){clickDebug(o)
}index=(bds.comm.pageNum-1)*bds.comm.pageSize+1};bindP5ClickData(leftItems),bindP5ClickData(rightItems),bindP5ClickData(topItems)}function getXPath(e,t,n){if(n=n||[],t=t||document,e===t)return n;if(e.parentNode!==t&&(n=getXPath(e.parentNode,t,n)),e.previousSibling){var i=1,a=e.previousSibling;do 1==a.nodeType&&a.nodeName==e.nodeName&&i++,a=a.previousSibling;while(a)}return 1==e.nodeType&&n.push(e.nodeName.toLowerCase()+(i>1?i:"")),n}function bindLogEvent(){$body=$("body"),$body.on("mousedown",function(e){var e=window.event||e,t=e.srcElement||e.target,n=$(t);
try{for(var i,a,r=n;r.length&&!(r.hasClass("result")||r.hasClass("result-op")||r.hasClass("xpath-log"));)r=r.parent();if(!r.length)return;r.hasClass("result-op")?i="alop":r.hasClass("result")&&(i="as"),a=r.get(0);var s=getXPath(t,a);check(s,t,a)&&log(s,t,a,i)}catch(e){clickDebug(e)}})}function getType(e,t,n){fixPcTypeNode(t,n);for(var i=t,a=Object.getOwnPropertyNames(LOG_CLASS).map(function(e){return LOG_CLASS[e]}),r=a.length,s=C_LOG_CLASS,o=s.length,c=e.join(" "),l=0;i!==n;){for(l=0;r>l;l++)if($(i).hasClass("OP_LOG_"+a[l]))return a[l].toLowerCase();
for(l=0;o>l;l++)if($(i).hasClass("c-"+s[l]))return s[l];i=i.parentNode}return/\bh3\d*\b/.test(c)?"title":/\ba\d*\b/.test(c)?/\bimg\d*\b/.test(c)?"img":"link":/\b(input|select|button|textarea|datalist)\d*\b/.test(c)?"input":/\blabel\d*\b/.test(c)&&t.getElementsByTagName("input").length>0?"input":""}function fixPcTypeNode(e,t){for(var n=null,i="",a="";e!==t&&null===n;)i=$(e).attr("class")||"",i.replace(new RegExp(".*("+wiseClassPrefix+"\\w+).*"),function(e,t){a=t}),a&&(n=e),e=e.parentNode;var r=i.replace(a,""),s="",o="";
if(a&&i!==a){switch(s=a.replace(wiseClassPrefix,"")){case WISE_LOG_CLASS.TAB:o=LOG_CLASS.BTN;break;case WISE_LOG_CLASS.BTN:o=LOG_CLASS.BTN;break;case WISE_LOG_CLASS.SF:o=LOG_CLASS.LINK;break;case WISE_LOG_CLASS.MSC:o=LOG_CLASS.BTN;break;case WISE_LOG_CLASS.VD:o=LOG_CLASS.BTN;break;case WISE_LOG_CLASS.OTHER:o=LOG_CLASS.OTHERS;break;default:o=LOG_CLASS.OTHERS}$(n).attr("class",r+" "+classPrefix+o)}}function check(e,t,n){return A.LOGTOOL?(A.LOGTOOL.call(t,e,t,n),!1):!0}function log(e,t,n,i){if(null==t.getAttribute("data-nolog")){var a=getType(e,t,n);
if(!a)return!1;if("title"==a&&!/\ba\d*\b/.test(e))return!1;var r="http://nourl.ubs.baidu.com",s=n.getAttribute("mu")||r;if(s==r){var o=n.getElementsByTagName("h3");if(o&&o[0]){var c=o[0].getElementsByTagName("a");s=c&&c[0]?c[0].href:s}}var l,d=e.length,u=t,f=n.getAttribute("srcid"),p="",m=1==t.nodeType?t.tagName.toLowerCase():"";if("input"==a)if(/input|textarea/.test(m))p=t.value,t.type&&"password"==t.type.toLowerCase()&&(p="");else if(/select|datalist/.test(m)){if(t.children.length>0){var g=t.selectedIndex||0;
p=t.children[g>-1?g:0].innerHTML}}else p=t.innerHTML||t.value||"";else if("img"==m&&(p=t.title),!p)for(;d>0;){if(d--,/^a\d*\b/.test(e[d])){if(l=u.href,p=u.innerHTML,null!=u.getAttribute("data-nolog"))return;break}if(u.className&&/OP_LOG_/.test(u.className)){p=u.innerHTML;break}u=u.parentNode}p=$.trim(p),l&&"#"!==l.slice(-1)&&/^http/.test(l)||(l=s);var b={rsv_xpath:e.join("-")+"("+a+")",title:p,url:l,rsv_height:n.offsetHeight,rsv_width:n.offsetWidth,rsv_tpl:n.getAttribute("tpl")},h={url:1,title:1};
n.id&&n.id.match(/^\d+$/)&&(b.p1=n.id),f&&(b.rsv_srcid=f);var L,S,w;u=t;do{if(null!=u.getAttribute("data-nolog"))return;if(L=u.getAttribute("data-click"))try{L=new Function("return "+L)();for(S in L)"fm"==S&&null===L.fm&&(w=!0),L.hasOwnProperty(S)&&("undefined"==typeof b[S]||h[S])&&(b[S]=L[S])}catch(T){clickDebug(T)}u=u.parentNode}while(u&&u!==n.parentNode);for(var _ in b)null===b[_]&&delete b[_];if("title"==a?"mu"in b&&delete b.mu:b.mu||(b.mu=s),w)"fm"in b&&delete b.fm;else if("input"==a&&(b.fm="beha",b.url=r),b.fm||(b.fm=i),!b.fm)return;
window.c(b)}}var baidu=window.baidu,classPrefix="OP_LOG_",wiseClassPrefix="WA_LOG_",LOG_CLASS={TITLE:"TITLE",LINK:"LINK",IMG:"IMG",BTN:"BTN",INPUT:"INPUT",OTHERS:"OTHERS"},WISE_LOG_CLASS={TAB:"TAB",BTN:"BTN",SF:"SF",MSC:"MSC",VD:"VD",OTHER:"OTHER"},C_LOG_CLASS=["btn"],contentLeft,contentRight,contentTop;window.initResultClickLog=function(){if(contentLeft=$("#content_left").get(0),contentRight=$("#con-ar").get(0),contentTop=$("#con-at").get(0),A.has){var e,t=$(".result-op").get();$.each(t,function(t,n){(e=n.getAttribute("srcid"))&&A.ids.push([n.id,e])
})}bindP5()},$(document).ready(function(){bindLogEvent()})}(window.bds.aladdin);for(ai in al_arr)al_arr[ai]();$(document).ready(function(){var e;$(document).on("click",".t>a,.op-se-listen-recommend",function(t){t=window.event||t;var n=$("#wrapper_wrapper"),i=$(this).closest(".c-container"),a=i.length?i.find(".c-recommend").eq(0):[],r=i.length?i.find(".wnor-fanli-wrap"):[];!t.ctrlKey&&(a.length&&"none"===a.css("display")||r.length&&"none"===r.css("display"))&&(e=setTimeout(function(){n.find(".c-recommend").hide(),a.show(),n.find(".wnor-fanli-wrap").hide(),r.show()
},150))}),$(window).on("swap_begin",function(){this.clearTimeout(e)})}),window.onunload=function(){},bds.se.openime=function(e){window.bdime?openIme.set("py",!0):$.ajax({cache:!0,dataType:"script",url:"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/ime_c5abb66.js",success:function(){e&&openIme.set("py",!0)}})},function(){/\bbdime=[12]/.test(document.cookie)||$(window).one("swap_end",function(){})}();;
bds&&bds.comm&&!bds.comm.containerSize&&(bds.comm.containerSize="s"),bds.util.setContainerWidth=function(){var e=$("#container"),n=$("#wrapper"),r=bds.util.getWinWidth(),s=bds.comm.containerSize;if(1217>r)e.removeClass("container_l container_xl").addClass("container_s"),n.removeClass("wrapper_l").addClass("wrapper_s"),bds.comm.containerSize="s";else{if(!(r>=1217))return;e.removeClass("container_s container_xl").addClass("container_l"),n.removeClass("wrapper_s").addClass("wrapper_l"),bds.comm.containerSize="l"
}s!=bds.comm.containerSize&&$(window).trigger("container_resize",bds.comm.containerSize)};;
bds.util.setFootStyle=function(){this.init(),this.bindEvent()},$.extend(bds.util.setFootStyle.prototype,{ie6:bds.comm.upn&&"msie"===bds.comm.upn.browser&&6==bds.comm.upn.ie,init:function(){var t=$("#foot");if(t.addClass("foot_fixed_bottom"),this.ie6){var o=$(window).height()+$(window).scrollTop()-t.outerHeight(!0);t.css("top",o+"px")}},setFixedIe6:function(){var t=$("#foot"),o=$(window).height()+$(window).scrollTop()-t.outerHeight(!0);t.css("top",o+"px")},bindEvent:function(){var t=this;t.ie6&&$(window).on("resize.setFootStyle, scroll.setFootStyle",function(){t.setFixedIe6()
})}});;
var bds=bds||{};bds.se=bds.se||{},bds.se.tip=bds.se.tip||{},bds.comm.tipZIndex=220,bds.comm.tips=[],bds.se.tip=function(t){this.init=function(){this.op={target:t.target||{},mode:t.mode||"over",title:t.title||null,content:t.content||null,uncontrolled:t.uncontrolled?!0:!1,arrow:{has:1,offset:10,r:!1,c:!1},close:t.close||0,align:t.align||"left",offset:{x:10,y:20},arrowSize:16},t.arrow&&(this.op.arrow.has=0==t.arrow.has?0:1,this.op.arrow.offset=t.arrow.offset>=0?t.arrow.offset:10,this.op.arrow.r=t.arrow.r,this.op.arrow.c=t.arrow.c),t.offset&&(this.op.offset.x=t.offset.x||0==t.offset.x?t.offset.x:10,this.op.offset.y=t.offset.y||0==t.offset.y?t.offset.y:20),this.ext=t.ext||{},this.dom=$("<div>",{"class":"c-tip-con"}),this.visible=!1,this.rendered=!1,this.isAuto="auto"===this.op.align?!0:!1,this.bindEvent()
},this.render=function(){this.op.close&&this.enableCloseIcon(),this.op.title&&this.setTitle(this.op.title),this.op.content&&this.setContent(this.op.content),this.op.arrow.has&&this.enableArrow(),$("#c-tips-container").append(this.dom)},this.bindEvent=function(){if(this.delay={overIcon:null,outIcon:null,overDom:null,outDom:null},"over"==this.op.mode){var t=this;$(t.op.target).on("mouseenter",function(){window.clearTimeout(t.delay.outIcon),window.clearTimeout(t.delay.outDom),t.delay.overIcon=setTimeout(function(){t.show()
},200)}),t.dom.on("mouseenter",function(){window.clearTimeout(t.delay.outIcon),window.clearTimeout(t.delay.outDom),t.delay.overDom=setTimeout(function(){t.show()},200)}),$(t.op.target).on("mouseleave",function(){window.clearTimeout(t.delay.overIcon),window.clearTimeout(t.delay.overDom),t.delay.outIcon=setTimeout(function(){t.hide()},200)}),t.dom.on("mouseleave",function(){window.clearTimeout(t.delay.overIcon),window.clearTimeout(t.delay.overDom),t.delay.outIcon=setTimeout(function(){t.hide()},200)
})}else if("none"==this.op.mode){var t=this;t.show()}},this.enableArrow=function(){if(this.op.arrow.r)var t=$("<div>",{"class":"c-tip-arrow"}).html("<em></em><ins class='c-tip-arrow-r'></ins>").appendTo(this.dom);else if(this.op.arrow.c)var t=$("<div>",{"class":"c-tip-arrow"}).html("<em></em><ins class='c-tip-arrow-c'></ins>").appendTo(this.dom);else var t=$("<div>",{"class":"c-tip-arrow"}).html("<em></em><ins></ins>").appendTo(this.dom);this.arrow=t},this.enableCloseIcon=function(){var t=this,o=$("<div>",{"class":"c-tip-close"}).html("<i class='c-icon c-icon-close'></i>").appendTo(this.dom).click(function(){t.hide()
});this.close=o},this.setTitle=function(t){if(t.nodeType)var o=$("<h3>",{"class":"c-tip-title"}).append(t).appendTo(this.dom);else var o=$("<h3>",{"class":"c-tip-title"}).html(t).appendTo(this.dom);this.title=o},this.setContent=function(t){var o=$("<div>").html(t).appendTo(this.dom);this.content=o},this.setArrow=function(t){if(t&&t.offset>=0&&(this.op.arrow.offset=t.offset),this.op.arrow.has&&this.arrow)switch(this.op.align){case"left":this.arrow.css({left:this.op.arrow.offset+"px"});break;case"right":this.arrow.css({right:this.op.arrow.offset+16+"px"})
}},this.setOffset=function(t){switch(t&&(this.op.offset.x=t.x||0==t.x?t.x:this.op.offset.x,this.op.offset.y=t.y||0==t.y?t.y:this.op.offset.y),this.op.align){case"left":var o=$(this.getTarget()).offset();this.getDom().css({top:o.top+this.op.offset.y+"px",left:o.left-this.op.offset.x+"px"});break;case"right":var o=$(this.getTarget()).offset();this.getDom().css({top:o.top+this.op.offset.y+"px",left:o.left+this.op.offset.x+$(this.getTarget()).width()-this.getDom().width()+"px"})}},this.autoOffset=function(){var t,o={w:this.dom.outerWidth(),h:this.dom.outerHeight()},s=$(this.getTarget()),e=s.offset(),i={w:s.outerWidth(),h:s.outerHeight()},r=$(window),h=r.scrollTop(),n={w:r.width(),h:r.height()},a={left:0,top:0},f={};
n.h+h-i.h-e.top>o.h?(a.top=i.h+e.top+this.op.arrowSize/2,this.arrow&&this.arrow.removeClass("c-tip-arrow-down")):e.top-h>o.h?(a.top=e.top-o.h-this.op.arrowSize/2,this.arrow&&this.arrow.addClass("c-tip-arrow-down")):(a.top=i.h+e.top+this.op.arrowSize/2,this.arrow&&this.arrow.removeClass("c-tip-arrow-down")),t=e.left+i.w/2-this.op.arrow.offset-this.op.arrowSize/2,a.left=t,a.left>0&&a.left+o.w>n.w?(a.left=e.left+i.w/2-o.w+this.op.arrow.offset+this.op.arrowSize/2,f.right=this.op.arrow.offset+this.op.arrowSize,f.left="auto",a.left<0&&(a.left=t,f.left=this.op.arrow.offset,f.right="auto")):(f.left=this.op.arrow.offset,f.right="auto"),this.dom.css(a),this.arrow&&this.arrow.css(f)
},this.enable=function(){},this.disable=function(){},this.destroy=function(){},this.show=function(){this.visible||(this.onShow(),this.rendered||(bds.comm.tips.push(this),this.render(),this.rendered=!0),this.isAuto?this.autoOffset():(this.setOffset(),this.setArrow()),this.dom.css({"z-index":bds.comm.tipZIndex}),bds.comm.tipZIndex++,this.dom.css({display:"block"}),this.visible=!0)},this.hide=function(){this.visible&&(this.dom.css({display:"none"}),this.onHide(),this.visible=!1)},this.onShow=t.onShow||function(){},this.onHide=t.onHide||function(){},this.getTarget=function(){return this.op.target
},this.getDom=function(){return this.dom},this.init()},bds.event.trigger("se.api_tip_ready"),$(document).mousedown(function(t){t=t||window.event;for(var o=t.target||t.srcElement;o&&o.tagName&&o!=document.body&&"html"!=o.tagName.toLowerCase()&&"c-tip-con"!=o.className;)o=o.parentNode;o&&"c-tip-con"!=o.className&&$(bds.comm.tips).each(function(){this.op.uncontrolled||this.op.close&&this.hide()})});;
var sethfPos=sethfPos||0;!function(){function t(t){if(t){var e=t.parentNode;e&&(e.style.marginBottom="20px",e.style.marginTop="2px")}}var e="//www.baidu.com/",r=-1!=navigator.userAgent.indexOf("MSIE")&&!window.opera,s=(100*Math.random(),"百度一下，你就知道"),n="";if(window.fa=function(t){try{window.sidebar?window.sidebar.addPanel(s,e,""):window.opera&&window.print?(t.setAttribute("rel","sidebar"),t.setAttribute("href",e),t.setAttribute("title",s),t.click()):window.external.AddFavorite(e,s)}catch(r){}},r)try{var o=/se /gi.test(navigator.userAgent),a=/AppleWebKit/gi.test(navigator.userAgent)&&/theworld/gi.test(navigator.userAgent),i=/theworld/gi.test(navigator.userAgent),g=/360se/gi.test(navigator.userAgent),f=/360chrome/gi.test(navigator.userAgent),d=/greenbrowser/gi.test(navigator.userAgent),w=/qqbrowser/gi.test(navigator.userAgent),h=/tencenttraveler/gi.test(navigator.userAgent),u=/maxthon/gi.test(navigator.userAgent),v=/krbrowser/gi.test(navigator.userAgent),c=!1;
try{c=+external.twGetVersion(external.twGetSecurityID(window)).replace(/\./g,"")>1013}catch(l){}if(o||c||a||i||g||f||d||w||h||u||v){var A=document.getElementById(sethfPos?"set_f":"setf");A&&sethfPos&&(t(A),n="favorites")}else{var m=document.getElementById(sethfPos?"set_f":"setf");m&&sethfPos&&(t(m),n="home"),m.setAttribute("onClick","h(this)"),m.setAttribute("onmousedown","return ns_c({'fm':'behs','tab':'homepage','pos':0})"),m.href="/",m.target="_self",m.id="seth"}}catch(l){}else{var A=document.getElementById(sethfPos?"set_f":"setf");
sethfPos&&(t(A),n="favorites")}n&&sethfPos&&ns_c({fm:"sethf_show",tab:n})}();;
function user_c(s){var n="",o="",e="",t="",i=encodeURIComponent(window.document.location.href),c=window["BD_PS_C"+(new Date).getTime()]=new Image,a=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com";for(v in s){switch(v){case"title":e=encodeURIComponent(s[v].replace(/<[^<>]+>/g,""));break;case"url":e=encodeURIComponent(s[v]);break;default:e=s[v]}n+=v+"="+e+"&"}return t="&mu="+i,c.src=a+"/v.gif?pid=201&pj=psuser&"+n+"path="+i+"&wd="+o+"&t="+(new Date).getTime(),!0
}function initPassV3(){var s=bds.comm.passnew?3:2,n=bds.comm.ishome?-1:5;bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"mn",u:window.document.location.href,safeFlag:0,qrcode:s,staticPage:location.protocol+"//www.baidu.com/cache/user/html/v3Jump.html",sms:n},cache:!1,tangram:!0,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:location.protocol+"//www.baidu.com/cache/user/html/xd.html",onBindSuccess:function(s,n){var o=decodeURIComponent(n.passport_uname||n.displayname);
return bds.se.login.success(o),!1}},onLoginSuccess:function(s){s.returnValue=!1;var n=s.rsp.data.userName||s.rsp.data.mail||s.rsp.data.phoneNumber;bds.se.login.success(n)},onSubmitStart:function(){},onSubmitedErr:function(){},onSystemErr:function(){},onShow:function(){},onHide:function(){bds.se.login.setSubpro(""),bds.se.login.setMakeText("")},onDestroy:function(){}})}bds.se.loginCallbackFunc=null,bds.se.login=function(){var s="",n=!1,o="",e=function(s){var n=s||bds.comm.user;n&&$("#lb").replaceWith('<a href="http://i.baidu.com" class="username">'+escapeHTML(bds.comm.username)+'<i class="c-icon"></i></a>')
},t=function(e){n?(bds.se.passv3.setSubpro(s),bds.se.passv3.setMakeText(o),bds.se.loginCallbackFunc=e||function(){window.document.location.reload(!0)},bds.se.passv3.show()):$.getScript(location.protocol+"//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){initPassV3(),n=!0,bds.se.passv3.setSubpro(s),bds.se.passv3.setMakeText(o),bds.se.loginCallbackFunc=e||function(){window.document.location.reload(!0)},bds.se.passv3.show()})},i=function(s){if(bds.comm){bds.comm.user=s,bds.comm.username=s,window.bdUser=s,bds.se.passv3.hide(),bds.se.loginCallbackFunc.call(window,1,s);
for(var n=0;n<bds.comm.loginAction.length;n++)bds.comm.loginAction[n].call(window,1,s)}},c=function(n){s=n},a=function(s){o=s};return{setUserInfo:e,open:t,success:i,setSubpro:c,setMakeText:a}}(),window._invoke_login=function(s,n){bds.se.login.open(s,n)};;
function isp_hijack(t){var e,o,n,i=document.getElementById("wrapper"),a=!1;bds.comm.query||(a=!0),1==t.stat&&(e=document.createElement("div"),e.innerHTML='<div style="zoom:1;_margin-left:1024px;"><div style="position:relative;_float:left;_margin-left:-1024px;"><div style="width:100%;min-width:1024px;"><div style="border:2px solid #fd9162;zoom:1;overflow:hidden;padding:0 0 6px 12px;"><div style="position:relative;width:100%;*overflow:auto;padding-top:10px;"><div style="height:18px;margin-bottom:6px;"><i class="c-icon" style="width:18px;height:18px;background-position:-168px -72px;"></i><strong style="display:inline-block;margin-left:8px;font-size:14px;color:#666;">百度提示您：</strong></div><span style="display:block;color:#333;text-indent:26px;font-size:13px;">我们发现当前您可能受到异常广告弹窗的影响，通常这是受第三方恶意劫持导致。使用 <a href="http://shadu.baidu.com/landingpage/competing.html?from=10064" target="_blank" style="color:#0000D0;text-decoration:underline">防恶意广告专版杀毒软件</a>，可有效改善您的上网体验，免受恶意广告的困扰。</span><a id="isp-close-btn" style="display:inline-block;width:9px;height:9px;position:absolute;top:6px;right:6px;background:url(https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/wsCloseBtn2_0047ae2.png) no-repeat;" href="javascript:void(0);"></a></div></div></div></div></div>',a?i.insertBefore(e,i.children[0]):(i.style.position="relative",document.getElementById("u").style.top=0,e.style.margin="-6px 0 8px 0",document.body.insertBefore(e,i)),o=document.getElementById("isp-close-btn"),n=o.parentNode.getElementsByTagName("a")[0],o.onclick=function(){a?i.removeChild(e):(document.body.removeChild(e),i.style.position="",document.getElementById("u").style.top="4px")
},o.onmousedown=function(){ns_c({fm:"behs",tab:"tj_notice",cont:"jcbro",action:"close",area:"topbar"})},n.onmousedown=function(){ns_c({fm:"behs",tab:"tj_notice",cont:"jcbro",action:"click",area:"topbar"})},ns_c({fm:"behs",tab:"tj_notice",cont:"jcbro",action:"show",area:"topbar"}))}!function(){function t(){var t,e="http://isphijack.baidu.com/index.php?cb=isp_hijack",o=[];if(top.location!=self.location){try{for(var n=top.document.getElementsByTagName("frame"),i=top.document.getElementsByTagName("iframe"),a=0;a<n.length;a++)o.push(n[a].getAttribute("src"));
for(var a=0;a<i.length;a++)o.push(i[a].getAttribute("src"))}catch(c){}ns_c({fm:"frm",top:encodeURIComponent(top.location.href),furls:encodeURIComponent(o.join("|"))}),o&&(t=document.createElement("script"),t.src=e+"&urls="+encodeURIComponent(o.join("|"))+"&t="+ +new Date,document.body.appendChild(t))}}$(t)}();;
try{window.console&&window.console.log&&(console.log("你在电脑前看这段文字，\n写文字的人在百度等你。\nN年前你来到了这个世界，\nN年后你想改变世界。\n\n期待你脚踏祥云，\n与百度一起改变世界。\n"),console.log("%c百度2020校园招聘简历提交：http://dwz.cn/XpoFdepe","color:red"))}catch(e){};
var bds=bds||{};bds.se=bds.se||{},bds.se.tool=bds.se.tool||{},bds.comm.host={bfe:"//www.baidu.com/tools",favo:bds.util.domain&&bds.util.domain.get?bds.util.domain.get("http://i.baidu.com"):"http://i.baidu.com",share:bds.util.domain&&bds.util.domain.get?bds.util.domain.get("http://bdimg.share.baidu.com/static/api/js/custom/resultshare.js"):"http://bdimg.share.baidu.com/static/api/js/custom/resultshare.js",report:"http://jubao.baidu.com",koubei:"http://koubei.baidu.com"},bds.se.tool=function(item){this.init=function(){this.render()
},this.render=function(){var ops=eval("("+item.getAttribute("data-tools")+")"),toolsDom=$("<div>",{"class":"c-tip-menu"}),toolsList=$("<ul>"),toolsFavo=$("<li>"),toolsFavoLink=$("<a>").html("收藏");toolsFavoLink.on("mousedown",function(){bds.se.tool.favo(ops,item.getAttribute("id")),ns_c({fm:"tools",tab:"favo"})}),toolsFavoLink.on("mouseover",function(){$(this).css("background-color","#ebebeb")}),toolsFavoLink.on("mouseout",function(){$(this).css("background-color","#fff")}),toolsFavo.append(toolsFavoLink),toolsList.append(toolsFavo);
var toolsShare=$("<li>"),toolsShareLink=$("<a>").html("分享");toolsShareLink.on("mousedown",function(){bds.se.tool.share(ops,item),ns_c({fm:"tools",tab:"share"})}),toolsShareLink.on("mouseover",function(){$(this).css("background-color","#ebebeb")}),toolsShareLink.on("mouseout",function(){$(this).css("background-color","#fff")}),toolsShare.append(toolsShareLink),toolsList.append(toolsShare);var officalLogo=$($(item).closest(".c-container").find("h3.t").children()[1]),vLogo=$(item).parent().find(".vstar"),baoFlag=$(item).parent().find(".c-trust-as.c-icon-baozhang-new"),isOffical=0,vLevel=0;
officalLogo&&"官方"==officalLogo.html()&&(isOffical=1),vLogo&&vLogo.attr("hint-data")&&(vLevel=$.parseJSON(vLogo.attr("hint-data")).hint[0].vlevel),baoFlag.length>0&&(vLevel=8);var toolsReport=$("<li>").html("<a target=\"_blank\" onmousedown=\"ns_c({'fm': 'tools','tab':'report'})\" href=\""+bds.comm.host.bfe+"?url="+encodeURIComponent(ops.url)+"&jump="+encodeURIComponent(bds.comm.host.report+"/jubao/accu/?title="+encodeURIComponent(ops.title)+"&q="+encodeURIComponent(bds.comm.query)+"&has_gw="+isOffical+"&has_v="+vLevel)+'&key=surl">举报</a>');
toolsList.append(toolsReport),toolsDom.append(toolsList);var tTip=new bds.se.tip({target:$(".c-icon",item)[0],mode:"none",align:"left",offset:{x:33},arrow:{has:1,offset:30},content:toolsDom,ext:{category:"tools"}});tTip.onShow=function(){ns_c({fm:"tools",tab:"show"})}},this.init()},bds.se.tool.share=function(o,t){this.op=o||{},this.init=function(o,t){$.getScript(bds.comm.host.share,function(){$(bds.comm.tips).each(function(){this.op.uncontrolled||this.hide()});var s=new bds.se.tip({target:$(".c-icon",t)[0],mode:"none",offset:{x:33},arrow:{has:0},close:1,content:'<div class="c-tools-share" style="width:200px;"></div>'}),e=$(".c-tools-share",s.dom.get(0))[0];
__bdshare.render({boxEle:e,url:o.url,txt:o.title+" -- 分享自百度搜索"})})}(this.op,t)},bds.se.tool.favo=function(o,t){if(this.op=o||{},this.init=function(o,t){if(o){var s=document.createElement("script"),e=bds.comm.host.bfe,i=bds.comm.host.favo;s.src=e+"?url="+encodeURIComponent(o.url)+"&jump="+encodeURIComponent(i+"/myfavorite/set?irt=1&t="+encodeURIComponent(o.title)+"&id="+encodeURIComponent(t)+"&c=bds.se.tool.favo.succ")+"&key=url",document.body.appendChild(s)}},bds.comm.user)this.init(this.op,t);else if(bds.se.login&&bds.se.login.open){var s=this;
bds.se.login.open(function(o){1==o&&s.init(s.op,t)})}},bds.se.tool.favo.succ=function(json){if(json.suc){if(json.status)switch(json.status){case 302:bds.se.login&&bds.se.login.open&&bds.se.login.open(function(stat,user){1==stat&&bds.se.tool.favo(eval("("+$("#"+json.id)[0].getAttribute("data-tools")+")"),json.id)});break;case 5:var succContent='<div class="c-tip-notice">';succContent+='<h3 class="c-tip-notice-fail">收藏失败，请稍后再试</h3>',succContent+="</div>"}}else if(json.status){var succContent='<div class="c-tip-notice">';
switch(succContent+='<h3 class="c-tip-notice-succ">已收藏至：</h3>',succContent+="<ul>",json.status){case 2:succContent+='<li class="c-tip-item-succ"><i class="c-icon c-icon-success"></i>个人中心“<a href="http://i.baidu.com/my/collect" target="_blank">我的收藏</a>”</li>',succContent+='<li class="c-tip-item-succ"><i class="c-icon c-icon-success"></i>百度首页“<a href="http://www.baidu.com" target="_blank">我的导航</a>”</li>';break;case 3:succContent+='<li class="c-tip-item-succ"><i class="c-icon c-icon-success"></i>个人中心“<a href="http://i.baidu.com/my/collect" target="_blank">我的收藏</a>”</li>',succContent+='<li class="c-tip-item-fail"><i class="c-icon c-icon-fail"></i>百度首页“<a href="http://www.baidu.com" target="_blank">我的导航</a>”</li>';
break;case 4:succContent+='<li class="c-tip-item-fail"><i class="c-icon c-icon-fail"></i>个人中心“<a href="http://i.baidu.com/my/collect" target="_blank">我的收藏</a>”</li>',succContent+='<li class="c-tip-item-succ"><i class="c-icon c-icon-success"></i>百度首页“<a href="http://www.baidu.com" target="_blank">我的导航</a>”</li>'}succContent+="</ul>",succContent+="</div>"}$(bds.comm.tips).each(function(){this.op.uncontrolled||this.hide()}),succContent&&new bds.se.tip({target:$(".c-icon",document.getElementById(json.id))[0],offset:{x:33},arrow:{has:0},mode:"none",arrow:{has:0},close:1,content:succContent})
};var bds=bds||{};bds.se=bds.se||{},bds.se.tools=bds.se.tools||{},bds.se.tools=function(){var o=delayHideOnIcon=delayShowOnTip=delayHideOnTip={};$("#container").delegate(".c-tools","mouseover",function(){var t=this;window.clearTimeout(delayHideOnIcon),window.clearTimeout(delayHideOnTip),o=setTimeout(function(){var o=1;$(bds.comm.tips).each(function(){return this.getTarget()==$(".c-icon",t)[0]?(o=0,this.show(),!1):void 0}),o&&(tools=new bds.se.tool(t))},200)}).delegate(".c-tools","mouseout",function(){window.clearTimeout(o),window.clearTimeout(delayShowOnTip);
var t=this;delayHideOnIcon=setTimeout(function(){$(bds.comm.tips).each(function(){return this.getTarget()==$(".c-icon",t)[0]?(this.hide(),!1):void 0})},200)}),$("#c-tips-container").delegate(".c-tip-con","mouseover",function(){var o=this;window.clearTimeout(delayHideOnIcon),window.clearTimeout(delayHideOnTip),delayShowOnTip=setTimeout(function(){$(bds.comm.tips).each(function(){return this.getDom().get(0)==o&&this.ext.category&&"tools"==this.ext.category?(this.show(),!1):void 0})},200)}).delegate(".c-tip-con","mouseout",function(){window.clearTimeout(o),window.clearTimeout(delayShowOnTip);
var t=this;delayHideOnTip=setTimeout(function(){$(bds.comm.tips).each(function(){return this.getDom().get(0)==t&&this.ext.category&&"tools"==this.ext.category?(this.hide(),!1):void 0})},200)})};;
var bds=bds||{};bds.se=bds.se||{},bds.se.slide=function(t){var e,i,o,r,n,a=this,s={},p=[],l=0,g=null;this._default={target:$("#lg"),src:"",width:270,height:129,offsetLeft:0,isPad:!1,isRetina:!1,frames:103,animations:[{isAutoPlay:!0,frame_start:1,frame_end:30,delay:0,duration:100,repeats:0,process_before:function(){},event_loop:0,process_after:function(){}},{trigger_type:"click",trigger_duration:100,trigger_frame:31,trigger_fn:function(){},frame_start:32,frame_end:103,process_before:function(){},process_after:function(){},delay:0,duration:100,repeats:1,event_loop:0}]},this.timer=[],this.otherTimer=[],this.op=$.extend({},a._default,t),this.init=function(){return a.op.src?(a.createDom(),void(bds.comm.ishome&&a.op.target.length&&a.initAnimate())):void a.createPlayer()
},this.createPlayer=function(){var t=a.op.target.find("map"),e=t.length?t.find("area").eq(0):"",o=a.op.play;o&&(i=$('<img class="logo_player" src="'+o.src+'" style="width:'+o.width+"px; height:"+o.height+"px; position:absolute; top:50%; left:50%; margin-left: -"+o.width/2+"px; margin-top: -"+o.height/2+"px; cursor:pointer;\" onmousedown=\"return c({'tab':'logo_button_click'})\" />").appendTo(a.op.target),e.length?(i.wrap('<a style="position:absolute;top:0;left:50%;width:'+a.op.width+"px;height:"+a.op.height+"px;margin-left:-"+a.op.width/2+'px;" href="'+e.attr("href")+'" target="'+e.attr("target")+'"></a>'),e.attr("title")&&i.attr("title",e.attr("title"))):i.wrap('<div style="position:absolute;top:0;left:50%;width:'+a.op.width+"px;height:"+a.op.height+"px;margin-left:-"+a.op.width/2+'px;"></div>'),i.on(o.trigger_type,function(){return o.trigger_duration?a.timer.push(window.setTimeout(function(){o.trigger_fn.call(a.op)
},o.trigger_duration)):o.trigger_fn.call(a.op),!1}))},this.createDom=function(){var t='<div style="position:absolute;top:0;left:50%;background:url(#{0}) no-repeat #{1};cursor:#{2};width:#{3}px;height:#{4}px;margin-left:-#{5}px;display:none;"></div>',l=a.op.offsetLeft+"px 0",g=a.op.target.find("map"),h=g.length?g.find("area").eq(0):"",f=h?"pointer":f,u=a.op.animations instanceof Array?a.op.animations:[a.op.animations],d=a.op.width,m=a.op.height;p=u,r=d,n=m,t=$.format(t,a.op.src,l,f,a.op.width,a.op.height,a.op.width/2),"static"===a.op.target.css("position")&&a.op.target.css({position:"relative",width:"100%"}),a.op.target.append(t),e=o=a.op.target.find("div").eq(0),a.op.play&&(i=$('<img src="'+a.op.play.src+'" style="width:'+a.op.play.width+"px; height:"+a.op.play.height+"px; position:absolute; top:50%; left:50%; margin-left: -"+a.op.play.width/2+"px; margin-top: -"+a.op.play.height/2+"px; \" onmousedown=\"return c({'tab':'logo_button_click'})\" />").insertAfter(e),o=i),a.op.isPad&&e.css("background-size",a.op.width*a.op.frames/2+"px "+a.op.height+"px"),window.devicePixelRatio&&window.devicePixelRatio>1&&a.op.isRetina&&e.css("background-size",a.op.width*a.op.frames+"px "+a.op.height+"px"),h.length?(e.wrap('<a href="'+h.attr("href")+'" target="'+h.attr("target")+'"></a>'),h.attr("title")&&e.attr("title",h.attr("title"))):e.on("mousedown",function(){c({tab:"logo_button_click"})
});for(var _=0,w=p.length;w>_;_++){var b=p[_],y=b.frame_start;l=-((y-1)*d)+"px 0",s[_]={"background-position":l,cursor:f}}},this.initAnimate=function(){function t(){e.show(),a.play()}if(!(l>=p.length)){var i=p[l],r=i.isAutoPlay,n=i.trigger_type,s=i.trigger_fn,c=i.trigger_duration,h=i.trigger_frame,f=$("#lg area");f.length&&f.attr("onmousedown")&&e.on("mousedown",function(){return new Function(f.attr("onmousedown"))()}),g=new Image,g.src=a.op.src,e.bind("first_animate",function(){g.complete?t():g.onload=t
}),r?e.trigger("first_animate"):n&&(a.enablePointer(),o.show().on(n,function(){s&&(h&&a.toPos(h),s.call(a.op),c?a.timer.push(setTimeout(function(){e.trigger("first_animate")},c)):e.trigger("first_animate"))}))}},this.enablePointer=function(){bds.comm.upn&&"msie"===bds.comm.upn.browser&&"6"===bds.comm.upn.ie?alert("pointer"):e.css("cursor","pointer")},this.disablePointer=function(){e.css("cursor","default")},this.play=function(){if(l>=p.length)return void a.dispose();var t=p[l],e=t.process_before;
a.dispose(),e&&e.call(a),a.animation()},this.toPos=function(t){var i=-((t-1)*r)+"px 0";e.css("background-position",i)},this.animation=function(){var t,i=p[l],n=i.duration,s=i.frame_start,g=i.frame_end,c=i.delay,h=i.repeats,f=i.process_after,u=i.trigger_type,d=s-1>0?s-1:0,m=i.event_loop||0,_=0;if(t=m?p[l]:l+1>=p.length?p[l]:p[l+1]){var w=t.trigger_type,b=t.trigger_fn,y=t.trigger_duration,v=t.trigger_frame;w&&(u&&o.off(u),l<p.length-1||m?(a.enablePointer(),o.on(w,function(){m||l++,f&&f.call(a),b&&b.call(a),v&&a.toPos(v),y?(a.dispose(),a.timer.push(setTimeout(function(){a.play()
},y))):a.play()})):a.disablePointer())}!function(){arguments.callee;a.timer.push(setTimeout(function(){e.css("background-position",-(r*d)+"px 0"),d++,d>=g?(a.dispose(),_++,0!==h&&_>=h?(d=null,_=null,f&&f.call(a),l++,l<p.length&&a.play(),m&&l--):(d=s-1>0?s-1:0,a.timer.push(setTimeout(arguments.callee,n)))):a.timer.push(setTimeout(arguments.callee,n))},c))}()},this.dispose=function(t){t=t||a.timer;for(var e=0,i=t.length;i>e;e++)window.clearTimeout(t[e]);t.length=0},this.disposeOther=function(t){t=t||a.otherTimer;
for(var e=0,i=t.length;i>e;e++)window.clearTimeout(t[e]);t.length=0},this.clear=function(){a.dispose(),a.disposeOther(),o.off("click").off("hover")},this.reset=function(t){t=t||0,e.css(s[t])},this.init()};;

var bds=bds||{};bds.se=bds.se||{},bds.se.banner=function(n,o,i){this.init=function(){i=i||{},this.$dom_panel=$(n),this.hintText=o,this.hintIcon=i.iconClass||"",this.downUrl=i.downUrl||"",this.hintCookie=i.cookie||"",this.showNum=this.hintCookie&&$.getCookie(this.hintCookie)?Number($.getCookie(this.hintCookie)):0,this.nscTab=i.nscTab||"",this.ishome=bds.comm&&1==bds.comm.ishome?1:0,this.bannerType=i.bannerType||"",n&&o&&this.showNum<5&&!$(".baiduapp_banner")[0]&&!$(".res_top_banner")[0]&&!$(".res_top_banner_for_win")[0]&&this.show()
},this.show=function(){this.render(),this.showNum+=1,$.setCookie(this.hintCookie,this.showNum,{expires:2592e6}),this.$dom_panel.prepend(this.bannerHtml),1!=this.ishome&&this.headFloat(),this.bindEvent(),ns_c({fm:"behs",qid:bds.comm.qid,tab:(1==this.ishome?"tj_":"")+"baidu_"+(this.nscTab?this.nscTab:"topbanner")+"show"})},this.render=function(){var n=[];n=n.concat("WIN"!==this.bannerType?['<div class="res_top_banner">','<i class="c-icon '+(this.hintIcon?this.hintIcon:"res_top_banner_icon")+'"></i>',"<span>"+this.hintText+"</span>",this.downUrl?'<a href="'+this.downUrl+'" class="res_top_banner_download">立即体验</a>':"",'<i class="c-icon res_top_banner_close"></i>',"</div>"]:['<div class="res_top_banner_for_win">','<i class="c-icon '+(this.hintIcon?this.hintIcon:"res_top_banner_icon")+'"></i>',"<span>"+this.hintText+"</span>",this.downUrl?'<a href="'+this.downUrl+'" class="res_top_banner_download">立即体验</a>':"",'<i class="c-icon res_top_banner_close"></i>',"</div>"]),this.bannerHtml=n.join("")
},this.headFloat=function(){{var n=$("#head"),o=$(window),i=$(".res_top_banner");n.css("position")}$(window).scroll(function(){var s=i.height()||0,e=o.scrollTop();s>=e?n.attr("style","position:absolute;"):n.attr("style","top:0px;_top:"+s+"px;")})},this.bindEvent=function(){if("WIN"!==this.bannerType){var n=$(".res_top_banner"),o=this;$(".res_top_banner_download",n).on("mousedown",function(){o.hintCookie&&$.setCookie(o.hintCookie,5,{expires:2592e6}),ns_c({fm:"behs",qid:bds.comm.qid,tab:(1==o.ishome?"tj_":"")+"baidu_"+(o.nscTab?o.nscTab:"topbanner")+"down"})
}),$(".res_top_banner_close",n).on("mousedown",function(){n.detach(),o.hintCookie&&$.setCookie(o.hintCookie,5,{expires:2592e6}),ns_c({fm:"behs",qid:bds.comm.qid,tab:(1==o.ishome?"tj_":"")+"baidu_"+(o.nscTab?o.nscTab:"topbanner")+"close"})}),$(window).on("swap_begin",function(){n.detach()})}else{var n=$(".res_top_banner_for_win"),o=this;$(".res_top_banner_download",n).on("mousedown",function(){o.hintCookie&&$.setCookie(o.hintCookie,5,{expires:2592e6}),ns_c({fm:"behs",qid:bds.comm.qid,tab:(1==o.ishome?"tj_":"")+"baidu_"+(o.nscTab?o.nscTab:"topbanner")+"down"})
}),$(".res_top_banner_close",n).on("mousedown",function(){n.detach(),o.hintCookie&&$.setCookie(o.hintCookie,5,{expires:2592e6}),ns_c({fm:"behs",qid:bds.comm.qid,tab:(1==o.ishome?"tj_":"")+"baidu_"+(o.nscTab?o.nscTab:"topbanner")+"close"})}),$(window).on("swap_begin",function(){n.detach()})}},this.init()},function(){$(window).on("swap_end",function(){var n=["union","union2baidu","union_cpro","union_nosearch","redbull","hao123"],o=bds.comm.upn,i=navigator.userAgent.toLowerCase().search(/msie [6-7]/);
if(winFilter=/NT 6.1|NT 6.2|NT 6.3/i.test(navigator.userAgent),bds.comm.topHijack)for(var s=0;s<bds.comm.topHijack.length;s++)if("hint_topHijack"==bds.comm.topHijack[s].templateName){var e=bds.comm.topHijack[s].hintData.hintText;bds.se.banner($("body")[0],e)}if(bds.comm.tng&&-1==$.inArray(bds.comm.tng,n)&&o&&o.browser&&"msie"==o.browser&&o.ie&&("6"==o.ie||"7"==o.ie)&&i>0){var e="6"==o.ie?"您的浏览器采用的IE6内核已停止维护，推荐升级到更快更安全的百度浏览器！":"您的IE浏览器版本较低，即将停止更新维护，建议升级到更快、更安全的百度浏览器。";bds.se.banner($("body")[0],e,{downUrl:"http://j.br.baidu.com/v1/t/ui/p/browser/tn/10105001/ch_dl_url",cookie:"H_PS_BBANNER",nscTab:"browser"})
}})}();;
bds.se.safeTip=function(){function t(){var t=0,a=["bd"],e="",n=[];$(".unsafe_ico_new").each(function(a,r){n.push(r.getAttribute("data-id")),e=r.getAttribute("data-tpl");var i=$(r).attr("data-href"),u=$(r).attr("href"),f=i?i:u;$("h3 a",$(r).parents(".result")).attr("href",f),t++}),t>0&&ns_c({tab:"safetip",num_unsafe:t,prd:a.join("|"),hintId:n,hintTpl:e})}return{init:t}}();;
var bds=bds||{};bds.se=bds.se||{},bds.se.trust=bds.se.trust||{},bds.se.trust=function(){function t(){h=[],u=[],d=[],$(".c-trust").each(function(){var t=$(this),a=this.getAttribute("data_key"),n=this.getAttribute("hint-type");0==t.parent(".c-icons-inner").length&&t.wrap("<span class='c-icons-outer'><span class='c-icons-inner'></span></span>"),"baozhang-v"===n?-1==$.inArray(a,d)&&d.push(this.getAttribute("data_key")):-1==$.inArray(a,h)&&h.push(this.getAttribute("data_key")),-1==$.inArray(this,u)&&u.push(this)
}),$(".c-trust-as").each(function(){v=$.parseJSON($(this).attr("hint-data")),v&&!$(this).attr("render")&&(b=$(this),c(v,$(this).attr("hint-type"),this),$(this).attr("render","render"))}),h.length<1&&d.length<1||(f&&m<h.length+d.length&&(f=!1,g&&g.abort()),a(),m=h.length+d.length)}function a(){f||(h.length>0&&(g=$.getJSON(p+"/?urls="+h.join(",")+"&sid="+bds.comm.sid+"&qid="+bds.comm.qid+"&v="+l+"&callback=?",n)),d.length>0&&(g=$.getJSON(p+"/?urls="+d.join(",")+"&sid="+bds.comm.sid+"&qid="+bds.comm.qid+" &tag=asyncZ&v="+l+"&callback=?",n)),f=!0)
}function n(t){f=!1,0==t.code&&$(u).each(function(){var a=this.getAttribute("data_key"),n=this.getAttribute("hint-type");v=t.data[a],v&&(b=$(this),!n&&v.vstar&&v.vstar.hint&&v.vstar.hint.length>0&&(b.html(""),e(v.vstar.hint[0].vlevel,v.vstar.url)),v.medical&&(b.html(""),r()),"baozhang-v"==n&&v.brand&&(b.html(""),i(v.brand.url)),v.aviation&&(b.html(""),s()))})}function e(t,a){var n=$("<span>",{"class":"c-vline"}),e=$("<a>",{"class":"vstar c-icon c-icon-v"+t,target:"_blank",onclick:"return false",href:"#","hint-data":'{"hint": [{"vlevel": '+t+"}]}"});
a&&e.attr({href:a,onclick:""}),b.append(n),b.append(e),c(v.vstar,"vstar")}function i(t){var a=$("<span>",{"class":"c-vline"}),n=$("<a>",{"class":"c-icon c-icon-R",target:"_blank",onclick:"return false",href:"#"});t&&n.attr({href:t,onclick:""}),b.append(a),b.append(n),c(v.brand,"baozhang-v")}function r(){var t=$("<span>",{"class":"c-vline"}),a=$("<a>",{"class":"c-icon c-icon-med",target:"_blank",onclick:"return false",href:"#"});b.append(t),b.append(a),c(v.medical,"medical")}function s(){var t=$("<span>",{"class":"c-vline"}),a=$("<a>",{"class":"c-icon c-icon-air",target:"_blank",onclick:"return false",href:"#"});
b.append(t),b.append(a),c(v.aviation,"aviation")}function c(t,a,n){var e=t.hint,i="over",r=t.url,s=t.webIMUrl;if(t&&e){if(-1!==a.indexOf("newBao")){var c="<h3 class='opui-honourCard4-new-bao-title'>"+t.label+"</h3>";c+=$.format('<div class="c-tip-info opui-honourCard4-new-bao-style">#{0}',t.text)}else if("vstar"==a||"baozhang"==a||"baozhang-v"==a||"chengqi"==a||"baozhang-v-auth"==a)var c="<div class='c-tip-cer hitcon'>";else var c="<div class='c-tip-info hitcon'>";if(e.length>0){c+="<ul>";for(var l=0;l<e.length;l++)""!=e[l]?(c+="<li ",c+=e[l].icon?"class='c-tip-item-i'><img src='"+e[l].icon+"' class='c-customicon c-gap-icon-right-small c-tip-item-icon' />":">",c+=o(e[l].txt),c+="</li>"):i="none";
c+="</ul>"}c+="</div>";var h=!1,d=!1;"baozhang-v"==a||"baozhang-v-auth"==a?h=!0:"chengqi"==a&&(d=!0);var u=new bds.se.tip({target:b,mode:i,align:"auto",content:c,arrow:{has:1,offset:35,r:h,c:d},offset:{x:0,y:25}});u.onShow=function(){if(A.use("honourCard4",function(){}),-1!==a.indexOf("newBao"))n&&$(n).attr("hint-type")&&(a=$(n).attr("hint-type")),ns_c({hintUrl:b.attr("data_key"),hintTpl:a,hintId:"safe:1"});else{var i=e[0].vlevel,o=e[0].unfixedInfo;ns_c({hintUrl:b.attr("data_key"),hintTpl:a,hintId:i}),-1!=c.indexOf("ecard")&&setTimeout(function(){A.use("honourCard4",function(){var n=$(u.getDom()).find(".c-trust-ecard4"),c=0;
"baozhang"==a&&(c=e[0].bzAppliCounts);var l={compName:t.label,vLevel:i,centerPageUrl:r};o&&(l.unfixedInfo=o),s&&(l.webIMUrl=s),a&&(l.type=a),c&&(l.bzAppliCounts=c),t.brandName&&(l.brandName=t.brandName),t.brandLogo&&(l.brandLogo=t.brandLogo),t.brandScope&&(l.brandScope=t.brandScope),t.brandRelation&&(l.brandRelation=t.brandRelation),t.authBrandName&&(l.authBrandName=t.authBrandName),t.authBizScope&&(l.authBizScope=t.authBizScope),t.authBizType&&(l.authBizType=t.authBizType),A.ui.honourCard4(n,l)})
},0)}setTimeout(function(){-1!==a.indexOf("newBao")?$(".opui-honourCard4-new-bao-style",this.dom).each(function(){$("a",this).each(function(t){this.onmousedown=function(){ns_c({hintUrl:r,hintTpl:a,title:this.innerHTML,pos:t})}})}):$("li",this.dom).each(function(){$("a",this).each(function(t){this.onmousedown=function(){ns_c({hintUrl:r,hintTpl:a,title:this.innerHTML,pos:t})}})})},0)}}}function o(t){var a=t;return a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"),a=a.replace("[/url]","</a>").replace(/\[url ([^\s]*)\]/,"<a href='$1' target='_blank'>"),a=a.replace(/\[img ([^\s]*)\]/,"<img src='$1' />"),a=a.replace(/\[ecard (-?[\d]{0,3})\]/,"<div class='c-trust-ecard4' value='$1'></div>")
}var l=4,h=[],d=[],u=[];if(bds.util&&bds.util.domain&&bds.util.domain.get)var p=bds.util.domain.get("http://tag.baidu.com");else var p="http://tag.baidu.com";var b=null,v=null,f=!1,g=null,m=0;return t(),{init:t,render:n}}();;
function isbase64(t){function e(){h={left:$.Deferred(),right:$.Deferred()}}function n(t,e){m++;var t=t||[],e=e||[];if(t=$.grep(t,function(t){return b.right.hasOwnProperty(t)?!1:(b.right[t]=!1,!0)}),e=$.grep(e,function(t){return b.left.hasOwnProperty(t)?!1:(b.left[t]=!1,!0)}),2==s.b64Exp&&e.length>0&&(g=!0,i(e,"left","reql")),t.length>0)if(t.length>12){var n=Math.round(t.length/2),r=[],a=[];$.each(t,function(t,e){n>t?r.push(e):a.push(e)}),i(r,"right","reqr2"),i(a,"right","reqr1")}else i(t,"right","reqr")
}function r(t){for(var e=t,n=0;__callback_names.hasOwnProperty(t)||window[t];)t=e+"_"+n,n++;return __callback_names[t]=1,t}function a(t){if("string"==typeof t){var e,n=0,r=0;for(e=0;e<t.length;e++)r=e%20+1,n+=t.charCodeAt(e)<<r;return Math.abs(n)}return 0}function i(t,e,n){var i=u+"image?imglist="+t.join(","),o=a(t.join(""));o="cb_"+(o+"").substr(Math.max(0,o.length-8),8)+"_"+_.length,o=r(o),i+="&cb="+o;var l=1*new Date,s=$.ajax({url:i,cache:!0,dataType:"jsonp",jsonp:!1,timeout:1500,jsonpCallback:o,success:function(t){f[n]=1*new Date-l,"right"==e?A(t):"left"==e&&k(t)
}});s.always(function(){delete __callback_names[o]}),_.push(s)}function o(){var t=_.concat(h.left,h.right),e=p=$.when.apply($,t);p.always(function(){+new Date;e===p&&(2==s.b64Exp&&y("left"),y("right"))})}function l(t,e){try{t.onerror=function(){T(this)},d.push({obj:t,loaded:!1}),t.onload=function(){for(var t=0;t<d.length;t++){var e=d[t];e.obj==this&&(e.loaded=!0)}},t.src="data:image/jpeg;base64,"+e}catch(n){T(t)}}var s;bds&&bds._base64?s=bds._base64:(s={domain:bds.util.domain&&bds.util.domain.get?bds.util.domain.get("http://b1.bdstatic.com/"):"http://b1.bdstatic.com/",b64Exp:-1,pdc:!1,sep:16},bds._base64=s);
var c={left:"content_left",right:"container"},u=s.domain,f={},d=[],h={left:$.Deferred(),right:$.Deferred()},b={left:{},right:{}},g=!1,m=0,p=null;s.inline=!1;var _=[];t.onSendlog(function(){var e=[];f&&$.each(f,function(t,n){e.push(t+"_"+n)}),t.setParam("cus_cusval",e.join("|")),O.isinline()&&(t.setParam("cus_b64il",O.ilsum),O.ilparseTime&&t.setParam("cus_b64ilpt",O.ilparseTime),O.ilrenderTime&&t.setParam("cus_b64ilrt",O.ilrenderTime))});var v=function(t,e,n,r){if(r=r?$(r).find("#"+c[e])[0]:document.getElementById(c[e]))for(var a=r.getElementsByTagName("IMG"),i=0;i<a.length;i++){var o=a[i].getAttribute(n);
o&&(t.hasOwnProperty(o)&&t[o]?l(a[i],t[o]):T(a[i]))}},y=function(t){v(b[t],t,"data-b64-id")},w=!1,j=!1,P=function(t,e){w||v(t,"right","data-b64il-id",e),e&&(w=!0),j=!0},D=0,T=function(e){(e.getAttribute("data-b64-id")||e.getAttribute("data-b64il-id"))&&null!=e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src"),t.setParam("cus_b64fails",++D))},A=function(t){q(t,"right")},k=function(t){q(t,"left")},q=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(b[e][n]=t[n])},x=function(t){h[t].resolve()
},E=function(){b=null,d=null,h=null,$.each(_,function(){this.abort()})},O={loadImg:n,setDomLoad:x,end:o,isinline:function(){return j},restart:e,destroy:E,reqT:f,inline:P};return O}var __callback_names={};;
$(function(){bds.comm.user&&""!=bds.comm.user&&setTimeout(function(){$.ajax({dataType:"script",cache:!0,url:(bds.su&&bds.su.urStatic?bds.su.urStatic:"http://ss.bdimg.com")+"/static/message/js/mt_show_1.8.js",success:function(){function s(){$("#imsg")[0]&&$("#u")[0]&&$("#user")[0]&&(bds.se.message&&bds.se.message.init&&bds.se.message.init({button:$("#imsg"),refer:$("#u")}),$("#user").on("mouseover",function(){$("#s_mod_msg").hide()})),$("#imsg1")[0]&&$("#u1")[0]&&$("#user1")[0]&&(bds.se.message&&bds.se.message.init&&bds.se.message.init({button:$("#imsg1"),refer:$("#u1")}),$("#user1").on("mouseover",function(){$("#s_mod_msg").hide()
}))}function e(){bds.se.message&&bds.se.message.addStyle&&bds.se.message.addStyle()}bds.comm.loginAction.push(function(n){1==n&&(s(),e())}),bds.comm.newindex?$(window).on("index_off",function(){setTimeout(function(){s(),e()},0)}):(s(),e()),$(window).on("swap_end",e)}})},0)});;
$(window).on("swap_end",function(){var i='<div id="_FP_userDataDiv" style="behavior:url(#default#userdata);width:0px;height:0px;position:absolute;top:-1000px;left:-1000px"></div><div id="_FP_comDiv" style="behavior:url(#default#clientCaps);width:0px;height:0px;position:absolute;top:-1000px;left:-1000px"></div>',e="//www.baidu.com/cache/fpid/ielib_0108.js",o="//www.baidu.com/cache/fpid/chromelib_0108.js",t=document.title,d={flashDomId:"_FP_userDataDiv",comDomId:"_FP_comDiv",IEStoreDomId:"_FP_userDataDiv"},a=navigator.userAgent.toLowerCase(),n=!1;
(a.indexOf("msie")>=0||new RegExp("trident(.*)rv.(\\d+)\\.(\\d+)").test(a))&&(n=!0);var w,m=!1,r=new RegExp("chrome/(\\d+)"),c=a.match(r);if(c&&(m=!0,w=c[1]),!(m&&w>=39)){$("body").append(i);var s=function(i){n&&window.setTimeout(function(){document.title=t},0),window._FPID_CACHE=i,$("#_FP_userDataDiv").remove(),$("#_FP_comDiv").remove();var e=bds.comm.qid,o="_WWW_BR_API_"+(new Date).getTime(),d=window[o]=new Image;d.onload=function(){window[o]=null};var a=$.getCookie("BAIDUID"),w=$.getCookie("BIDUPSID"),m=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://eclick.baidu.com/ps_fp.htm?"):"http://eclick.baidu.com/ps_fp.htm?",r=m+"pid=ps&fp="+i.data.fp+"&im="+i.data.im+"&wf="+i.data.wf+"&br="+i.data.br+"&qid="+e+"&bi="+a+"&psid="+w;
d.src=r};return window._FPID_CACHE?void(window._FPIDTimer=window.setTimeout(function(){s(window._FPID_CACHE)},2500)):void(window._FPIDTimer=window.setTimeout(function(){var i="";i=n?e:o,$.ajax({url:i,cache:!0,dataType:"script",success:function(){fpLib.getFp(s,d)}})},2500))}}),$(window).on("swap_begin",function(){window._FPIDTimer&&(window.clearTimeout(window._FPIDTimer),$("#_FP_userDataDiv").remove(),$("#_FP_comDiv").remove())});;
var bds=bds||{};bds.se=bds.se||{},bds.se.upn={regexp:/BD_UPN=([\w|\d]*)/,cookieset:[],write:function(e){document.cookie="BD_UPN="+e+"; expires="+new Date((new Date).getTime()+864e6).toGMTString()},set:function(e){var i=this;try{$.isArray(e)&&(i.cookieset=i.cookieset.concat(e))}catch(r){}},run:function(){var e=this;try{for(var i="",r=0;r<e.cookieset.length;r++)if(e.cookieset[r]&&e.cookieset[r].k&&e.cookieset[r].v){var a=e.cookieset[r].k+"",n=e.cookieset[r].v+"";if(a.length==n.length==1){var o={};o[a]=n,i=i+a+n
}}e.write(i)}catch(t){}}},bds.se.upn.set(function(){function e(){return a.indexOf("lbbrowser")>0?a.match(/lbbrowser/gi):a.indexOf("maxthon")>0?a.match(/maxthon\/[\d.]+/gi):a.indexOf("bidubrowser")>0?a.match(/bidubrowser/gi):a.indexOf("baiduclient")>0?a.match(/baiduclient/gi):a.indexOf("metasr")>0?a.match(/metasr/gi):a.indexOf("qqbrowser")>0?a.match(/qqbrowser/gi):!function(){if(navigator.mimeTypes.length>0){var e;for(e in navigator.mimeTypes)if("application/vnd.chromium.remoting-viewer"==navigator.mimeTypes[e].type)return!0
}return!1}()&&"track"in document.createElement("track")&&!("scoped"in document.createElement("style"))&&!("v8Locale"in window)&&/Gecko\)\s+Chrome/.test(navigator.appVersion)&&"track"in document.createElement("track")&&"scoped"in document.createElement("style")&&"v8Locale"in window?"qihu":a.indexOf("msie")>0?a.match(/msie [\d.]+;/gi):window.document.documentMode?"msie":a.indexOf("edge")>0?a.match(/edge\/[\d.]+/gi):a.indexOf("firefox")>0?a.match(/firefox\/[\d.]+/gi):a.indexOf("opr")>0?a.match(/opr\/[\d.]+/gi):a.indexOf("chrome")>0?a.match(/chrome\/[\d.]+/gi):a.indexOf("safari")>0&&a.indexOf("chrome")<0?a.match(/safari\/[\d.]+/gi):""
}function i(){var e="Win32"==navigator.platform||"Windows"==navigator.platform,i="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(i)return"mac";var r="X11"==navigator.platform&&!e&&!i;if(r)return"unix";var a=String(navigator.platform).indexOf("Linux")>-1;return a?"linux":e?"windows":"other"}var r=navigator.userAgent,a=r.toLowerCase();browser=(e()+"").replace(/[0-9.\/|;|\s]/gi,""),browserversion=function(){return"msie"==browser?r.search(/MSIE [2-5]/)>0?"ie5":r.indexOf("MSIE 6")>0?"ie6":r.indexOf("MSIE 7")>0?"ie7":r.indexOf("MSIE 8")>0?"ie8":r.indexOf("MSIE 9")>0?"ie9":r.indexOf("MSIE 10")>0?"ie10":"11"==window.document.documentMode?"ie11":"other":""
}(),browsertype=function(){return a.indexOf("msie")>0||new RegExp("trident(.*)rv.(\\d+)\\.(\\d+)").test(a)?"ie":a.indexOf("firefox")>0?"firefox":a.indexOf("chrome")>0?"chrome":a.indexOf("safari")>0&&a.indexOf("chrome")<0?"safari":"other"}(),os=i(),osversion=function(){return"windows"==os?r.indexOf("Windows NT 5.1")>-1||r.indexOf("Windows XP")>-1?"xp":(isWinVista=r.indexOf("Windows NT 6.0")>-1||r.indexOf("Windows Vista")>-1)?"vista":r.indexOf("Windows NT 6.1")>-1||r.indexOf("Windows 7")>-1?"win7":r.indexOf("Windows NT 6.2")>-1||r.indexOf("Windows 8")>-1?"win8":r.indexOf("Windows NT 6.3")>-1||r.indexOf("Windows 8.1")>-1?"win8.1":r.indexOf("Windows NT 10")>-1?"win10":"other":void 0
}();var n=function(e){var i=0;switch(e){case"msie":i=1;break;case"chrome":i=2;break;case"firefox":i=3;break;case"safari":i=4;break;case"opr":i=5;break;case"lbbrowser":i=6;break;case"maxthon":i=7;break;case"bidubrowser":i=8;break;case"metasr":i=9;break;case"qqbrowser":i="a";break;case"qihu":i="b";break;case"baiduclient":i="c";break;case"edge":i="d"}return i}(browser),o=function(e){var i=0;switch(e){case"ie6":i=1;break;case"ie7":i=2;break;case"ie8":i=3;break;case"ie9":i=4;break;case"ie10":i=5;break;
case"ie11":i=6;break;case"other":i=7;break;case"ie5":i=8}return i}(browserversion),t=function(e){var i=0;switch(e){case"windows":i=1;break;case"mac":i=2;break;case"linux":i=3;break;case"unix":i=4}return i}(os),s=function(e){var i=0;switch(e){case"xp":i=1;break;case"vista":i=2;break;case"win7":i=3;break;case"win8":i=4;break;case"win8.1":i=5;break;case"other":i=6;break;case"win10":i=7}return i}(osversion),c=function(e){var i=0;switch(e){case"ie":i=1;break;case"firefox":i=2;break;case"chrome":i=3;break;
case"safari":i=4}return i}(browsertype);return[{k:1,v:n},{k:2,v:o},{k:3,v:t},{k:4,v:s},{k:5,v:c}]}()),bds.se.upn.run();;
bds.se.heightControl={check:function(){return $("#content_right").height()>$("#content_left").height()},cleanEC:function(){var t=$(".ec_bdtg"),n=$("#ec_im_container").children("div"),e=n.length,i=e-1;for(bds.se.heightControl.check()&&t&&t.length&&t.css("display","none");bds.se.heightControl.check()&&i>=0;){var h=n[i];$(h).css("display","none"),i--}},cleanRes:function(){var t=$("#content_right").find(".result-op"),n=t.length,e=n-1;if(0==e){var i=$(t[0]).parent();$("#content_right").height()+t.height()<$("#content_left").height()&&i.css({position:"static"})
}else{for(var h=null,l=null,c=e;c>=0;c--){var s=t[c];null===h&&$(s).find(".FYB_RD").length>0?h=c:null===l&&$(s).find(".FYB_BD").length>0&&(l=c)}if(null!==h&&null!==l){var o=t[h];t[h]=t[l],t[l]=o}for(;bds.se.heightControl.check()&&e>0;){var r=t[e];$(r).css("display","none"),ns_c($.extend($(r).data("click"),{rsv_tpl:$(r).attr("tpl"),fm:"hide",qid:bds.comm.qid,tab:"baidu_rightheightadjust"})),e--}}},init:function(){bds.se.heightControl.cleanEC(),bds.se.heightControl.cleanRes()}};;
!function(){function t(){this.start=null,this.mouse=[],this.mouseTime=null,this.mouseSpeed=500,this.key=[],this.scroll=[],this.scrollTime=null,this.scrollSpeed=500,this.debug=!1,this.dataStore={},this.t=null,this.cycle=null,this.MIN_SPEED=2e3,this.MAX_SPEED=1e4,this.curSpeed=5e3,this.stayTime=0,this.heartTime=[],this.heartT=null,this.MAX_LEN=2e3,this.storeLen=-1,this.MAX_SEND=100,this.hostEnum={SCLICK:0,NSCLICK:1,SESTAT:2},this.keyMap={new_input:2,new_disp:2,new_view:2,new_user:2,new_heart:2,flow_monitor:2},this.hostAddr=[bds&&bds.comm&&bds.comm.ubsurl?bds.comm.ubsurl+"?":"",(bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com")+"/v.gif?",(bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://sestat.baidu.com"):"http://sestat.baidu.com")+"/wb.gif?"],this.commLog={},this.isFirst=!0,this.sendNum={},this.init()
}t.prototype={setCommLog:function(t,e,s){if(!bds||!bds.comm)return!1;if(!(t in this.commLog)){var i={};e&&s?(i.log=e,i.len=s):(i.log="&q="+bds.comm.queryEnc+"&qid="+bds.comm.qid+"&rsv_did="+bds.comm.did+"&rsv_tn="+bds.comm.tn+"&rsv_sid="+bds.comm.sid,i.len=(i.log+"&t="+(new Date).getTime()).length),this.commLog[t]=i}return!0},fb:function(){var t,e=this.heartTime.length;return t=0===e||1===e?3e3:this.heartTime[e-1]+this.heartTime[e-2],this.heartTime.push(t),t},sendHeart:function(t){var e=0===t?this.stayTime:(new Date).getTime()-this.start,s=bds&&bds.comm&&bds.comm.qid;
if(s&&s in this.commLog&&s in this.sendNum){var i=[{stay_time:e,send_num:this.sendNum[s]}];this.send({type:t,fm:"new_heart",data:i},this.keyMap.new_heart)}},startHeart:function(){var t=this,e=t.fb();t.stayTime+=e,t.heartT=setTimeout(function(){t.sendHeart(0),t.startHeart()},e)},preInit:function(){this.start=(new Date).getTime(),this.mouse=[],null!==this.mouseTime&&clearTimeout(this.mouseTime),this.mouseTime=null,this.key=[],this.scroll=[],null!==this.scrollTime&&clearTimeout(this.scrollTime),this.scrollTime=null,this.cycle=null,null!==this.t&&clearTimeout(this.t),this.t=null,this.storeLen=-1;
var t=bds&&bds.comm&&bds.comm.qid?bds.comm.qid:"";t&&(this.setCommLog(t),this.sendNum[t]=0),bds&&bds.comm&&(1===bds.comm.logFlagSug||1===bds.comm.globalLogFlag)&&0===bds.comm.ishome&&(null!==this.heartT&&clearTimeout(this.heartT),this.heartT=null,this.stayTime=0,this.heartTime=[],this.startHeart())},collectPoint:function(t,e){function s(t,e){var s=[];if("mouse"===t)s[0]=e.pageX,s[1]=e.pageY;else if("scroll"===t){var i=$(window);s[0]=i.scrollLeft(),s[1]=i.scrollTop()}return s}var i=t+"Time",n=this[t+"Speed"],o=this;
if(0===o[t].length){var r=s(t,e);if(r.length<2)return;return void o[t].push([(new Date).getTime()-o.start,r[0],r[1]])}null===o[i]&&(o[i]=setTimeout(function(){var n=s(t,e);return n.length<2?void(o[i]=null):(o[t].push([(new Date).getTime()-o.start,n[0],n[1]]),void(o[i]=null))},n))},singleInit:function(){var t=this;$("body").on("mousemove",function(e){t.collectPoint("mouse",e)}).on("keydown",function(e){t.key.push([(new Date).getTime()-t.start,e.keyCode])}),$(window).on("scroll",function(e){t.collectPoint("scroll",e)
}),t.singleInit=function(){}},flushData:function(t){null!==this.t&&(clearTimeout(this.t),this.t=null),this.startSend(this.fetchData(t,!0),!0),this.startSend(this.fetchData(t,!0)),bds&&bds.comm&&(1===bds.comm.logFlagSug||1===bds.comm.globalLogFlag)&&(null!==this.heartT&&(clearTimeout(this.heartT),this.heartT=null),this.sendHeart(t))},init:function(){var t=this;t.preInit(),$(window).on("swap_begin",function(){null!==t.t&&(clearTimeout(t.t),t.t=null),bds&&bds.comm&&0===bds.comm.ishome&&(1===bds.comm.logFlag||1===bds.comm.globalLogFlag)&&t.isFirst===!1&&t.sendHeart(1)
}).on("unload",function(){bds&&bds.comm&&0===bds.comm.ishome&&(1===bds.comm.logFlagSug||1===bds.comm.globalLogFlag)&&t.flushData(2)}).on("swap_end",function(){t.preInit(),t.isFirst===!0&&(t.isFirst=!1),!t.hostAddr[0]&&bds&&bds.comm&&bds.comm.ubsurl&&(t.hostAddr[0]=bds.comm.ubsurl+"?")})},getData:function(t,e,s){if(null===this.start||0===t.length)return{startTime:this.start,record:[]};var i={startTime:this.start,record:[]},n=e,o=s;void 0===n?(n=0,o=t[t.length-1][0]):void 0!==n&&"number"==typeof n&&void 0===o?(n-=this.start,o=t[t.length-1][0]):void 0!==n&&"number"==typeof n&&void 0!==o&&"number"==typeof o?(n-=this.start,o-=this.start):(n=0,o=0);
for(var r in t)if(!(t[r][0]<n)&&(t[r][0]<o&&i.record.push(t[r]),t[r][0]>=o))break;return i},send:function(t,e,s){if(!t)return!1;if(this.debug,0===e&&!this.hostAddr[0]){if(!(bds&&bds.comm&&bds.comm.ubsurl))return!1;this.hostAddr[0]=bds.comm.ubsurl+"?"}var i="",n="",o="";if("object"==typeof t){for(var r in t)i=t[r],"object"==typeof i&&(i=$.stringify(i)),n+=r+"="+encodeURIComponent(i)+"&";n=n.substring(0,n.length-1)}else"string"==typeof t&&(n=t);if(!s&&bds&&bds.comm&&bds.comm.qid&&(s=bds.comm.qid),!(s&&s in this.commLog))return!1;
if(n+=this.commLog[s].log,n+="&t="+(new Date).getTime(),("number"!=typeof e||0>e||e>=this.hostAddr.length)&&(e=0),o=this.hostAddr[e]+n,o.length>this.MAX_LEN)return!1;var d=window["BD_PS_C"+(new Date).getTime()]=new Image;return d.src=this.hostAddr[e]+n,!0},sendNow:function(t,e,s){if(t&&"string"==typeof t&&t in this.keyMap&&e){var i="type=3&fm="+t+"&data="+encodeURIComponent($.stringify([e]));s&&s.qid&&s.log&&s.len?(this.setCommLog(s.qid,s.log,s),this.send(i,this.keyMap[t],s.qid)):send(i,this.keyMap[t])
}},pushData:function(t,e,s){var i=bds&&bds.comm&&bds.comm.qid?bds.comm.qid:"";if(!i)return!1;s&&s.qid&&s.log&&s.len?(this.setCommLog(s.qid,s.log,s.len),i=s.qid):this.setCommLog(i),i in this.dataStore||(this.dataStore[i]={});var n=this.dataStore[i];t in n||(n[t]=[[],[]]),s&&s.level===!0?n[t][0].push(encodeURIComponent($.stringify(e))):n[t][1].push(encodeURIComponent($.stringify(e)))},fetchData:function(t,e){function s(){for(var e,s=0,i=[],o=!1,m=this.commLog[l].len,u=this.hostAddr[d].length,c=u+("type="+t+"&fm="+a+"&data=").length+m,g=c+6,b=g;0!==n.length&&s<this.MAX_SEND;)h===!1&&0===t&&s++,e=n.shift(),i.push(e),b=g+e.length+3,(g>=this.MAX_LEN||b>=this.MAX_LEN)&&(i.length>=2&&(i.pop(),o=!0),r.push({qid:l,key:a,type:t,data:"%5B"+i.join("%2C")+"%5D",host:d}),i=[],o&&(i[0]=e,o=!1),b=i.length>0?c+3+e.length+3:c+6),g=b;
i.length>0&&r.push({qid:l,key:a,type:t,data:"%5B"+i.join("%2C")+"%5D",host:d})}var i,n,o=this.dataStore,r=[],d=0,h=!1,m=bds&&bds.comm&&bds.comm.qid?bds.comm.qid:"";if(!m)return[];for(var l in o){h=l!==m?!0:!1,i=o[l];for(var a in i)a in this.keyMap&&(d=this.keyMap[a],"number"==typeof d&&void 0!==this.hostAddr[d]&&(n=i[a][0].length>0?i[a][0]:i[a][1],s.call(this),(h===!0||e!==!0)&&0===n.length&&i[a][1].length>0&&(n=i[a][1],s.call(this)),h===!0&&delete this.dataStore[l]))}return r},startSend:function(t,e){var s,i,n=this,o=e===!0?0:100,r=setInterval(function(){return t.length<=0?void clearInterval(r):(s=t.shift(),void(s&&s.qid&&s.qid in n.commLog&&(i="type="+s.type+"&fm="+s.key+"&data="+s.data,n.send(i,s.host,s.qid),s.qid in n.sendNum&&(n.sendNum[s.qid]+=1))))
},o)},startCycle:function(){var t=this;null===t.cycle&&(t.cycle=1),t.t=setTimeout(function(){var e=t.fetchData(0),s=e.length;-1===t.storeLen&&(t.storeLen=s),0!==t.storeLen&&s/t.storeLen>=2&&t.curSpeed>t.MIN_SPEED&&(t.curSpeed-=1e3),(0===s||t.storeLen/s>=2)&&t.curSpeed<t.MAX_SPEED&&(t.curSpeed+=1e3),t.startSend(e,0),t.startCycle()},t.curSpeed)},outInterface:function(){var t=this;return{hostEnum:t.hostEnum,api:{getMouseLocus:function(e,s){return t.getData(t.mouse,e,s)},getKeyRecord:function(e,s){return t.getData(t.key,e,s)
},getScrollRecord:function(e,s){return t.getData(t.scroll,e,s)},startAPI:function(){t.singleInit()}},send:{debug:function(){t.debug=!0},send:function(e,s){return t.send(e,s)},sendNow:function(e,s,i){return t.sendNow(e,s,i)},sendPack:function(e,s,i){e&&"string"==typeof e&&e in t.keyMap&&s&&(t.pushData(e,s,i),null===t.cycle&&t.startCycle())}}}}},bds.log=(new t).outInterface()}();;
$(window).on("swap_end",function(){function t(){return!!window.ActiveXObject&&(!document.documentMode||document.documentMode<=9)}bds.comm.encTn&&$.setCookie("H_PS_645EC",bds.comm.encTn,{expires:2592e3}),bds.se.trust&&bds.se.trust.init(),bds.se.heightControl.init(),bds.util.setContainerWidth(),$(".content_none").length>0&&new bds.util.setFootStyle,bds.comm.feedback=1,bds.comm.feedback?t()?$(document).delegate(".feedback","click",function(){var t=this;$.getScript("https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/feedback_67607cd.js",function(){var e=t.getAttribute("data-feedbackid")||1,n={product_id:18,entrance_id:e},d={username:bds.comm.username,query:bds.comm.query,fb_qid:bds.comm.qid};
bds.qa.ShortCut.initRightBar(n,d)})}):$(".feedback").on("click",function(){bds.se.ShortCut.initRightBar()}):$(document).delegate(".feedback","click",function(){var t=this;$.getScript("https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/feedback_67607cd.js",function(){var e=t.getAttribute("data-feedbackid")||1,n={product_id:18,entrance_id:e},d={username:bds.comm.username,query:bds.comm.query,fb_qid:bds.comm.qid};bds.qa.ShortCut.initRightBar(n,d)})});var e=$("#form").find('input[type="hidden"][name=rsv_t]');
e.length?$(e).val(bds.comm.encTn):$("#form").append('<input type="hidden" name="rsv_t" value="'+bds.comm.encTn+'"/>'),bds.comm.did=function(){for(var t="",e=0;32>e;e++)t+=Math.floor(16*Math.random()).toString(16);return t}()});;
!function(){$(window).one("swap_end",function(){$("body").on("mousedown",".se_common_hint a",function(){var n=$(this),t=n.parents(".se_common_hint"),i=t.attr("data-id")||"",o=t.attr("data-tpl")||"",d=t.find("a").index(n);ns_c_pj({hintId:i,hintTpl:o,title:n.html(),pos:d,qid:bds.comm.qid||""},"pj=hint&")})})}();;
//
//
$(function(){$("#u,#u1").delegate(".lb","click",function(){var t=$(this).attr("data-subpro");t&&bds.se.login.setSubpro(t);try{bds.se.login.open()}catch(a){}})}),$.ajax({dataType:"script",cache:!0,url:"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/home/js/nu_instant_search_efc6d98.js"});;
window.PRE_CONN=function(){var t,i=function(t,i){var o=1*new Date;t=bds.util.domain&&bds.util.domain.get?bds.util.domain.get(t):t;var a=/^(http[s]?:\/\/)?([^\/]+)(.*)/,s=t.match(a);if(s[2]&&!n[s[2]]){n.push(s[2]);var c=new Image;c.src=t+"?_t="+(i?i:o),c.onload=c.onerror=function(){c=null}}},o=0,n=[],a=function(){try{window.pageState&&0!=window.pageState&&1!=o||($("#kw1,#kw").one("keydown",function(){"https:"===location.protocol?(i("https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/ps_default.gif"),i("https://ss1.baidu.com/6ONWsjip0QIZ8tyhnq/ps_default.gif"),i("https://ss2.baidu.com/6ONWsjip0QIZ8tyhnq/ps_default.gif"),i("https://ss3.baidu.com/6ONWsjip0QIZ8tyhnq/ps_default.gif")):(i("http://b1.bdstatic.com/img/pc.gif",parseInt(1e3*Math.random())),i("http://ecmb.bdimg.com/public03/pc.gif"),$.each(["i7","i8","i9","t10","t11","t12"],function(t,o){i("http://"+o+".baidu.com/ps_default.gif")
}))}),1==o&&$("#kw1,#kw").one("focus",function(){"https:"===location.protocol&&i("https://www.baidu.com/con?from=self")}))}catch(t){}},s=function(){o=1,a(),e()},c=function(){e(),t=setTimeout(s,55e3)},e=function(){clearTimeout(t),o=0};return a(),{init:a,startTimer:c}}();;
!function(){$.ajaxPrefilter("parts",function(e,t,r){e.__partsCallback=[],e.__partsIndex=0,r.parts=function(t){e.__partsCallback.push(t)},e.parts&&r.parts(e.parts),e.converters["* parts"]=function(e){return e}}),$.ajaxTransport("parts",function(e){if(!e.crossDomain||support.cors){var t;return{send:function(r,a){var s,n=e.xhr();if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)n[s]=e.xhrFields[s];e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");
for(s in r)void 0!==r[s]&&n.setRequestHeader(s,r[s]+"");n.send(e.hasContent&&e.data||null),t=function(r,s){var o,i,p;if(3!==n.readyState&&4!==n.readyState||s||!function(){var t=e.delimiter,r="";try{r=n.responseText}catch(a){}if(""!=r){var s,o,i=-1,p=0;if(t)for(;;){for(;p<=e.__partsIndex&&(s=-1==i?0:i+t.length,i=r.indexOf(t,s),-1!=i);p++);if(-1==i&&4!==n.readyState)return;for(o=0;o<e.__partsCallback.length;o++)e.__partsCallback[o].call(n,r.substring(s,-1==i?r.length:i),e.__partsIndex,r);if(e.__partsIndex++,-1==i)return
}else for(p=0;p<e.__partsCallback.length;p++)e.__partsCallback[p].call(n,r)}}(),t&&(s||4===n.readyState))if(t=void 0,n.onreadystatechange=jQuery.noop,s)4!==n.readyState&&n.abort();else{p={},o=n.status,"string"==typeof n.responseText&&(p.text=n.responseText);try{i=n.statusText}catch(l){i=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=p.text?200:404}p&&a(o,i,p,n.getAllResponseHeaders())},e.async?4===n.readyState?setTimeout(t):n.onreadystatechange=t:t()},abort:function(){t&&t(void 0,!0)}}}})}();
;
!function(){function save(e){var t=[];for(tmpName in options)options.hasOwnProperty(tmpName)&&"duRobotState"!==tmpName&&t.push('"'+tmpName+'":"'+options[tmpName]+'"');var o="{"+t.join(",")+"}";bds.comm.personalData?$.ajax({url:"//www.baidu.com/ups/submit/addtips/?product=ps&tips="+encodeURIComponent(o)+"&_r="+(new Date).getTime(),success:function(){writeCookie(),"function"==typeof e&&e()}}):(writeCookie(),"function"==typeof e&&setTimeout(e,0))}function set(e,t){options[e]=t}function get(e){return options[e]
}function writeCookie(){if(options.hasOwnProperty("sugSet")){var e="0"==options.sugSet?"0":"3";clearCookie("sug"),Cookie.set("sug",e,document.domain,"/",expire30y)}if(options.hasOwnProperty("sugStoreSet")){var e=0==options.sugStoreSet?"0":"1";clearCookie("sugstore"),Cookie.set("sugstore",e,document.domain,"/",expire30y)}if(options.hasOwnProperty("isSwitch")){var t={0:"2",1:"0",2:"1"},e=t[options.isSwitch];clearCookie("ORIGIN"),Cookie.set("ORIGIN",e,document.domain,"/",expire30y)}if(options.hasOwnProperty("imeSwitch")){var e=options.imeSwitch;
clearCookie("bdime"),Cookie.set("bdime",e,document.domain,"/",expire30y)}}function writeBAIDUID(){var e,t,o,i=Cookie.get("BAIDUID");/FG=(\d+)/.test(i)&&(t=RegExp.$1),/SL=(\d+)/.test(i)&&(o=RegExp.$1),/NR=(\d+)/.test(i)&&(e=RegExp.$1),options.hasOwnProperty("resultNum")&&(e=options.resultNum),options.hasOwnProperty("resultLang")&&(o=options.resultLang),Cookie.set("BAIDUID",i.replace(/:.*$/,"")+("undefined"!=typeof o?":SL="+o:"")+("undefined"!=typeof e?":NR="+e:"")+("undefined"!=typeof t?":FG="+t:""),".baidu.com","/",expire30y,!0)
}function clearCookie(e){Cookie.clear(e,"/"),Cookie.clear(e,"/",document.domain),Cookie.clear(e,"/","."+document.domain),Cookie.clear(e,"/",".baidu.com")}function reset(e){options=defaultOptions,save(e)}var defaultOptions={sugSet:1,sugStoreSet:1,isSwitch:1,isJumpHttps:1,imeSwitch:0,resultNum:10,skinOpen:1,resultLang:0,duRobotState:"000"},options={},tmpName,expire30y=new Date;expire30y.setTime(expire30y.getTime()+94608e7);try{if(bds&&bds.comm&&bds.comm.personalData){if("string"==typeof bds.comm.personalData&&(bds.comm.personalData=eval("("+bds.comm.personalData+")")),!bds.comm.personalData)return;
for(tmpName in bds.comm.personalData)defaultOptions.hasOwnProperty(tmpName)&&bds.comm.personalData.hasOwnProperty(tmpName)&&"SUCCESS"==bds.comm.personalData[tmpName].ErrMsg&&(options[tmpName]=bds.comm.personalData[tmpName].value)}try{parseInt(options.resultNum)||delete options.resultNum,parseInt(options.resultLang)||"0"==options.resultLang||delete options.resultLang}catch(e){}writeCookie(),"sugSet"in options||(options.sugSet=3!=Cookie.get("sug",3)?0:1),"sugStoreSet"in options||(options.sugStoreSet=Cookie.get("sugstore",0));
var BAIDUID=Cookie.get("BAIDUID");"resultNum"in options||(options.resultNum=/NR=(\d+)/.test(BAIDUID)&&RegExp.$1?parseInt(RegExp.$1):10),"resultLang"in options||(options.resultLang=/SL=(\d+)/.test(BAIDUID)&&RegExp.$1?parseInt(RegExp.$1):0),"isSwitch"in options||(options.isSwitch=2==Cookie.get("ORIGIN",0)?0:1==Cookie.get("ORIGIN",0)?2:1),"imeSwitch"in options||(options.imeSwitch=Cookie.get("bdime",0))}catch(e){}window.UPS={writeBAIDUID:writeBAIDUID,reset:reset,get:get,set:set,save:save}}();;
var ie=navigator.userAgent.toLowerCase().match(/msie\s+(\d*)/),ie6=ie&&6==ie[1];if(window._is_skin_sam&&!ie6){var url="";"1"==window._is_skin_sam?url="../../skin/js/skin_1.js":"2"==window._is_skin_sam?url="../../skin/js/skin_2.js":"3"==window._is_skin_sam&&(url="../../skin/js/skin_3.js");var skinDefer=null;if(url)var skinDefer=$.ajax({dataType:"script",cache:!0,url:url});skinDefer&&skinDefer.done(function(){$(window).on("swap_end",function(){bds.se.skin&&new bds.se.skin}),$(window).on("swap_begin",function(){bds.se.skin&&bds.se.skin.prototype.dispose()
})})};
!function(){{var t={},n=function(t){var n=r(t);o(n)},e=function(e,r){var o=Math.random();if(o>.2&&.201>o&&"http:"==location.protocol){t.url=e,t.headers=r;{$.ajax({url:e,headers:r,success:n})}}},r=function(n){if("string"==typeof n&&"object"==typeof t.headers){if(t.headers.hasOwnProperty("content_syni")&&12495!==n.length)return n;if(t.headers.hasOwnProperty("content_syns")&&19295!==n.length)return n}return"normal"},o=function(t){$.ajax({url:"//www.baidu.com/r/plog",type:"post",data:{page_html:t}})};
window.ctwin={sendRequest:e}}}();;
var bds=bds||{};bds.se=bds.se||{},bds.se.speedTester=function(){function n(){}function t(n,t,s){s=s||19558,o(n,function(n){return function(t,o,s){e(n,o,s)}}(t),function(n){return function(){e(n)}}(t),s)}function o(t,o,e,s){o=o||n,e=e||n;var i=new Image;i.onload=function(){this.onload=this.onerror=null,s=this.fileSize||s;var n=new Date,t=n-r,e=s/t;o(this,t,e)},i.onerror=function(){this.onload=this.onerror=null,e(this)};var r=new Date;i.src=t}function e(n,t,o){var e=new Image;e.onload=e.onerror=function(){this.onload=this.onerror=null
},e.src=n+(t?"&t="+t+"&v="+o:"&t=-1&v=-1")+"&r="+Math.random()}return{start:t}}(),bds.se.speedMonitor=function(n){function t(){var n=c.pop();n&&o(n),a&&(u=window.setTimeout(t,r))}function o(n){var t=n.url,o=n.size||-1,e=[];e.push("id="+encodeURIComponent(n.id)),e.push("name="+encodeURIComponent(n.name)),e.push("url="+encodeURIComponent(n.url)),e.push("size="+encodeURIComponent(n.id));for(key in n.logData)e.push(key+"="+encodeURIComponent(n.logData[key]));bds.se.speedTester.start(t,d+"&"+e.join("&"),o)
}function e(){return!0}var s=n.logPath||"",i=n.flag||"default",r=n.sleep||"1000",a=!1,u=null,c=[],d=s+"?flag="+i;this.start=function(){this.stop(),a=!0,t()},this.stop=function(){a=!1,window.clearInterval(u)},this.addTask=function(n){e(n)&&c.push(n)},this.clear=function(){c=[]}},setTimeout(function(){var n=Math.random(),t="http://velocity.baidu.com/sp";if("https:"==location.protocol&&(t="https://sp0.baidu.com/6r1_czmhAB63otqbppnN2DJv/sp"),.01>n){var o=document.createElement("script");o.src=t,document.body.appendChild(o)
}},1e3);;
!function(e){var e=e||{};e.se=e.se||{},e.se.QuickDelete=function(e,t){this.form=e,this.options=t,this._init()},e.se.QuickDelete.prototype={constructor:e.se.QuickDelete,_init:function(){this._create_elem(),this._bind_event()},_create_elem:function(){var e=this.form,t=this.options,i=t.top||0,o=t.right||0,n=$.trim(e.val())?"block":"none",s="quickdelete",c=e.parent(),r=$('<a href="javascript:;"></a>').attr("id",s).attr("title","清空").addClass("quickdelete");c.addClass("quickdelete-wrap").append(r),r.css({top:i+"px",right:o+"px",display:n}),t.wrapElem=c,t.elem=r
},_show:function(){0===e.comm.ishome&&this.options.elem.show()},_hide:function(){this.options.elem.hide()},_bind_event:function(){var t=this.form,i=this.options.elem,o=this;t.on("focus",function(){$.trim(t.val())?o._show():o._hide()}).on("keyup input propertychange",function(){$.trim(t.val())?o._show():o._hide()}),i.on("click",function(){var i=e.comm.supportis?2:0;return ns_c({input_clear:e.comm.ishome+i,delete_query:encodeURIComponent(t.val())}),t.val("").focus(),o._hide(),!1}),$(window).on("swap_end index_off",function(){$.trim(t.val())?o._show():o._hide()
})}};new e.se.QuickDelete($("#kw"),{top:0,right:0})}(bds);;
window.bds&&bds.comm&&bds.comm.ishome&&$(window).on("load",function(){if(window.ctwin&&window.ctwin.sendRequest("//www.baidu.com/?tn=baidu",{content_syni:1}),window.performance&&performance.timing){var n=function(){var n=t("navigation"),e=t("domainLookup"),o=t("connect"),i=t("secureConnection"),a=(t("redirect"),t("request")),r=t("response"),d={start:performance.timing.domLoading,end:performance.timing.domComplete},s=t("loadEvent");return{navigation:o.start-n.start,dns:e.value,tcp:o.value,ssl:i.start>0?o.end-i.start:0,request:r.start-a.start,response:r.value,dom:d.end-d.start,loadEvent:s.end-n.start}
},e=Cookie.get("__bsi"),t=function(n){var e=performance.timing,t=e[n+"Start"]?e[n+"Start"]:0,o=e[n+"End"]?e[n+"End"]:0;return{start:t,end:o,value:o-t>0?o-t:0}},o=function(){var t=[],o=n();for(var i in o)t.push(i+"="+o[i]);t.push("protocol="+encodeURIComponent(location.protocol));var a="//www.baidu.com/nocache/fesplg/s.gif?log_type=hm&type=timing&",r="";r+=t.join("&"),r+="&newindex="+(window.bds&&bds.comm?bds.comm.newindex:-1),e&&(r+="&bsi="+e);var d=a+r,s=new Image,m="_LOG_"+(new Date).getTime();
s.onload=function(){delete window[m]},window[m]=s,s.src=d},i=Math.random();/8498/.test(bds.comm.indexSid)&&.01>i&&setTimeout(o,500)}});;
function formatDate(t,e){var o=function(t){return t>9?t:"0"+t};return("number"==typeof t||"string"==typeof t)&&(t=new Date(t)),[t.getFullYear(),o(t.getMonth()+1),o(t.getDate())].join(e||"")}function baseChangeUrl(t){bds.comm.search_tool.st&&bds.comm.search_tool.et&&bds.comm.search_tool.stftype&&t.indexOf("&gpc=")<0&&(t+="&gpc="+encodeURIComponent("stf="+bds.comm.search_tool.st+","+bds.comm.search_tool.et+"|stftype="+bds.comm.search_tool.stftype)),bds.comm.search_tool.si&&t.indexOf("&si=")<0&&(t+="&si="+encodeURIComponent(bds.comm.search_tool.si)+"&ct=2097152"),bds.comm.search_tool.sl_lang&&t.indexOf("&sl_lang=")<0&&(t+="&rsv_srlang="+encodeURIComponent(bds.comm.search_tool.sl_lang),t+="&sl_lang="+encodeURIComponent(bds.comm.search_tool.sl_lang),t+="&rsv_rq="+encodeURIComponent(bds.comm.search_tool.sl_lang)),changeUrl(t)
}function langChangeUrl(t,e,o){ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI(o),rsv_advTool_lang:e}),baseChangeUrl("wd="+encodeURIComponent($("#kw").val())+"&"+t+"="+encodeURIComponent(e)+"&rsv_srlang="+encodeURIComponent(e)+"&rsv_rq="+encodeURIComponent(e))}function advChangeUrl(t,e,o,i){if(-1!=e.indexOf("="))var s=1;else var s=0;ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI(o),rsv_advTool_time:i,rsv_advTool_stet:e.substr(4).replace(",","_")}),baseChangeUrl("wd="+encodeURIComponent($("#kw").val())+"&"+t+"="+encodeURIComponent(e)+"&tfflag="+s)
}function fileChangeUrl(t,e,o){ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI(e),rsv_advTool_ft:o}),baseChangeUrl("wd="+encodeURIComponent(queryReplace("filetype",t)))}function queryReplace(t,e){if(!t||"filetype"!=t&&"site"!=t)return i;var o=new RegExp("("+t+"):[^\\s]*[ ]?"),i=$("#kw").val();return" "==e||null==e?i.replace(o,""):i.match(o)?i.replace(o,"$1:"+e+" "):t+":"+e+" "+i}function extChangeUrl(t){t?(ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("精确匹配"),rsv_advTool_ext:1}),baseChangeUrl('wd="'+encodeURIComponent($("#kw").val())+'"')):(ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("智能匹配"),rsv_advTool_ext:0}),baseChangeUrl("wd="+encodeURIComponent($("#kw").val().replace(/^\"(.*)\"$/,"$1"))))
}$(window).on("swap_end",function(){bds.comm.search_tool&&(bds.comm.search_tool.init=!1)}),$(window).on("swap_begin",function(){$(document).off("click.searchTool")});var langfilterTip,timefilterTip,fileTypeTip,insideSearchTip;$(document).delegate(".head_nums_cont_outer","mousedown",function(){if("undefined"!=typeof bds.comm.search_tool){if(bds.comm.search_tool.init)return;bds.comm.search_tool.init=!0;var t=$(this),e=t.find(".search_tool").eq(0),o=t.find(".search_tool_close").eq(0),i=t.find(".head_nums_cont_inner").eq(0);
e.on("click",function(){i.animate({top:0},250),ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("搜索工具"),rsv_advTool:0})}),o.on("click",function(){i.animate({top:-42},250,function(){"en"==bds.comm.search_tool.sl_lang||bds.comm.search_tool.st||bds.comm.search_tool.et||bds.comm.search_tool.si||bds.comm.search_tool.ft||bds.comm.search_tool.exact?(ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("清除"),rsv_advTool:2}),baseChangeUrl("wd="+encodeURIComponent($("#kw").val().replace(/(filetype:[^\s]* )|(site:[^\s]*)/g,"").replace(/^\"+(.+)\"+$/,"$1"))+"&sl_lang=cn&rsv_srlang=cn&rsv_rq=cn&ct=0&si=&tfflag=0&gpc="+encodeURIComponent("stf=")),$("input[name='gpc'],input[name='si'],input[name='ct']","form").val("")):ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("收起工具"),rsv_advTool:1})
})});var s=t.find(".search_tool_la").eq(0);if(s.length>0){var c="<div class='c-tip-menu c-tip-langfilter'><ul>";"en"==bds.comm.search_tool.sl_lang?(c+="<li><a href='javascript:;' onClick='langChangeUrl(\"sl_lang\",\"cn\",this.innerHTML)'>所有网页</a></li>",c+="<li><span>英文网页</span></li>"):"cn"==bds.comm.search_tool.sl_lang&&(c+="<li><span>所有网页</span></li>",c+="<li><a href='javascript:;' onClick='langChangeUrl(\"sl_lang\",\"en\",this.innerHTML)'>英文网页</a></li>"),c+="</li></ul></div>",langfilterTip=new bds.se.tip({target:s,mode:"none",content:$(c),arrow:{has:0,offset:0},offset:{x:15,y:21}}),langfilterTip.hide()
}var a=t.find(".search_tool_tf").eq(0);if(a.length>0){var n="<div class='c-tip-menu c-tip-timerfilter'><ul>";n+=bds.comm.search_tool.st||bds.comm.search_tool.et?" <li><a href='javascript:;' onClick='advChangeUrl(\"gpc\",\"stf\",this.innerHTML,0)'>时间不限</a></li>":" <li><span>时间不限</span></li>",n+=bds.comm.search_tool.st>=bds.comm.search_tool.thisDay&&"1"==bds.comm.search_tool.stftype?" <li><span>一天内</span></li>":" <li><a href='javascript:;' onClick='advChangeUrl(\"gpc\",\"stf="+bds.comm.search_tool.oneDay+","+bds.comm.serverTime+"|stftype=1\",this.innerHTML,1)'>一天内</a></li>",n+=bds.comm.search_tool.st>=bds.comm.search_tool.thisWeek&&bds.comm.search_tool.st<bds.comm.search_tool.thisDay&&"1"==bds.comm.search_tool.stftype?" <li><span>一周内</span></li>":" <li><a href='javascript:;' onClick='advChangeUrl(\"gpc\",\"stf="+bds.comm.search_tool.oneWeek+","+bds.comm.serverTime+"|stftype=1\",this.innerHTML,2)'>一周内</a></li>",n+=bds.comm.search_tool.st>=bds.comm.search_tool.thisMonth&&bds.comm.search_tool.st<bds.comm.search_tool.thisWeek&&"1"==bds.comm.search_tool.stftype?" <li><span>一月内</span></li>":" <li><a href='javascript:;' onClick='advChangeUrl(\"gpc\",\"stf="+bds.comm.search_tool.oneMonth+","+bds.comm.serverTime+"|stftype=1\",this.innerHTML,3)'>一月内</a></li>",n+=bds.comm.search_tool.st>=bds.comm.search_tool.thisYear&&bds.comm.search_tool.st<bds.comm.search_tool.thisMonth&&"1"==bds.comm.search_tool.stftype?" <li><span>一年内</span></li>":" <li><a href='javascript:;' onClick='advChangeUrl(\"gpc\",\"stf="+bds.comm.search_tool.oneYear+","+bds.comm.serverTime+"|stftype=1\",this.innerHTML,4)'>一年内</a></li>",n+=" <li class='c-tip-custom'>",n+=" <hr />自定义",n+=" <p class='c-tip-custom-st'>从<input name='st' date-min='0' date-max='"+formatDate(1e3*bds.comm.serverTime)+"' type='txt' autocomplete='off' ",n+=bds.comm.search_tool.st&&bds.comm.search_tool.et&&"2"==bds.comm.search_tool.stftype?"value='"+formatDate(1e3*bds.comm.search_tool.st,"-")+"' data-value='"+1e3*bds.comm.search_tool.st+"' class='c-tip-custom-input'/></p>":"value='"+formatDate(1e3*bds.comm.serverTime,"-")+"' data-value='' class='c-tip-custom-input c-tip-custom-input-init'/></p>",n+="  <p class='c-tip-custom-et'>至<input name='et' date-min='0' date-max='"+formatDate(1e3*bds.comm.serverTime)+"' type='txt' autocomplete='off' ",n+=bds.comm.search_tool.st&&bds.comm.search_tool.et&&"2"==bds.comm.search_tool.stftype?"value='"+formatDate(1e3*bds.comm.search_tool.et,"-")+"' data-value='"+1e3*bds.comm.search_tool.et+"' class='c-tip-custom-input'/></p>":"value='"+formatDate(1e3*bds.comm.serverTime,"-")+"' data-value='' class='c-tip-custom-input c-tip-custom-input-init'/></p>",n+="<div class='c-tip-timerfilter-custom-error'>自定义时间错误！</div>",n+="<a href='javascript:;' class='c-tip-custom-submit'>确认</a>",n+="</li></ul></div>",timefilterTip=new bds.se.tip({target:a,mode:"none",content:$(n),arrow:{has:0,offset:0},offset:{x:15,y:21},onShow:function(){$(this.getTarget()).width()>95&&$("ul",this.getDom()).width($(this.getTarget()).width()+20),$(".c-tip-custom-input").on("click",function(t){var e=this,o=null,i=new Date,s=$(e).parents(".c-tip-custom"),c=s.find("input[name='st']"),a=s.find("input[name='et']");
$(e).attr("data-value")&&i.setTime($(e).attr("data-value")),$(e).parents(".c-tip-custom").find(".c-tip-custom-input").removeClass("c-tip-custom-input-focus"),$(e).addClass("c-tip-custom-input-focus"),0==$("#c-tip-custom-calenderCont").length&&$(e).parents(".c-tip-custom").append("<div id='c-tip-custom-calenderCont'></div>"),$("#c-tip-custom-calenderCont").html("");var n={element:"c-tip-custom-calenderCont",date:formatDate(i),between:[$(e).attr("date-min")-0,$(e).attr("date-max")-0],onSelectDay:function(t){if(t+="","st"==e.name){var o=new Date(t.substr(0,4),t.substr(4,2)-1,t.substr(6,2),0,0,0);
a.attr("date-min",t)}else{var o=new Date(t.substr(0,4),t.substr(4,2)-1,t.substr(6,2),23,59,59);c.attr("date-max",t)}$(e).val(formatDate(o,"-")),$(e).attr("data-value",o.getTime()),$("#c-tip-custom-calenderCont").hide(),$(e).removeClass("c-tip-custom-input-focus").removeClass("c-tip-custom-input-init")}};"undefined"==typeof WCal?$.getScript("https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/new_wcal_3426010.js",function(){o=new WCal(n),i&&o.setDay(formatDate(i),function(t){t.className+=" op_mon_day_selected"
})}):(o=new WCal(n),i&&o.setDay(formatDate(i),function(t){t.className+=" op_mon_day_selected"})),$("#c-tip-custom-calenderCont").css({top:$(this).position().top-2,left:$(this).position().left+$(this).width()+15,display:"block"}),t.stopPropagation()}),$(".c-tip-custom-input").on("focus",function(){$(this).removeClass("c-tip-custom-input-init")}),$(".c-tip-custom-input").on("blur",function(){function t(t){var e,o=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,i=new Date(0/0),s=o.exec(t);return s&&(e=+s[2],i.setFullYear(s[1],e-1,s[3]),e!=i.getMonth()+1&&i.setTime(0/0)),i
}var e=this,o=t($(e).val());o instanceof Date&&o.getTime()?($(e).attr("data-value",o.getTime()),$(".c-tip-timerfilter-custom-error").hide()):""==$(e).val()?($(e).attr("data-value","0"),$(".c-tip-timerfilter-custom-error").hide()):($(e).attr("data-value",""),$(".c-tip-timerfilter-custom-error").show())});try{$(".c-tip-custom-submit").off("click.searchTool").on("click.searchTool",function(t){var e=this,o=$(e).parents(".c-tip-custom"),i=parseInt($(".c-tip-custom-input",o)[0].getAttribute("data-value")/1e3),s=parseInt($(".c-tip-custom-input",o)[1].getAttribute("data-value")/1e3);
return $("#c-tip-custom-calenderCont").hide(),""!=i&&i||(i=0),""!=s&&s||!i||""==i||(s=parseInt((new Date).setHours(23,59,58)/1e3)),s>bds.comm.serverTime&&(0>=i?(i="",s=""):s=parseInt((new Date).setHours(23,59,58)/1e3)),i>s||i>bds.comm.serverTime?($(".c-tip-timerfilter-custom-error").show(),void t.stopPropagation()):(0==i&&0==s&&(i="",s=""),$(".c-tip-timerfilter-custom-error").hide(),void advChangeUrl("gpc","stf="+i+","+s+"|stftype=2","自定义时间:"+i+"|"+s,5))})}catch(t){}}}),timefilterTip.hide()}var l=t.find(".search_tool_ft").eq(0);
if(l.length>0){var r="<div class='c-tip-menu c-tip-timerfilter c-tip-timerfilter-ft'><ul>";r+=bds.comm.search_tool.ft?" <li><a href='javascript:;' onClick='fileChangeUrl(null,this.innerHTML,0)'>所有网页和文件(不限格式)</a></li>":" <li><span>所有网页和文件(不限格式)</span></li>",r+="pdf"==bds.comm.search_tool.ft?" <li><span>Adobe Acrobat PDF(.pdf)</span></li>":" <li><a href='javascript:;' onClick='fileChangeUrl(\"pdf\",this.innerHTML,1)'>Adobe Acrobat PDF(.pdf)</a></li>",r+="doc"==bds.comm.search_tool.ft?" <li><span>微软 Word(.doc)</span></li>":" <li><a href='javascript:;' onClick='fileChangeUrl(\"doc\",this.innerHTML,2)'>微软 Word(.doc)</a></li>",r+="xls"==bds.comm.search_tool.ft?" <li><span>微软 Excel(.xls)</span></li>":" <li><a href='javascript:;' onClick='fileChangeUrl(\"xls\",this.innerHTML,3)'>微软 Excel(.xls)</a></li>",r+="ppt"==bds.comm.search_tool.ft?" <li><span>微软 PowerPoint(.ppt)</span></li>":" <li><a href='javascript:;' onClick='fileChangeUrl(\"ppt\",this.innerHTML,4)'>微软 PowerPoint(.ppt)</a></li>",r+="rtf"==bds.comm.search_tool.ft?" <li><span>RTF 文件(.rtf)</span></li>":" <li><a href='javascript:;' onClick='fileChangeUrl(\"rtf\",this.innerHTML,5)'>RTF 文件(.rtf)</a></li>",r+="</ul></div>";
var m=new bds.se.tip({target:l,mode:"none",content:$(r),arrow:{has:0,offset:0},offset:{x:15,y:21}});m.hide()}var d=t.find(".search_tool_si").eq(0);d.length>0&&(insideSearchTip=new bds.se.tip({target:d,mode:"none",content:$("<div class='c-tip-menu c-tip-timerfilter c-tip-timerfilter-si'><ul> <li><input name='si' type='txt' class='c-tip-si-input c-gap-bottom-small c-gap-right-small' autocomplete='off' value='"+bds.comm.search_tool.si+"' placeholder='例如:baidu.com' /><a href='javascript:;' class='c-tip-timerfilter-si-submit'>确认</a></li> <li><p class='c-tip-timerfilter-si-error'>无法识别，正确格式：baidu.com</p></li></ul></div>"),arrow:{has:0,offset:0},offset:{x:15,y:21},onShow:function(){$(".c-tip-si-input").on("focus",function(){$(this).addClass("c-tip-si-input-focus")
}),$(".c-tip-si-input").on("blur",function(){$(this).removeClass("c-tip-si-input-focus")});try{$(".c-tip-timerfilter-si-submit").off("click.searchTool").on("click.searchTool",function(t){var e=this,o=$(e).parents(".c-tip-timerfilter-si"),i=$("input",o).val(),s=queryReplace("site");if(""==i)ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("站内检索:"+i),rsv_advTool_si:encodeURI(i)}),baseChangeUrl("wd="+encodeURIComponent(s)+"&si=&ct=0");else{if(!i.match(/^[\w\-_]+(\.[\w\-_]+)+$/))return $(".c-tip-timerfilter-si-error").show(),t.stopPropagation(),t.preventDefault(),!1;
$(".c-tip-timerfilter-si-error").hide(),ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("站内检索:"+i),rsv_advTool_si:encodeURI(i)}),baseChangeUrl("wd="+encodeURIComponent(s)+"&si="+encodeURIComponent(i)+"&ct=2097152")}})}catch(t){}}}),insideSearchTip.hide());var p=!0;s.on("click",function(t){p?(langfilterTip&&langfilterTip.show(),p=!1,timefilterTip&&timefilterTip.hide(),f=!0,m&&m.hide(),h=!0,insideSearchTip&&insideSearchTip.hide(),u=!0,ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("语言筛选浮层展现"),rsv_advTool_tip:1}),$(document).on("click.searchTool",function(t){0==$(t.target).parents(".c-tip-langfilter").length&&langfilterTip&&(langfilterTip.hide(),p=!0,$(document).off("click.searchTool"))
})):(langfilterTip&&langfilterTip.hide(),p=!0,$(document).off("click.searchTool")),t.stopPropagation()});var f=!0;a.on("click",function(t){f?(langfilterTip&&langfilterTip.hide(),p=!0,timefilterTip&&timefilterTip.show(),f=!1,m&&m.hide(),h=!0,insideSearchTip&&insideSearchTip.hide(),u=!0,ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("时间筛选浮层展现"),rsv_advTool_tip:0}),$(document).on("click.searchTool",function(t){0==$(t.target).parents(".c-tips-container,#c-tip-custom-calenderCont").length&&timefilterTip&&(timefilterTip.hide(),$("#c-tip-custom-calenderCont").hide(),timefilterTip.getDom().find(".c-tip-custom-input-focus").removeClass("c-tip-custom-input-focus"),f=!0,$(document).off("click.searchTool"))
})):(timefilterTip&&timefilterTip.hide(),f=!0,$(document).off("click.searchTool")),t.stopPropagation()});var h=!0;l.on("click",function(t){h?(langfilterTip&&langfilterTip.hide(),p=!0,timefilterTip&&timefilterTip.hide(),f=!0,m&&m.show(),h=!1,insideSearchTip&&insideSearchTip.hide(),u=!0,ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("网页格式浮层展现"),rsv_advTool_tip:2}),$(document).on("click.searchTool",function(t){0==$(t.target).parents(".c-tip-timerfilter-ft").length&&m&&(m.hide(),h=!0,$(document).off("click.searchTool"))
})):(m&&m.hide(),h=!0,$(document).off("click.searchTool")),t.stopPropagation()});var u=!0;d.on("click",function(t){u?(langfilterTip&&langfilterTip.hide(),p=!0,timefilterTip&&timefilterTip.hide(),f=!0,m&&m.hide(),h=!0,insideSearchTip&&insideSearchTip.show(),u=!1,ns_c({fm:"advTool",qid:bds.comm.qid,title:encodeURI("站内搜索浮层展现"),rsv_advTool_tip:3}),$(document).on("click.searchTool",function(t){0==$(t.target).parents(".c-tip-timerfilter-si").length&&insideSearchTip&&(insideSearchTip.hide(),u=!0,$(document).off("click.searchTool"))
})):(insideSearchTip&&insideSearchTip.hide(),u=!0,$(document).off("click.searchTool")),t.stopPropagation()})}});;
!function(){function t(){function t(t,e){var n={top:e.offset().top,left:e.offset().left},i={width:e.width(),height:e.height()},u=function(){var t=e.attr("data-click");if(t)try{return $.parseJSON(t)}catch(n){}}()||{},o=t+(u.p5||"");return{id:o,pos:n,size:i,dataClick:u,dom:e}}var e={},n={},i=$("#wrapper");return e.topResult=i.find("#con-at").find(".result-op"),e.rightResult=i.find("#con-ar").find(".result-op"),e.leftResult=i.find("#content_left").find(".result, .result-op"),e.topResult.length&&(n.T=[],e.topResult.each(function(){n.T.push(t("T",$(this)))
})),e.rightResult.length&&(n.R=[],e.rightResult.each(function(){n.R.push(t("R",$(this)))})),e.leftResult.length&&(n.L=[],e.leftResult.each(function(){n.L.push(t("L",$(this)))})),n}bds.se.skeleton=function(){var e;return function(){return e||(e=t(),$(window).one("swap_begin",function(){e=null})),e}}()}();;
!function(){$(window).on("swap_end",function(){var n=function(){var n=[],o=bds.se.skeleton(),i=o.L;return i?($.each(i,function(o,i){var d={};d.dom=i.dom,d.id=i.id,d.itime=0,d.time=0,n.push(d)}),n):null};bds.comm.orderplay=n()})}();;
!function(){function t(){var t=this;t.display={},t.expand={},t.dom={},t.init()}bds.se.display=function(){new t},t.prototype={init:function(){var t=this;t.dom=bds.se.skeleton();var e=$("#wrapper");t.dom.rsResult=e.find("#rs a"),t.dom.hintResult=e.find(".se_common_hint"),t.rs=t.dom.rsResult.length||0,t.hint=t.dom.hintResult.length||0,t.display.base=t.getBase(),t.dom.L&&t.getResult(t.dom.L),t.dom.R&&t.getResult(t.dom.R),t.dom.T&&t.getResult(t.dom.T),t.rs&&(t.display.rs=t.getRS()),t.hint&&(t.display.hint=t.getHint()),t.send()
},send:function(){var t=this;for(var e in t.display){var n={};n[e]=t.display[e],bds.log.send.sendPack("new_disp",n)}for(var i in t.expand)if(i&&t.expand[i])for(var s in t.expand[i])if(s&&t.expand[i][s]&&t.expand[i][s].length)for(var d=t.expand[i][s],r=0;r<d.length;r++){var a={};a[i]={expand:{}},a[i].expand[s]={},a[i].expand[s][r]=d[r],bds.log.send.sendPack("new_disp",a)}},getBase:function(){var t=this,e={};return e.qid=bds.comm.qid||"",e.tpl=bds.comm.resTemplateName||"",e.async=bds.comm.supportis?1:0,e.page=bds.comm.pageNum||1,e.upn=$.getCookie("BD_UPN")||"",t.dom.L&&(e.left=t.dom.L.length),t.dom.R&&(e.right=t.dom.R.length),t.dom.T&&(e.top=t.dom.T.length),e.size={},e.size.doc={w:$(document).width(),h:$(document).height()},e.size.wind={w:$(window).width(),h:$(window).height()},e.size.scr={w:screen.width,h:screen.height},e
},getRS:function(){var t=this,e={};return e.num=t.rs,e.query=[],t.dom.rsResult.each(function(){var t=this.textContent||this.innerText;e.query.push(t)}),e},getHint:function(){var t=this,e={};return e.result=[],t.dom.hintResult.each(function(){var t={};t.id=this.getAttribute("data-id")||0,t.tpl=this.getAttribute("data-tpl")||"",e.result.push(t)}),e},getResult:function(t){for(var e=this,n=t,i=0,s=Math.min(n.length,10);s>i;i++){var d=n[i].id,r=e.getResultDisplay(n[i]);e.expand[d]=r.expand,delete r.expand,e.display[d]=r
}},getResultDisplay:function(t){function e(){var e=t.size;return{w:e.width||0,h:e.height||0}}function n(){var e=t.pos;return{t:e.top||0,l:e.left||0}}function i(){return h.rsv_bdr&&0!=h.rsv_bdr?h.rsv_bdr:o.hasClass(".c-border")||o.find(".c-border").length?5:0}function s(){function t(t){var e;return t&&(e=o.find(t)),e&&e.length?!0:!1}var e={};return t(".favurl")&&(e.fi=1),t(".c-text-public.c-text-mult")&&(e.gwi=1),t(".icon-unsafe-icon")&&(e.fxi=1),t(".c-icon-v")&&(e.vi=1),t(".c-icon-med")&&(e.yjji=1),t(".c-icon-air")&&(e.hxi=1),t(".c-recommend")&&(e.cr=1),e
}function d(){var t=o.find("a").not(":hidden").not("h3 a, .m"),e=[],n=/^((https?:)?\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*(:\d+)*(\/.*)*/,i=/^(\/s\?)/;return t.each(function(){var t=this.getAttribute("href");if(t&&n.test(t)){var s=t&&t.match(/.*\/link\?url=([^&]*).*/);e.push(s&&s.length&&s.length>0&&s[1]?s[1]:t)}else t&&i.test(t)&&e.push(t)}),e.length?e:!1}function r(){var t=[],e=o.find("img").not(":hidden").not("[data-nolog]");return e.length?(e.each(function(){var e={w:this.width,h:this.height};
t.push({size:e})}),t):!1}function a(){var t=[],e=o.find("object, video, audio");return e.length?(e.each(function(){var e=$(this),n={};n.type=e.is("object")&&e.attr("type")&&e.attr("type").indexOf("flash")>=0?1:e.is("video")?2:e.is("audio")?3:0,n.size={w:e.width(),h:e.height()},t.push(n)}),t):!1}var o=t.dom,h=t.dataClick,u={};if(u.id=h.p5||"",u.srcid=h.rsv_srcid||o.attr("srcid")||0,u.tpl=o.attr("tpl")||"",u.mu=h.mu||o.attr("mu")||"",u.fm=h.fm||"as",o.is(":hidden")&&(u.show=0),0==u.show)return u;u.size=e(),u.pos=n(),i()&&(u.bdr=i()),u.com=s();
var l=d(),c=r(),p=a();return(l||c||p)&&(u.expand={},l&&(u.link=l.length,u.expand.links=l),c&&(u.img=c.length,u.expand.imgs=c),p&&(u.app=p.length,u.expand.apps=p)),u}}}();;
!function(){function e(){this.pageElementsList=[],this.scrollTime=null,this.scrollChange=!1,this.resizeTime=null,this.resizeChange=!1,this.scrollTop=$(document).scrollTop(),this.scrollLeft=$(document).scrollLeft(),this.windowHeight=$(window).height(),this.windowWidth=$(window).width()}e.prototype={init:function(){var e=bds.se.skeleton(),i=this;$.each(["L","R","T"],function(t,n){e[n]&&($.merge(i.pageElementsList,i.getDom(e[n])),i.bindEvent(e[n]))})},getDom:function(e){var i=[];return $.each(e,function(e,t){var n={};
n.top=t.pos.top,n.height=t.size.height,n.id=t.id,n.visible=0,i.push(n)}),i},sendLog:function(e,i){bds.comm.globalLogFlag&&1==bds.comm.globalLogFlag&&bds.log.send.sendPack(e,i)},bindEvent:function(e){var i=this;$.each(e,function(e,t){var n=200,o=!1,s=null;t.dom.bind("mouseenter.useraction",function(){null!==s&&clearTimeout(s),s=setTimeout(function(){i.sendLog("new_view",{type:"mouseIn",id:t.id,t:(new Date).getTime()}),o=!0,s=null},n)}).bind("mouseleave.useraction",function(){null!==s&&(clearTimeout(s),s=null),o&&(i.sendLog("new_view",{type:"mouseOut",id:t.id,t:(new Date).getTime()}),o=!1)
})})},destroy:function(){$(window).unbind(".useraction"),this.pageElementsList.splice(0,this.pageElementsList.length)},sight:function(){var e=this;$.each(this.pageElementsList,function(i,t){var n=e.scrollTop<t.top+t.height&&e.scrollTop+e.windowHeight>t.top;if(1!==t.visible||n){if(0===t.visible&&n){if(e.sendLog("new_view",{type:"sight",resid:t.id,action:"in",t:(new Date).getTime()}),bds.comm.orderplay&&bds.comm.orderplay.length&&"L"==t.id.substr(0,1)&&bds.comm.pageSize){var o=(parseInt(t.id.substr(1))-1)%bds.comm.pageSize,s=bds.comm.orderplay[o];
s&&!s.itime&&(s.itime=(new Date).getTime())}t.visible=1}}else{if(e.sendLog("new_view",{type:"sight",resid:t.id,action:"out",t:(new Date).getTime()}),bds.comm.orderplay&&bds.comm.orderplay.length&&"L"==t.id.substr(0,1)&&bds.comm.pageSize){var o=(parseInt(t.id.substr(1))-1)%bds.comm.pageSize,s=bds.comm.orderplay[o];s&&(s.time+=(new Date).getTime()-s.itime,s.itime=(new Date).getTime())}t.visible=0}})},collectPoint:function(e){function i(){s[n]=setTimeout(function(){s.sendLog("new_view",t(e)),s[o]=!1,s.sight(),s[o]?i():s[n]=null
},1e3)}function t(e){if("resize"===e){var i=$(window);return s.windowHeight=i.height(),s.windowWidth=i.width(),{type:"resize",t:(new Date).getTime(),height:s.windowHeight,width:s.windowWidth}}if("scroll"===e){var t=$(document);return s.scrollTop=t.scrollTop(),s.scrollLeft=t.scrollLeft(),{type:"scroll",t:(new Date).getTime(),offsetX:s.scrollTop,offsetY:s.scrollLeft}}}var n=e+"Time",o=e+"Change",s=this;null===s[n]&&i()},collect:function(){this.init();var e=this;null!==this.resizeTime&&clearTimeout(this.resizeTime),this.resizeTime=null,null!==this.scrollTime&&clearTimeout(this.scrollTime),this.scrollTime=null,$(window).bind("focus.useraction",function(){e.sendLog("new_view",{type:"focus",t:(new Date).getTime()})
}).bind("blur.useraction",function(){e.sendLog("new_view",{type:"blur",t:(new Date).getTime()})}).bind("resize.useraction",function(i){e.resizeChange=!0,e.collectPoint("resize",i)}).bind("scroll.useraction",function(i){e.scrollChange=!0,e.collectPoint("scroll",i)}),this.sight()},outInterface:function(){var e=this;return{collect:function(){e.collect()},destroy:function(){e.destroy()}}}},bds.se.userAction=(new e).outInterface()}();;
bds.comm.recommends={},bds.comm.recommends.recommWidth=0,bds.se.recommend=function(o){var e=this;e.op=$.extend({},e._default,o),e.id=e.op.target.attr("id"),e.init()},bds.se.recommend.prototype={constructor:bds.se.recommend,__init__:!1,currInstance:null,recommDom:null,arrowDom:null,cssDom:null,loadDom:null,global:{},_default:{target:"",arrowOffset_s:-54,arrowOffset_l:-151,container_s:276,container_l:368,startOpacity:.3,endOpacity:1},init:function(){var o=this;o.currInstance&&o.currInstance.id==o.id||(o.delay={overIcon:null,loader:null,overArrow:null},o.doWhat(function(){o.__init__||(bds.se.recommend.prototype.__init__=!0,o.createRecommDom()),o.createArrowDom(),o.delay.overArrow=setTimeout(function(){var e=o.op.arrowDom.find(".rrecom-btn");
"none"==e.css("display")&&e.show(),o.moveArrow(function(){e.addClass("rrecom-btn-hover"),o.showRecommDom()})},100)}))},dispose:function(){bds.se.recommend.prototype.currInstance=null,bds.se.recommend.prototype.recommDom&&bds.se.recommend.prototype.recommDom.remove(),bds.se.recommend.prototype.cssDom&&bds.se.recommend.prototype.cssDom.remove(),bds.comm.recommends={},bds.se.recommend.prototype.__init__=!1,$(window).off("resize.recommend container_resize.recommend scroll.recommend")},createArrowDom:function(){var o=this,e=o.op.target.find(".rrecom-btn-parent");
if(e.length)o.op.arrowDom=e;else{var t=['<span class="rrecom-btn-parent rrecom-btn-s">','<span class="rrecom-btn">',"<span></span>","</span>","</span>"].join("");o.op.arrowDom=$(t),o.op.arrowDom.on("click",".rrecom-btn",function(){o.hideRecommDom()}),o.op.target.css({position:"relative"}).append(o.op.arrowDom)}},resetArrow:function(){var o=this;o.op.arrowDom.css({right:o.op.arrowOffset_s}).removeClass("rrecom-btn-click rrecom-btn-moving").find(".rrecom-btn").stop().hide().removeClass("rrecom-btn-hover")
},setArrowPos:function(){var o=this;o.currInstance&&("l"===bds.comm.containerSize?o.currInstance.op.arrowDom.css("right",o.op.arrowOffset_l):o.currInstance.op.arrowDom.css("right",o.op.arrowOffset_s))},moveArrow:function(o){var e=this,t={opacity:e.op.endOpacity};t.right="l"===bds.comm.containerSize?e.op.arrowOffset_l:e.op.arrowOffset_s,e.op.arrowDom.stop().addClass("rrecom-btn-moving rrecom-btn-click").animate(t,0,function(){e.currInstance&&e.currInstance!==e&&e.currInstance.resetArrow(),o()})},log:function(o){var e={},t=this.op.target.attr("data-click"),r=this.op.target.attr("srcid"),n=this.op.target.attr("tpl"),s=this.op.target.attr("mu");
if(r&&(e.rsv_srcid=r),n&&(e.rsv_tpl=n),s&&(e.mu=s),t&&$.extend(e,$.parseJSON(t)),e.p1&&!e.p5&&(e.p5=e.p1),e.p5&&!e.p1&&(e.p1=e.p5),!e.p1&&!e.p5)for(var a=$("#content_left").get(0),i=a.children,m=1,p=0,d=i.length;d>p;p++)if(1==i[p].nodeType&&i[p].className&&/\bresult(\-op)?\b/.test(i[p].className)){if(i[p]===this.op.target.get(0)){e.p1=m,e.p5=m;break}m++}e.fm="beha";var l=this.op.target.find(".t>a").eq(0);return e.rsv_re_fcurl=l.length?l.attr("href"):s,e.rsv_re_fcurl=e.rsv_re_fcurl||"",e.rsv_re_fcurl=encodeURIComponent(e.rsv_re_fcurl),c($.extend(e,o))
},getLeftP:function(){var o=this.op.target.attr("data-click");return o=$.parseJSON(o)||{},o.p1&&!o.p5&&(o.p5=o.p1),o.p5&&!o.p1&&(o.p1=o.p5),o.p5||o.p1||(o.p1=1,o.p5=1),{p1:o.p1,p5:o.p5}},s_log:function(){this.log({rsv_re_fc:2})},setCacheData:function(o){bds.comm.recommends[this.id]=o},getCacheData:function(){return bds.comm.recommends[this.id]},doWhat:function(o){var e=this.getCacheData();"[NO DATA]"!==e&&(e?o():this.getRemoteData(o))},getJsonp:function(o){var e=this.op.target.find(".t>a").eq(0),t=(e.length?e.attr("href"):this.op.target.attr("mu"))||"",r=t&&t.match(/.*url=([^&]*).*/),n=bds.comm.query;
if(r&&r.length&&r.length>0&&r[1]){t=r[1];var s="http://lcr.open.baidu.com/link?url="+encodeURIComponent(t)+"&query="+encodeURIComponent(n),c=window.bds&&bds.util&&bds.util.domain&&bds.util.domain.get(s);return $.ajax({url:c,dataType:"jsonp",jsonp:"cb",data:{data_name:o,ie:"utf-8",oe:"utf-8",format:"json",t:Date.parse(new Date)}})}},getRemoteData:function(o){var e=this,t="recommend_common_merger_online";$.when(this.getJsonp(t)).then(function(t){t&&t.data&&t.data.length&&t.data[0]?(t.data[0].hintData&&e.asynClkRcmd(t.data[0].hintData),(t.data[0].extData||t.data[0].tplData)&&(e.setCacheData(t.data),o())):e.setCacheData("[NO DATA]")
},function(){})},asynClkRcmd:function(o){var e=this,o=o[0]||{},t=$("#wrapper_wrapper");if(o&&o.linkInfo){{var r=e.op.target.find(".c-recommend"),n=r.find(".recommend-line");o.defaultHide}if(n&&n.length&&(n.remove(),r.append(e.buildRcmdDom(o))),!r||!r.length){var s=$('<div class="c-gap-top c-recommend"></div>');t.find(".c-recommend").hide(),s.append(e.buildRcmdDom(o)),e.op.target.append(s)}}},buildRcmdDom:function(o){for(var e=this,t=o.tip||"为您推荐：",r='<div class="recommend-line"><i class="c-icon c-icon-bear-circle c-gap-right-small"></i><span class="c-gray">'+t+"</span>",n=o.linkInfo,s=o.linkInfo2,c=encodeURIComponent(bds.comm.query),a=0,i=n.length;i>a;a++){var m=n[a].txt,p=n[a].wd,d=n[a].sa,l="c-gap-left-large";
0==a&&(l="");var f="wd="+p+"&rsv_crq="+d+"&bs="+c,h=e.buildURL(f);r+='<a class="'+l+'" href="'+h+'" title="'+escapeHTML(m)+'" target=_blank>'+escapeHTML(m)+"</a>"}if(r+="</div>",s){r+='<div class="recommend-line">';for(var a=0,i=s.length;i>a;a++){var m=s[a].txt,p=s[a].wd,d=s[a].sa,l="c-gap-left-large",g="";0==a&&(g="margin-left:88px;");var f="wd="+p+"&rsv_crq="+d+"&bs="+c,h=e.buildURL(f);r+='<a class="'+l+'" href="'+h+'" title="'+escapeHTML(m)+'" target=_blank style="'+g+'">'+escapeHTML(m)+"</a>"
}r+="</div>"}return r},buildURL:function(o){var e="/s?",t={tn:bds.comm.tn},r=$("#form"),n=r.find("input[name=rsv_idx]"),s="";t.rsv_idx=n.length?n.val():"";for(var c in t)t.hasOwnProperty(c)&&t[c]&&(s+=c+"="+encodeURIComponent(t[c])+"&");return e+s+o},renderTpl:function(o,e){var t=this;if(o&&e){var r={};return r.right_recommends_merge=function(o){function r(e,r){var n,s='<div class="cr-content" data-click=\'#{2}\'><div class="cr-title c-clearfix"><span title="#{0}">#{1}</span></div>',c='<div class="c-row c-gap-top">',a='<div class="c-span4#{5} rrecom-item" data-click=\'#{6}\'><div class="rrecom-p"><a target="_blank" href="#{0}"><img class="c-img c-img4 rrecom-img" src="#{1}"></a></div><div class="c-gap-top-small"><a target="_blank" title="#{2}" href="#{3}">#{4}</a></div>',i="</div>",m="",p=(e.showrow,e.shownums),d={rsv_srcid:o.StdStg||0};
e.list&&!e.list.length&&(e.list=[e.list]),m+=$.format(s,e.subtitle,e.subtitle,$.stringify(d)),m+='<div class="rrecom-panel">';for(var l=t.op.target.find(".t>a").eq(0),f=l.length?l.attr("href"):t.op.target.attr("mu"),h=0,g=e.list.length;g>h;h++){n=e.list[h];var u={rsv_re_ename:n.name,rsv_re_uri:n.uri,rsv_re_fcpoi:r+"-"+(h+1),rsv_clk_url:f},b=t.buildURL(n.params+"&euri="+(n.uri||""));if(h==p)break;h%4===0&&(m+=c),bds.util&&bds.util.domain&&bds.util.domain.get&&(n.img=bds.util.domain.get(n.img)),m+=$.format(a,b,n.img,n.name,b,$.subByte(n.name,20),(h+1)%4===0?" c-span-last rrecom-item-rowLast":(h+1)%4===3?" rrecom-item-s":"",$.stringify(u),n.attrpic),m+=i,((h+1)%4===0||h==g-1)&&(m+=i)
}return m+=i,m+=i}var o=o||e,n="",s=12,c=0;o.card&&!o.card.length&&(o.card=[o.card]);for(var a=0,i=o.card.length;i>a;a++){var m=o.card[a];if(c+=parseInt(m.shownums||0),c>s)break;n+=r(m,a+1)}return n},r[o]?r[o]():void 0}},render:function(o){for(var e="",t=0;t<o.length;t++)e+=this.renderTpl(o[t].extData.tplt,o[t].tplData);var r=this.getLeftP();r.fm="alxr",this.recommDom.attr("data-click",$.stringify(r)).find(".rrecom-content").eq(0).empty().append(e),this.setRecommPosition()},createRecommDom:function(){var o=['<div style="position:fixed;left:-1px;background:#fff;border:1px solid #eee;z-index:103" class="result-op xpath-log" data-click=\'{"fm":"alxr","p1":1,"p5":1}\'>','<div class="rrecom-ajax-loading c-loading"></div>','<div class="rrecom-container">','<a href="javascript:;" class="rrecom-btn-close" data-click=\'{"rsv_re_fc":4,"fm":"beha"}\'></a>','<div class="rrecom-content"></div>',"</div>","</div>"].join(""),e="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/rrecom_icon_e34d796.png",t=["<style>",".rrecom-btn-close,.rrecom-btn span{background:url("+e+") no-repeat;}",".rrecom-btn-close{display:inline-block;width:13px;height:13px;position:absolute;top:26px;right:10px;background-position:0 -20px;}",".rrecom-btn-parent{z-index:104;position:absolute;right:-37px;top:50%;margin-top:-50px;height:59px;width:40px;cursor:default;padding:20px 0px;}",".rrecom-btn{display:none;background-color:#fff;padding:20px 5px;position:absolute;right:10px;width:20px;height:19px;border:1px solid transparent;}",".rrecom-btn-hover{right:-1px;border:1px solid #eee;border-right:1px solid #fff;z-index:104;box-shadow:0px 2px 0px rgba(0,0,0,0.072);-webkit-box-shadow:0px 2px 0px rgba(0,0,0,0.072);-moz-box-shadow:0px 2px 0px rgba(0,0,0,0.072);-o-box-shadow:0px 2px 0px rgba(0,0,0,0.072);}",".rrecom-btn span{cursor:pointer;background-position:0 0;width:20px;height:19px;position:absolute;top:50%;left:50%;margin:-10px 0 0 -10px;}",".rrecom-container{width:368px;padding-top:43px;overflow:hidden;background-color:#fff;}",".rrecom-ajax-loading{position:absolute;left:50%;margin-left:-25px;top:50px;display:none;}",".rrecom-content{margin-left:17px;}",".rrecom-content .cr-content{width:100%;margin-bottom:28px;}",".rrecom_content_s{padding-left:0px;width:276px;}",".rrecom_content_s .rrecom-item-rowLast{display:none}",".rrecom_content_s .rrecom-item-s{margin-right:0;}",".rrecom-panel{text-align:center;}","</style>"].join("");
bds.se.recommend.prototype.recommDom=$(o),bds.se.recommend.prototype.cssDom=$(t),bds.se.recommend.prototype.loadDom=this.recommDom.find(".rrecom-ajax-loading"),this.setRecommSize(),$("body").append(this.cssDom).append(this.recommDom.hide()),this.bindRecommEvent(),$(window).trigger("container_resize.recommend",bds.comm.containerSize);var r=$("#foot");"static"===r.css("position")&&r.css({position:"relative","z-index":104})},setRecommSize:function(){var o=$("#content_right"),e=$("#wrapper_wrapper"),t=$("body"),r=$(window),n=o.offset(),s={w:t.width()},c={h:r.height()},a=r.scrollTop();
e.prevAll().each(function(){var o;return"div"===this.nodeName.toLowerCase()?(o=parseInt($(this).css("margin-bottom")),bds.se.recommend.prototype.global.topGap=isNaN(o)?0:o,!1):void 0}),bds.se.recommend.prototype.global.topDom=e,bds.se.recommend.prototype.global.headDom=$("#head");var i={top:this.global.topDom.offset().top-this.global.topGap},m=this.global.headDom.offset().top-a+56;this.recommDom.height(c.h),bds.comm.recommends.recommWidth=s.w-n.left-2,this.recommDom.css({width:s.w-n.left-2,top:a<=i.top-m?i.top:m,position:a<=i.top-m?"absolute":"fixed",left:n.left})
},setRecommPosition:function(){this.setRecommTop(),this.setRecommLeft()},setRecommTop:function(){var o=$(window).scrollTop(),e={top:this.global.topDom.offset().top-this.global.topGap},t=this.global.headDom.offset().top-o+56;this.recommDom.css({top:o<=e.top-t?e.top:t,position:o<=e.top-t?"absolute":"fixed"}).find(".rrecom-container").css({"margin-top":"0px"}),bds.se.recommend.prototype.global.originalTop=o<e.top-t?e.top-t:o},setRecommLeft:function(){var o,e;"fixed"===this.recommDom.css("position")&&(o=$("#content_right").offset().left,e=$(window).scrollLeft(),this.recommDom.css("left",parseInt(o)-e))
},bindRecommEvent:function(){var o=this;this.recommDom.find(".rrecom-btn-close").eq(0).on("click",function(){o.hideRecommDom()}),$(window).on("scroll.recommend",function(){var e,t,r,n={top:o.global.topDom.offset().top-o.global.topGap},s=o.global.headDom.offset().top+o.global.headDom.outerHeight(),c=$(this);if(o.recommDom&&"none"!==o.recommDom.css("display")){e=c.scrollTop(),t=c.scrollLeft(),s-=e,e<=n.top-s?"fixed"===o.recommDom.css("position")&&(o.recommDom.css("position","absolute"),o.recommDom.css("top",n.top)):"absolute"===o.recommDom.css("position")&&(o.recommDom.css("position","fixed"),o.recommDom.css("top",s));
var a=o.recommDom.find(".rrecom-container");o.global.originalTop<e?(maxMargin=Math.min(o.recommDom.height()-a.height()-82-75,0),a.css({"margin-top":Math.max(o.global.originalTop-e,maxMargin)})):a.css({"margin-top":"0px"}),t&&(r=$("#content_right").offset().left,"fixed"===o.recommDom.css("position")?o.recommDom.css("left",parseInt(r)-t):o.recommDom.css("left",parseInt(r)))}}).on("resize.recommend",function(){o.setRecommSize(),o.setArrowPos()}).on("container_resize.recommend",function(e,t){var r=o.recommDom.find(".rrecom-container");
"s"!==t||r.hasClass("rrecom_content_s")?"l"===t&&(r.removeClass("rrecom_content_s"),r.find(".rrecom-content").css("width",o.op.container_l-17+"px")):(r.addClass("rrecom_content_s"),r.find(".rrecom-content").css("width",o.op.container_s-17+"px"))})},hideRecommDom:function(){var o=this;o.recommDom.find(".rrecom-container").animate({width:"0px"},200,function(){o.recommDom.hide()}),o.currInstance&&window.clearTimeout(o.currInstance.delay.overArrow),o.currInstance&&o.currInstance.resetArrow(),bds.se.recommend.prototype.currInstance=null
},showRecommDom:function(){var o=this;if(o.currInstance!==o,"none"===o.recommDom.css("display")){o.recommDom.css({opacity:.3}).show().animate({opacity:1},100);var e=o.recommDom.find(".rrecom-container"),t=bds.comm.recommends.recommWidth;e.css({width:0}).animate({width:t+"px"},200)}o.recommDom.find(".rrecom_content_s").length>0?o.recommDom.find(".rrecom-content").css("width",o.op.container_s-17+"px"):o.recommDom.find(".rrecom-content").css("width",o.op.container_l-17+"px"),bds.se.recommend.prototype.currInstance=o,o.render(o.getCacheData())
},showLoading:function(){this.loadDom.show()},hideLoading:function(){this.loadDom.hide()}},$(window).one("swap_end",function(){bds.comm.upn.ie&&6==bds.comm.upn.ie||$(document).on("click","#content_left .result .t>a, #content_left .result-op .t>a, .op-se-listen-recommend",function(o){if(!o.ctrlKey&&"0"==bds.comm.urlRecFlag){var e=$(this).closest(".result, .result-op");new bds.se.recommend({target:e})}})}),$(window).on("swap_begin",function(){bds.se.recommend.prototype.currInstance&&bds.se.recommend.prototype.hideRecommDom(),bds.se.recommend.prototype.currInstance=null,bds.se.recommend.prototype.__init__=!1,bds.comm.recommends={}
});;
bds.se.asynAds=function(e){var t=e.dom||"",n=e.id||"",r=e.tnp||"",s=e.wd||"",o=e.cb&&"function"==typeof e.cb?e.cb:null;if(t&&r&&s&&n){c({fm:"inlo",rsv_ad:"ad_asyn_start"});for(var i=["wd","tnp","tn","pn","bs","fenlei","adext"],a="ie=utf-8&oe=utf-8&dsp=pc",m=0;m<i.length;m++){var d=i[m];e[d]&&(a+="&"+d+"="+e[d])}var u=bds.comm.orderplay,l="",f=function(e){if(bds&&bds.comm&&bds.comm.upn&&bds.comm.upn.browser&&"firefox"==bds.comm.upn.browser)var t=e.textContent;else var t=e.innerText;var n=t.indexOf("\n"),r=t.substr(0,n);
return encodeURIComponent(r)},p=function(e){var t=$(".c-showurl",e).text().split(/\s+/)[0];return t=t.replace(/(\.\.\.$)/g,"")};$.each(u,function(e,t){t.t=f(t.dom[0])||"",t.u=p(t.dom[0])||"",t.u&&!new RegExp("baidu.com").test(t.u)&&(l+=t.u+":"),t.itime&&(t.time=(new Date).getTime()-t.itime)}),u.sort(function(e,t){return e.time>t.time?-1:e.time<t.time?1:(e.time=t.time)&&e.id<t.id?-1:0});var _=u[0],v=u[1],b="";_.time&&(b+=_.t+"@"+_.time,v.time&&(b+=","+v.t+"@"+v.time)),b&&(a+="&rlist="+encodeURIComponent(b)),l&&(a+="&furl="+encodeURIComponent(l.substring(0,l.length-1))),$.ajax({url:"/s",dataType:"json",data:a,success:function(e){var r=$(t);
if(e&&e.results&&e.results.length&&r.length){var s="";$.each(e.results,function(e,t){if(t.id==n){var r=t;s+="<style>"+r.css+"</style>",s+=r.html,s+="<script>"+r.js+"</script>"}}),r.html(s),$(document).scrollTop()<r.position().top+r.height()&&$(document).scrollTop()+$(window).height()>r.position().top&&c({fm:"inlo",rsv_ad:"ad_asyn_shake"}),o&&o()}else c({fm:"inlo",rsv_ad:"ad_asyn_net_error"})},error:function(){c({fm:"inlo",rsv_ad:"ad_asyn_net_error"})}})}else c({fm:"inlo",rsv_ad:"ad_asyn_param_error"})
};;
!function(){function n(){d=Math.random()}function o(){r=1e3*(new Date).getTime()+Math.round(1e3*Math.random())-149e13,d>=.005&&.0051>d&&(e(),c(),i(),a())}function t(){var n=Math.round(1e3*Math.random())%u.length,o=new Image,t=new Image,e=u[n];o.onload=function(){t.src="//www.baidu.com/nocache/fesplg/s.gif?lid="+r+"&url="+encodeURIComponent(e)+"&time="+((new Date).getTime()-c)+"&suc=1&type=aboard&dev=pc&protocol="+encodeURIComponent(location.protocol)+"&ran="+(new Date).getTime()},o.onerror=function(){t.src="//www.baidu.com/nocache/fesplg/s.gif?lid="+r+"&url="+encodeURIComponent(e)+"&time=&suc=0&type=aboard&dev=pc&protocol="+encodeURIComponent(location.protocol)+"&ran="+(new Date).getTime()
};var c=(new Date).getTime();o.src=e+"?ran="+(new Date).getTime()}function e(){var n=new Image;n.onload=function(){s("cndtestsuc")},n.onerror=function(){s("cndtesterr")},n.src="//ss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/w_icon2.png?ran"}function c(){var n=new Image;n.onload=function(){s("cndgsstestsuc")},n.onerror=function(){s("cndgsstesterr")},n.src="//gss0.bdstatic.com/5bd1bjqh_Q23odCf/static/wiseindex/img/w_icon2.png?ran"}function i(){var n=new Image;n.onload=function(){s("cndidctestsuc")
},n.onerror=function(){s("cndidctesterr")},n.src="//m.baidu.com/logo.gif"}function a(){var n=new Image;n.onload=function(){s("cndss0bdtestsuc")},n.onerror=function(){s("cndss0bdtesterr")},n.src="//ss0.baidu.com/5bd1bjqh_Q23odCf/static/wiseindex/img/w_icon2.png?ran"}function s(n,o){if(n){o=o||{},o.st=n,o.fm="inlo";var t="&terminal=pc";for(var e in o)t+="&"+e+"="+o[e];var c=new Image;c.src=bds.util.domain.get(m+t)}}var d,r="",m="http://sestat.baidu.com/cm.gif?type=cdnmonitor",u=["https://sptidchk.baidu.com/s.gif","https://sptidcsfo.baidu.com/s.gif","https://sptidcjp.baidu.com/s.gif","https://sptidcsin.baidu.com/s.gif"];
location.protocol.indexOf("https")>-1&&$(window).on("swap_dom_ready",function(){n()}).on("swap_end",function(){o()}),"70"==bds.comm.bfe_sample&&$(window).on("swap_end",function(){r=1e3*(new Date).getTime()+Math.round(1e3*Math.random())-149e13,t()})}();;
!function(){var t,e,n=bds&&bds.util&&bds.util.domain&&bds.util.domain.get("http://sensearch.baidu.com/sensearch/selecttext");$(window).one("swap_end",function(){bds.comm.upn&&bds.comm.upn.ie&&6==bds.comm.upn.ie||$(document).on("mousedown",function(n){t&&0==$(n.target).closest(t.getDom()).length&&(t.getDom().hide(),e&&e.abort())}).on("mouseup",function(o){var a,s,r,i,c;if(!t||!$(o.target).closest(t.getDom()).length)try{setTimeout(function(){if(window.getSelection){if(a=window.getSelection(),0==a.rangeCount)return;
s=a.getRangeAt(0),r=s.getBoundingClientRect(),i=$.trim(a.toString()),c=$("#text"==s.commonAncestorContainer.nodeName?s.commonAncestorContainer.parentNode:s.commonAncestorContainer)}else document.selection&&(a=document.selection.createRange(),s=a,r=s.getBoundingClientRect(),i=$.trim(a.text.toString()),c=$(s.parentElement()));if(i&&i.length>1&&c.closest("#content_left .result .c-abstract,#content_left .result .t").length){e&&e.abort();var o=/[^(\u4E00-\u9FA5)]+/i;if(!o.test(i))return;e=$.ajax({url:n,dataType:"jsonp",jsonp:"cb",timeout:5e3,data:{q:i},success:function(e){var n="";
if(e&&e.data&&e.data.type&&e.data.to&&"zh"==e.data.to&&e.data.result&&e.data.result.length&&e.data.result!=i)if(1==e.data.type)for(var o=e.data.result,a=0,s=Math.min(o.length,2);s>a;a++)n+=(0==a?"":"<br/>")+(o[a].pre?o[a].pre+"&nbsp;":""),n+=o[a].cont?$.subByte(o[a].cont,46*(1==s?2:1)+1):"";else if(2==e.data.type){var c=e.data.result.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;");n='<span style="color:#999">译：</span>'+c}if(n){t=t||new bds.se.tip({target:$("body"),mode:"none",content:'<div class="translateContent"></div>',align:"left",arrow:{has:1,offset:10}});
var l=t.getDom();l.find(".translateContent").html('<p style="margin:0 8px">'+n+"</p>"),l.css({top:r.bottom+$(window).scrollTop()+8,left:(r.left+r.right)/2+$(window).scrollLeft()-20}).show(),ns_c({rsv_trans_type:"showresult",rsv_trans_st:encodeURIComponent(i),rsv_qid:bds.comm.qid||""})}}})}},0)}catch(o){}})}),$(window).on("swap_begin",function(){t=null,e&&e.abort()})}();;
 /* eslint-disable */
(function(){
function getkey(target){
    target = container(target);
    return target.attr("id") || ( target.attr("data-click") && $.parseJSON(target.attr("data-click")).rsv_srcid ) || target.attr("class") || "-1";
}
function begin(target){
    var c_container = container(target);
    var temp = c_container.clone();
    temp.unbind();
    temp.children(".fb-list-container").remove();
    temp.children(".fb-list-container-first").remove();
    temp.children(".fb-hint-tip").remove();
    temp.removeAttr("style");
    temp.css("margin","0");
    target.append(temp);
    target.addClass("fb-list-container-hover");
}
function cancel(target){
    target.empty();
    target.removeClass("fb-list-container-hover");
}
function quite(){
    //移除hint
    // $("#content_left>div").first().children(".fb-hint-tip").remove();
    // $("#content_left>div").first().children(".fb-list-container-first").remove();
    $(".fb-hint-tip").remove();
    $(".fb-list-container-first").remove();
    bds.se.ShortCut.ldialog && bds.se.ShortCut.ldialog.destory();
    bds.se.ShortCut.rdialog && bds.se.ShortCut.rdialog.destory();
    bds.se.ShortCut.ldialog = 0;
    bds.se.ShortCut.rdialog = 0;
    $(".fb-mask").remove();
    $(".fb-list-container").remove();
}
function container(target){
    if(target.closest("#rs").length ){
        return target.closest("#rs");
    }else if(target.closest("#con-ar").length){
        return target.closest(".result-op");
    }else{
        return target.closest("#content_left > div");
    }
}
function init_list_shade(){
    var con_left = $("#content_left > div");
    con_left.append("<div class='fb-list-container' data-html2canvas-ignore='true'></div>");

    //商业结果overflow：hidden
    $("#content_left > div").css("overflow","visible")

    //hint不被选中
    $(".leftBlock .fb-list-container").remove();
    $(".hit_top_new .fb-list-container").remove();


    con_left.each(function(){
        $(this).find(".fb-list-container").css("width",$(this).width() + 20);
        $(this).find(".fb-list-container").css("height",$(this).height() + 10);
    });

    $(".c-container").first().append("<div class='fb-list-container-first' data-html2canvas-ignore='true'></div>");
    $(".c-container").first().find(".fb-list-container-first").css("width",$(".c-container").first().width() + 20);
    $(".c-container").first().find(".fb-list-container-first").css("height",$(".c-container").first().height() + 10);
    $(".c-container").first().append('<div class="fb-hint-tip" data-html2canvas-ignore="true"><span>鼠标点击，可对单条结果进行反馈</span></div>');

    var con_rs = $("#rs");
    con_rs.append("<div class='fb-list-container' data-html2canvas-ignore='true'></div>");
    con_rs.find(".fb-list-container").css("width",con_rs.width() + 20);
    con_rs.find(".fb-list-container").css("height",con_rs.height() + 10);

    var con_ar = $("#con-ar .result-op");
    con_ar.append("<div class='fb-list-container' data-html2canvas-ignore='true'></div>");
    con_ar.each(function(){
        $(this).find(".fb-list-container").css("width",$(this).width() + 20);
        $(this).find(".fb-list-container").css("height",$(this).height() + 10);
    });
}
function _content_tip(arr){
    var str = "";
    str = str + '<input type="hidden" class="fb-select-value"  name="type" value="' + arr[0].key + '">';
    str = str + '<div class="fb-select"><div class="fb-select-shorter"><div class="fb-type-selected">' + arr[0].value + '<div class="fb-select-icon"></div></div><div class="fb-type-container">';
    for(var i = 0 ;i<arr.length;i++){
        str = str + "<div class='fb-type-item' value='" + arr[i].key + "'>" + arr[i].value + "</div>";
    }
    str = str + '</div></div></div>';
    return str;
}
function dialog(title,target,list,type){
    this.init = function(){
        var date = new Date();
        this.title = title;
        this.query = decodeURIComponent(bds.comm.query);
        this.srcid = target && target.attr("srcid") || '-1';
        this.tpl = target && target.attr("tpl") || '';

        this.url = window.location.href || '';
        this.time = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
        this.username = bds.comm.username || '';
        this.order = target && target.attr("id") || '';
        this.entry ='1';
        this.build();
        this.bindEvent();
        this.render();
        return this;
    };
    this.build = function(){

        var drawToolHtml = '';
        if (type === 'sug') {
            var str = "<div class='fb-list-wrapper'>";
            list.forEach(function(item, index){
                str += "<div class='fb-checkbox'><div style='font-size: 13px;color:#333;float: left'>" + item
                    + "</div><span style='position: absolute;right:0;width: 11px;height: 11px;border: 1px solid #ccc;top:10px;'><i class='fb-selected'></i></span></div>";
            });
            str += '</div>'
            var content_tips_div = str;
            //内容域
            var content_textarea ='<div class="fb-textarea fb-content-block fb-textarea-sug">' +
            '<textarea maxlength="400" class ="fb-des-content" name="content" placeholder="请详细说明，以便于我们定位和解决问题，如：内容有误/定位地点不准确等（字数限制在300字以内）"></textarea>' +
            '</div>';

        } else {
            //内容提示框
            var arr = [{'key':'27642','value':'申请删除提示词'},{'key':'27464','value':'内容或图片陈旧'},{'key':'27465','value':'变形、错乱、乱码等问题'},{'key':'27469','value':'页面结果与搜索词无关'},{'key':'27467','value':'其他问题及建议'}];
            var content_tips_div = _content_tip(arr);

            var content_textarea ='<div class="fb-textarea fb-content-block">' +
            '<textarea maxlength="400" class ="fb-des-content" name="content" placeholder="请详细说明，以便于我们定位和解决问题，如：内容有误/定位地点不准确等（字数限制在300字以内）"></textarea>' +
            '</div>';
        }

        var cut_div ='',
            canvas_div = '';
        if(bds.se.ShortCut.uploadImg && type !== 'sug'){
            cut_div = '<div class="fb-block fb-cut-block" >' +
                '<div class="fb-cut-input c-icon c-icon-success"  ></div>' +
                '<span class="fb-shangchuan">包含屏幕截图</span></div>';

            canvas_div = '<div class="fb-block fb-canvas-block"><img src=""/><input type="hidden" name="img_base64" class="fb-img"></div>';
        }
        //提出公共变量为最终定制做铺垫
        var email_div = '<div class="fb-block fb-email-block">' +
                            '<input type="text" class="fb-email"  name="email" maxlength="100" placeholder="联系邮箱（留下联系邮箱，以便我们快速反馈）">' +
                        '</div>';
        var fb_title_text = '搜索结果反馈';
        if (type === 'sug') {
            fb_title_text = '搜索联想词反馈';
        }
        drawToolHtml =
            '<div class="fb-modal ">' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">' + fb_title_text + '</h3>' +
                '</div>' +
                '<div class="fb-body" id="fb_qa_feedback_body">' +
                    '<div class="fb-action">' +
                        '<form id="fb_right_post_form" enctype="multipart/form-data" onsubmit = "return false;">'
                        + content_tips_div + content_textarea + cut_div + canvas_div + email_div +
                        '</form> '+
                    '</div>' +
                    '<div class="fb-hint fb-hint-no-content">' +
                        '<span>请填写描述反馈</span>' +
                    '</div>' +
                    '<div class="fb-hint fb-hint-no-email">' +
                        '<span>请留下您的联系方式</span>' +
                    '</div>' +
                    '<div class="fb-hint fb-hint-error-email">' +
                        '<span>邮箱格式不正确</span>' +
                    '</div>' +
                    '<div class="fb-footer">' +
                        '<div class="fb-btn fb-btn-primary" id="fb_right_post_save">提交反馈</div>' +
                    '</div>' +
                    '<div class="fb-guide fb-guide-block">'+
                        '<span><a style="text-decoration:underline;" href="http://ufo.baidu.com/listen/myhistory?product_line=20018&appid=215622&type=commonQA" target="_blank">常见解决办法</a></span>' +
                        '<span><a style="text-decoration:underline;float:right;margin-right: -5px;" href="http://ufo.baidu.com/listen/myhistory?type=myhistory&product_line=20018&appid=215622" target="_blank">我的反馈</a></span>' +
                    '</div>' +
                '</div>' +
            '</div>' +
            '<div class="fb-mask" style="display:none"  data-html2canvas-ignore="true"></div>' +
            '<div class="fb-vertify" style="display:none">' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">安全验证</h3>' +
                '</div>' +
                '<div id="fb_vertify"></div>' +
            '</div>' +
            '<div class="fb-success" style="display:none" >' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">非常感谢</h3>' +
                '</div>'+
                '<div class="fb-body" id="fb_qa_feedback_body">' +
                    '<div class="fb-success-text fb-success-text-title"><i class="c-icon c-icon-right-empty"></i>提交成功</div>'+
                    '<div class="fb-success-text">感谢您的宝贵意见</div>'+
                '</div>' +
            '</div>';
        var drawToolNode = document.createElement("div");
        drawToolNode.id = "fb_baidu_right_dialog";
        drawToolNode.className = "fb-feedback-right-dialog";
        drawToolNode.className = "fb-feedback-right-dialog";
        drawToolNode.setAttribute("data-html2canvas-ignore","true");
        drawToolNode.innerHTML = drawToolHtml;

        this.dom = drawToolNode;
    };
    this.bindEvent = function(){
        var that = this;
        $(this.dom).find(".fb-close").on("click",function(){
            quite();
        });
        $(this.dom).find("#fb_right_post_save").on("click",function(){
            if(!$(that.dom).find(".fb-textarea textarea").val()){
                $(that.dom).find(".fb-hint-no-content").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-no-content").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-no-content").removeAttr("style");
                    },1500)
                },50)
            }else if( [27642].indexOf(Number($(that.dom).find(".fb-select-value").val())) != -1 && !$(that.dom).find(".fb-email").val() ){
                $(that.dom).find(".fb-hint-no-email").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-no-email").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-no-email").removeAttr("style");
                    },1500)
                },50)
            }else if( $(that.dom).find(".fb-email").val() && !/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test( $(that.dom).find(".fb-email").val()) ){
                $(that.dom).find(".fb-hint-error-email").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-error-email").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-error-email").removeAttr("style");
                    },1500)
                },50)
            }else{
                $(that.dom).find(".fb-modal ").css("display", "none");
                $(that.dom).find(".fb-vertify").css("display", "block");
                $.getScript('https://wappass.baidu.com/static/machine/js/api/mkd.js',function () {
                    var vertify;
                    if (window.PassMachine && window.PassMachine.mkd) {
                        var PassMkd = window.PassMachine.mkd;
                        vertify = new PassMkd({
                            type: 'spin',
                            id: 'fb_vertify',
                            ak: 'dabac7bfca28a1c17b092fc071d0f56c',
                            verifySuccessFn: function (data) {
                                that.post(data.ds, data.tk);
                            },
                            initApiSuccessFn() {
                                vertify.initVcode();
                            }
                        });
                    }
                });
           }
        });
        $(this.dom).find(".fb-cut-input").on("click",function(){
            if($(that.dom).find(".fb-cut-input").hasClass('c-icon')){
                $(that.dom).find(".fb-cut-input").removeClass('c-icon');
                $(that.dom).find(".fb-cut-input").removeClass('c-icon-success');
                $(that.dom).find(".fb-canvas-block").css("display","none");
            }else{
                $(that.dom).find(".fb-cut-input").addClass('c-icon');
                $(that.dom).find(".fb-cut-input").addClass('c-icon-success');
                $(that.dom).find(".fb-canvas-block").css("display","block");
            }
        });
        $(this.dom).find(".fb-type-selected").on("click",function(e){
            if($(that.dom).find(".fb-type-container").css("display") == "block"){
                $(that.dom).find(".fb-type-container").hide();
            }else{
                $(that.dom).find(".fb-type-container").show();
            }

        });
        $(this.dom).find(".fb-checkbox").on('click', function(e){
            if ($(e.currentTarget).find('.fb-selected').css('display') == 'block') {
                $(e.currentTarget).find('.fb-selected').css('display', 'none');
                $(e.currentTarget).removeClass('fb-checkbox-selected');
            } else {
                $(e.currentTarget).find('.fb-selected').css('display', 'block');
                $(e.currentTarget).addClass('fb-checkbox-selected');
            }
        });
        $(this.dom).find(".fb-type-item").on("click",function(e){
            $(that.dom).find(".fb-type-container").hide();
            $(that.dom).find(".fb-type-selected").html($(e.currentTarget).text() + "<div class='fb-select-icon'></div>");
            $(that.dom).find(".fb-select-value").val($(e.currentTarget).attr("value"));
        });
        $(this.dom).find(".fb-des-content").on("click",function(e){
            $(".c-container").first().children(".fb-hint-tip").remove();
            $(".c-container").first().children(".fb-list-container-first").remove();
        });

    };
    this.render = function(){
        $("body").append(this.dom);
    };
    this.grayed = function(tag){
        if(tag){
            $(this.dom).css("visibility","hidden");
        }else{
            $(this.dom).removeAttr("style");
        }
    };
    this.destory = function(){
        $(this.dom).remove();
        $(document).off("scroll.feedback");
    };

    this.post = function(ds, tk){
        var that = this;
        this.content = $(this.dom).find('.fb-des-content').val();
        this.type = $(this.dom).find('.fb-select-value').val();
        this.email = $(this.dom).find('.fb-email').val();
        var selectOptions = $(this.dom).find('.fb-checkbox.fb-checkbox-selected');
        sugText = [];
        selectOptions.each(function (index, item) {
            sugText.push($(item).find('div').text());
        });
        this.sugText = sugText.join('&');
         // 如果命中 侵犯个人隐私、申请删除或更新这条信息、申请删除提示词
         var productType = 26138;
         var dataType = that.type;
         if (this.type == '27642'||this.type == '27643' || this.type=='33081') {
             productType = this.type;
             dataType = 0;
         }
        if (that.type == '46918') {
            productType = '64637';
            dataType = 0;
        }
        if (that.type == '46919') {
            productType = '64638';
            dataType = 0;
        }
         if (type === 'sug') {
            data = {
                product_type: '27642',
                sug_text: that.sugText,
                content: this.content,
                query: this.query,
                time: this.time,
                srcid: this.srcid,
                url: this.url,
                entry: '3',
                platform: 'pc',
                ds: ds,
                token: tk
            }
         }
         else {
            data = {
                product_type:productType,
                content:this.content,
                type:dataType,
                img_base64:bds.se.ShortCut.img_base64,
                email:this.email,
                query:this.query,
                srcid:this.srcid,
                tpl:this.tpl,
                url:this.url,
                time:this.time,
                username:this.username,
                order:this.order,
                entry:this.entry,
                platform:'pc',
                ds: ds,
                token: tk
            }
         }
        if(bds.se.ShortCut.uploadImg){
            $.post(bds.se.ShortCut.domain,data).success(function (data) {
                if(jQuery.parseJSON(data).status == "Success"){
                }else{
                    // alert(decodeURIComponent(jQuery.parseJSON(data).errors));
                }
            }).error(function(){
                // alert("fail");
            });
        }else{
            $.ajax({
                url : bds.se.ShortCut.domain,dataType:"jsonp",data:data,jsonp:"cb1"
            }).success(function(data){
                if(data.status == "Success"){
                }else{
                    // alert(decodeURIComponent(jQuery.parseJSON(data).errors));
                }
            }).error(function(){
                // alert("fail");
            });
        }
        $(this.dom).find(".fb-vertify").remove();
        $(this.dom).find(".fb-mask").remove();
        $(this.dom).find(".fb-success").css("display","block");
        setTimeout(function(){
            quite();
        },1000)
    };
    this.init();
}
function listDialog(target,ala){
    this.init = function(){
        var date = new Date();
        this.query = decodeURIComponent(bds.comm.query);
        this.srcid = target && target.attr("srcid") || '-1';
        this.tpl = target && target.attr("tpl") || '';
        this.cururl = target && target.find('a').eq(0).attr('href') || '';
        this.url = window.location.href || '';
        this.time = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
        this.username = bds.comm.username || '';
        if(target){
            if(target.closest("#con-ar").length){
                this.order = "con-ar";
                var arr = [{'key':'27642','value':'申请删除提示词'},{'key':'33081','value':'侵犯个人隐私与权益'},{'key':'27464','value':'内容或图片陈旧'},{'key':'27465','value':'变形、错乱、乱码等问题'},{'key':'27469','value':'页面结果与搜索词无关'},{'key':'27467','value':'其他问题及建议'}];
                this.content_tips_div = _content_tip(arr);
            }else if(target.attr("id") && target.attr("id") == "rs"){
                this.order = "rs";
                var arr = [{'key':'27642','value':'申请删除提示词'},{'key':'33081','value':'侵犯个人隐私与权益'}];
                this.content_tips_div = _content_tip(arr);
            }else if(target.attr("tpl") && (target.attr("tpl") != "se_com_default")){
                this.order = target.attr("id") || "-1";
                var arr = [{'key':'27464','value':'内容或图片陈旧'},{'key':'33081','value':'侵犯个人隐私与权益'},{'key':'27465','value':'变形、错乱、乱码等问题'},{'key':'27466','value':'这条结果与搜索词无关'},{'key':'27467','value':'其他问题及建议'}];
                this.content_tips_div = _content_tip(arr);
            }else if(!target.attr("tpl")){
                this.order = "ec";
                var arr = [{'key':'27470','value':'推广信息侵权'},{'key':'33081','value':'侵犯个人隐私与权益'},{'key':'27471','value':'推广信息质量差'},{'key':'27472','value':'推广信息与搜索词无关'},{'key':'27473','value':'其他问题及产品建议'}];
                this.content_tips_div = _content_tip(arr);
            }else{
                this.order = target.attr("id") || "-1";
                var arr = [{'key':'46918','value':'网页打不开、提示内容已删除和无法找到该网页'},{'key':'46919','value':'搜索展现的内容和实际网页不一致'},{'key':'33081','value':'侵犯个人隐私与权益'},{'key':'27464','value':'内容或图片陈旧'},{'key':'27465','value':'变形、错乱、乱码等问题'},{'key':'27466','value':'这条结果与搜索词无关'},{'key':'27467','value':'其他问题及建议'}];
                this.content_tips_div = _content_tip(arr);
            }
        }
        this.entry ='2';
        // this.offset = opt.offset|| '0';
        this.top = target.offset().top - 4;
        if(target.closest("#content_right").length){
            this.left = target.offset().left - 390 - 23;
        }else{
            this.left = target.offset().left + target.width() + 30;
        }

        this.build();
        this.bindEvent();
        this.render();

        return this;
    };
    this.build = function(){
        var drawToolHtml = '';

        //内容域
        var content_textarea ='<div class="fb-textarea fb-content-block">' +
        '<textarea maxlength="400" class ="fb-des-content" name="content" placeholder="请详细说明，以便于我们定位和解决问题，如：内容有误/定位地点不准确等（字数限制在300字以内）"></textarea>' +
        '</div>';
        //提出公共变量为最终定制做铺垫
        var email_div = '<div class="fb-block fb-email-block">' +
                            '<input type="text" class="fb-email" maxlength="100" name="email" placeholder="联系邮箱（留下联系邮箱，以便我们快速反馈）">' +
                        '</div>';
        // 上传图片区域
        var uploda_photo = '<div class="fb-block fb-photo-block" upload_num=0>'+
                                '<p class="fb-photo-block-title">请上传照片及身份证照片<span class="fb-photo-block-title-ex"><img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_icon_show_6016362.png'+'">示例<span></p>'+
                                '<div class="fb-photo-sub-block"><img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_up_56db4dd.png'+'" class="fb-photo-block-upinfo"></div>'+
                                '<div class="fb-block fb-photo-update-block fb-photo-update-hide">'+
                                    '<div class="fb-photo-update-item-block">'+
                                        '<img src="" class="fb-photo-update-item-show-img">'+

                                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_close_icon_682280b.png'+'" alt="" class="fb-photo-update-item-close">'+
                                    '</div>'+
                                    '<div class="fb-photo-update-item-block">'+
                                        '<img src="" class="fb-photo-update-item-show-img">'+
                                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_close_icon_682280b.png'+'" alt="" class="fb-photo-update-item-close">'+
                                    '</div>'+
                                    '<div class="fb-photo-update-item-block">'+
                                        '<img src="" class="fb-photo-update-item-show-img">'+
                                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_close_icon_682280b.png'+'" alt="" class="fb-photo-update-item-close">'+
                                    '</div>'+
                                    '<div class="fb-photo-update-item-block">'+
                                        '<img src="" class="fb-photo-update-item-show-img">'+
                                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_close_icon_682280b.png'+'" alt="" class="fb-photo-update-item-close">'+
                                    '</div>'+
                                    '<input type="file"  name="img_base64_1" accept="image/*;capture=camera">'+
                                    '<input type="file"  name="img_base64_2" accept="image/*;capture=camera">'+
                                    '<input type="file"  name="img_base64_3" accept="image/*;capture=camera">'+
                                    '<input type="file"  name="img_base64_4" accept="image/*;capture=camera">'+
                                '</div>'+
                            '</div>';
        // 示例展示
        var show_ex = '<div class="fb-photo-block-example">'+
                        '<div class="fb-photo-block-example-header">'+
                        '<p>示例</p>'+

                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_close_icon_682280b.png'+'" alt="">'+
                        '</div> '+
                        '<div class="fb-photo-block-example-title">'+
                            '<p class="fb-photo-block-example-title-big">身份证正反面照示例</p>'+
                            '<p class="fb-photo-block-example-title-small">身份证照片需要信息清晰,仅仅用于审核，百度会保证隐私安全</p>'+
                        '</div>'+

                        '<div class="fb-photo-block-example-img">'+
                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_sfz_29991ea.png'+'" alt="">'+
                        '<img src="'+ 'https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/global/img/feedback_sfz1_6f3f07a.png'+'" alt="">'+
                        '</div>'+
                    '</div>';
        drawToolHtml =
            '<div class="fb-modal" >' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">意见反馈</h3>' +
                '</div>' +
                '<div class="fb-body" id="fb_qa_feedback_body">' +
                    '<div class="fb-action">' +
                        '<form id="fb_right_post_form" enctype="multipart/form-data" method="post" onsubmit = "return false;">'
                        + this.content_tips_div + content_textarea + email_div + uploda_photo +
                        '</form> '+
                    '</div>' +
                    '<div class="fb-hint fb-hint-no-content">' +
                        '<span>请填写描述反馈</span>' +
                    '</div>' +
                    '<div class="fb-hint fb-hint-error-photo">' +
                        '<span>请提交图片</span>' +
                    '</div>' +
                    '<div class="fb-hint fb-hint-no-email">' +
                        '<span>请留下您的联系方式</span>' +
                    '</div>' +
                    '<div class="fb-hint fb-hint-error-email">' +
                        '<span>邮箱格式不正确</span>' +
                    '</div>' +
                    '<div class="fb-footer">' +
                        '<div class="fb-btn fb-btn-primary" id="fb_list_post_save">提交反馈</div>' +
                    '</div>' +
                    '<div class="fb-guide fb-guide-block">'+
                        '<span><a style="text-decoration:underline;" href="http://ufo.baidu.com/listen/myhistory?product_line=20018&appid=215622&type=commonQA" target="_blank">常见解决办法</a></span>' +
                        '<span><a style="text-decoration:underline;float:right;margin-right: -5px;" href="http://ufo.baidu.com/listen/myhistory?type=myhistory&product_line=20018&appid=215622" target="_blank">我的反馈</a></span>' +
                    '</div>' +
                '</div>' +
            '</div>' +
            '<div class="fb-vertify" style="display:none">' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">安全验证</h3>' +
                '</div>' +
                '<div id="fb_vertify_list"></div>' +
            '</div>' +
            '<div class="fb-success" style="display:none" >' +
                '<div class="fb-header" id="fb_dialog_header" unselectable="on" onselectstart="return false;">' +
                    '<a class="fb-close" id="fb_close_x">×</a>' +
                    '<h3  class="fb-header-tips">非常感谢</h3>' +
                '</div>'+
                '<div class="fb-body" id="fb_qa_feedback_body">' +
                    '<div class="fb-success-text fb-success-text-title"><i class="c-icon c-icon-right-empty"></i>提交成功</div>'+
                    '<div class="fb-success-text">感谢您的宝贵意见</div>'+
                '</div>' +
            '</div>' + show_ex;
        var drawToolNode = document.createElement("div");
        drawToolNode.id = "fb_baidu_list_dialog";
        drawToolNode.className = "fb-feedback-list-dialog";
        drawToolNode.setAttribute("data-html2canvas-ignore","true");
        drawToolNode.innerHTML = drawToolHtml;

        this.dom = drawToolNode;

        $(this.dom).css("top",this.top);
        $(this.dom).css("left",this.left);
        if(this.order == "con-ar"){
            $(this.dom).attr("class","fb-feedback-list-dialog-left")
        }

    };
    this.bindEvent = function(){
        var that = this;
        $(this.dom).find(".fb-close").on("click",function(){
            that.destory();
            cancel($(".fb-list-container"));
            //移除标记
            bds.se.ShortCut.key = 0;
            //右下dialog恢复
            bds.se.ShortCut.rdialog && bds.se.ShortCut.rdialog.grayed(0);

            if(!bds.se.ShortCut.rdialog){
                quite();
            }
        });
        $(this.dom).find("#fb_list_post_save").on("click",function(){
            if(!$(that.dom).find(".fb-textarea textarea").val()){
                $(that.dom).find(".fb-hint-no-content").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-no-content").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-no-content").removeAttr("style");
                    },1500)
                },50)
            }else if( [27642,27643].indexOf(Number($(that.dom).find(".fb-select-value").val())) != -1 && !$(that.dom).find(".fb-email").val() ){
                $(that.dom).find(".fb-hint-no-email").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-no-email").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-no-email").removeAttr("style");
                    },1500)
                },50)
            }else if( $(that.dom).find(".fb-email").val() && !/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test( $(that.dom).find(".fb-email").val()) ){
                $(that.dom).find(".fb-hint-error-email").css("display","block");
                setTimeout(function(){
                    $(that.dom).find(".fb-hint-error-email").css("opacity","1");
                    setTimeout(function(){
                        $(that.dom).find(".fb-hint-error-email").removeAttr("style");
                    },1500)
                },50)
            }else{
                $(that.dom).find(".fb-modal ").css("display", "none");
                $(that.dom).find(".fb-vertify").css("display", "block");
                $.getScript('https://wappass.baidu.com/static/machine/js/api/mkd.js',function () {
                    var vertify;
                    if (window.PassMachine && window.PassMachine.mkd) {
                        var PassMkd = window.PassMachine.mkd;
                        vertify = new PassMkd({
                            type: 'spin',
                            id: 'fb_vertify_list',
                            ak: 'dabac7bfca28a1c17b092fc071d0f56c',
                            verifySuccessFn: function (data) {
                                that.post(data.ds, data.tk);
                            },
                            initApiSuccessFn() {
                                vertify.initVcode();
                            }
                        });
                    }
                });
            }
        });
        $(this.dom).find(".fb-type-selected").on("click",function(e){
            if($(that.dom).find(".fb-type-container").css("display") == "block"){
                $(that.dom).find(".fb-type-container").hide();
            }else{
                $(that.dom).find(".fb-type-container").show();
            }

        });
        $(this.dom).find(".fb-type-item").on("click",function(e){
            $(that.dom).find(".fb-type-container").hide();
            $(that.dom).find(".fb-type-selected").html($(e.currentTarget).text() + "<div class='fb-select-icon'></div>");
            $(that.dom).find(".fb-select-value").val($(e.currentTarget).attr("value"));
            if($(e.currentTarget).attr("value")== 33081) {
                 $(that.dom).find('.fb-photo-block').css('display','block');
            }else {
                 $(that.dom).find('.fb-photo-block').css('display','none');
            }
        });
        // 点击上传图片
        $(this.dom).find(".fb-photo-sub-block").on("click", function(e){
           $(this).addClass("fb-photo-sub-block-hide");
            $(that.dom).find('.fb-photo-update-hide').removeClass("fb-photo-update-hide");
            $(that.dom).find('.fb-photo-update-hide').removeClass("fb-photo-update-hide");
        });
        // 点击每个上传图片
        $(this.dom).find('.fb-photo-update-item-block').on("click",function(){
            var $that = $(that.dom);
            var that_other = $(this);

            var _index = $(this).index();
            var targetInput =  $(that.dom).find('.fb-photo-update-block').find('input').get(_index);
            targetInput.click();
            $(targetInput).on("change", function(e){
              var file = targetInput.files[0];
              var fileType = file.type;
              // 类型判断
              if(fileType && (fileType =='image/png' || fileType=='image/jpg' || fileType=='image/jpeg' || fileType=='image/jpeg')) {
                if ($(e.currentTarget).val() && file.size < 2 * 1024 * 1024) {
                    var reader = new FileReader();
                    reader.addEventListener('load', function () {
                       that_other.find('.fb-photo-update-item-show-img').attr('src',reader.result);
                       that_other.find('.fb-photo-update-item-close').css('display','block');
                       that_other.find('.fb-photo-update-item-show-img').css('display','block');
                       var dom = $that.find(".fb-photo-block");
                       var domvue = dom.attr('upload_num');
                       dom.attr('upload_num', Number(domvue) + 1);
                    },false);
                    reader.readAsDataURL(file);
                }
              }else {
                  return;
              }

            })
        });

        // 点击删除
        $(this.dom).find('.fb-photo-update-item-close').on("click",function(event){
            var that_other = $(that);
            event.stopPropagation();
            var _index = $(this).parent('.fb-photo-update-item-block').index();
            $(this).siblings('img').attr('src','');
            $('.fb-photo-update-block').find('input').eq(_index).val('');
            $(this).css('display','none');
            $(this).siblings('img').css('display','none');
            var dom = that_other.find(".fb-photo-block");
            var domvue = dom.attr('upload_num');
            dom.attr('upload_num', Number(domvue) + 1);
        });
        // 点击示例
        $(this.dom).find('.fb-photo-block-title-ex').on("click",function(event){
            event.stopPropagation();
            $(that.dom).find('.fb-modal').css('display','none');
            $(that.dom).find('.fb-photo-block-example').css('display','block');
        });
        // 点击返回
        $(this.dom).find('.fb-photo-block-example-header img').on("click",function(event){
            event.stopPropagation();
            $(that.dom).find('.fb-modal').css('display','block');
            $(that.dom).find('.fb-photo-block-example').css('display','none');
        });
    };
    this.render = function(){
        $("body").append(this.dom);
    };
    this.destory = function(){
        $(this.dom).remove();
    };
    this.post = function(ds, tk){
        var that = this;
        this.content = $(this.dom).find('.fb-des-content').val();
        this.type = $(this.dom).find('.fb-select-value').val();
        this.email = $(this.dom).find('.fb-email').val();
        var inputDom = $(this.dom).find('.fb-photo-block').find('.fb-photo-update-item-show-img');
        //单条结果截图（替换）
        bds.se.ShortCut.get_Snapshot_list(
            -bds.se.ShortCut.curListDom.offset().left,
            // -(bds.se.ShortCut.curListDom.offset().top - $(document).scrollTop()),
            -bds.se.ShortCut.curListDom.offset().top,
            bds.se.ShortCut.curListDom.width() + 20,
            bds.se.ShortCut.curListDom.height() + 12,
            function(){
               // 如果命中 侵犯个人隐私、申请删除或更新这条信息、申请删除提示词
               var productType = 26138;
               var dataType = that.type;
               if (that.type == '27642'||that.type == '27643' || that.type=='33081') {
                   productType = that.type;
                   dataType = 0;
               }
                if (that.type == '46918') {
                    productType = '64637';
                    dataType = 0;
                }
                if (that.type == '46919') {
                    productType = '64638';
                    dataType = 0;
                }
                data = {
                    product_type:productType,
                    content:that.content,
                    type:dataType,
                    img_base64:bds.se.ShortCut.img_base64_list,
                    email:that.email,
                    query:that.query,
                    srcid:that.srcid,
                    tpl:that.tpl,
                    url:that.url,
                    time:that.time,
                    username:that.username,
                    order:that.order,
                    entry:that.entry,
                    platform:'pc',
                    cururl: that.cururl,
                    img_base64_1:inputDom.eq(0).attr('src'),
                    img_base64_2:inputDom.eq(1).attr('src'),
                    img_base64_3:inputDom.eq(2).attr('src'),
                    img_base64_4:inputDom.eq(3).attr('src'),
                    ds: ds,
                    token: tk
                };
                if(ala){
                    data.ala = 1;
                }
                if(bds.se.ShortCut.uploadImg){
                    $.post(bds.se.ShortCut.domain,data).success(function(data){
                        if(jQuery.parseJSON(data).status == "Success"){
                        }else{
                            // alert(decodeURIComponent(jQuery.parseJSON(data).errors));
                        }
                    }).error(function(){
                        // alert("fail");
                    });
                }else{
                    $.ajax({
                        url : bds.se.ShortCut.domain,dataType:"jsonp",data:data,jsonp:"cb1"
                    }).success(function(data){
                        if(data.status == "Success"){
                        }else{
                            // alert(decodeURIComponent(data.errors));
                        }
                    }).error(function(){
                        // alert("fail");
                    });
                }
            }
        );
        $(this.dom).find(".fb-vertify").remove();
        $(this.dom).find(".fb-mask").remove();
        $(this.dom).find(".fb-success").css("display","block");
        setTimeout(function(){
            quite();
        },1000)
    };
    this.init();
}
if(bds && bds.se){
bds.se.ShortCut = {
    base_url_path: 'http://f3.baidu.com',
    up_file: false,                                  //是否是截图，默认支持canvas
    is_feedbacking: false,                           //是否正在反馈，防止多次点击
    product_id: 0,                                   //产品线id
    entrance_id: 0,                                  //展示位置的id
    send_img:false,                                  //是否在截图的标志
    img_data:"",                                     //最终的图片数据
    onlyUpFile: false,                               //用于扩展定制，是否需要需要截图能
    pro_data:"",                                     //产品线定制数据
    scrollTop:0,
    ldiaInf:{},
    rdiaInf:{},
    canvas_block_height:0,

    key:0,
    domain:bds.util.domain.get("api.open.baidu.com") + "/pae/common/api/feedback",
    img_base64:"",
    img_base64_list:"",

    initRightBar:function(){
        this.html2canvas();
        this._getCss();
        if(this._identifyCanvas() && this._identifyCors()){
            bds.se.ShortCut.uploadImg = true;
            this.get_Snapshot();
        }else{
            bds.se.ShortCut.uploadImg = false;
        }
    },
    initSugBar:function(listArray){
        $(window).scrollTop(0);
        if($(".fb-mask").length > 0) {
            quite();
        }
        bds.se.ShortCut.rdialog = new dialog('','',listArray, 'sug');
        $("#container").append("<div class='fb-mask'></div>");
        $('.fb-mask').width($("body").width());
        if ($('#wrapper_wrapper').height() > $(window).height) {
            $('.fb-mask').height($("#wrapper_wrapper").height());
        } else {
            $('.fb-mask').height($(window).height());
        }
        $(".fb-mask").on("click",function(e){
            quite();
            bds.se.ShortCut.ldialog && bds.se.ShortCut.ldialog.destory();
        });
    },
    _getCss: function () {
        bds.util.addStyle("#content_left > div,#rs,#con-ar .result-op{position: relative;}");
    },
    //判定浏览器函数，是否可以进行canvas渲染
    _identifyCanvas: function () {
        try {
            var _canvas = document.createElement('canvas').getContext('2d');
            _canvas = null;
            return true;
        } catch (e) {
            return false;
        }
    },
    _identifyCors: function () {
        var xhr = new XMLHttpRequest();
        return "withCredentials" in xhr;
    },
    init_ala:function(target){
        this.html2canvas();
        if(this._identifyCanvas() && this._identifyCors()){
            bds.se.ShortCut.uploadImg = true;
        }else{
            bds.se.ShortCut.uploadImg = false;
        }

        $("#container").append("<div class='fb-mask' data-html2canvas-ignore='true'></div>");

        target.append("<div class='fb-list-container' data-html2canvas-ignore='true'></div>");

        target.find(".fb-list-container").css("width",target.width() + 20);
        target.find(".fb-list-container").css("height",target.height() + 10);

        begin(target.find(".fb-list-container"));

        bds.se.ShortCut.ldialog = new listDialog(target,1);

        bds.se.ShortCut.curListDom = target.find(".fb-list-container");

        $(".fb-mask").on("click",function(e){
            quite();
            bds.se.ShortCut.ldialog && bds.se.ShortCut.ldialog.destory();
        });
    },
    init_shade:function(){
        $("#container").append("<div class='fb-mask' data-html2canvas-ignore='true'></div>");
        $('.fb-mask').width($("body").width());
        if ($('#wrapper_wrapper').height() > $(window).height) {
            $('.fb-mask').height($("#wrapper_wrapper").height());
        } else {
            $('.fb-mask').height($(window).height());
        }

        init_list_shade();

        $(".fb-list-container").hover(function(e){
            var c_container = container($(e.currentTarget));
            //如果容器没有内容（没有被选中）  如果不是则添加高亮效果
            if(!$(e.currentTarget).children().length){
                //把DOM复制在容器里
                begin($(e.currentTarget));
            }
        },function(e){
            //划出时判断当前框是否为被选中框  如果不是则移除高亮效果
            if(getkey($(e.currentTarget)) != bds.se.ShortCut.key){
                cancel($(e.currentTarget));
            }
        });

        $(".fb-list-container").on("click",function(e){
            //移除hint
            $(".c-container").first().children(".fb-hint-tip").remove();
            $(".c-container").first().children(".fb-list-container-first").remove();
            //移除结果旁的dialog
            bds.se.ShortCut.ldialog && bds.se.ShortCut.ldialog.destory();
            cancel($(".fb-list-container"));
            //当前选择框若为已被选中 再次点击则相当于移除高亮效果
            if(getkey($(e.currentTarget)) == bds.se.ShortCut.key){
                //移除标记
                bds.se.ShortCut.key = 0;
                //右下dialog恢复
                bds.se.ShortCut.rdialog && bds.se.ShortCut.rdialog.grayed(0);
            }else{
            //当前选择框若非已被选中 点击选中 添加移除高亮效果
                //标记
                bds.se.ShortCut.key = getkey($(e.currentTarget));
                //单条结果选中DOM
                bds.se.ShortCut.curListDom = $(e.currentTarget);
                //添加结果旁的dialog
                bds.se.ShortCut.ldialog = new listDialog(container($(e.currentTarget)));
                //右下dialog退化
                bds.se.ShortCut.rdialog && bds.se.ShortCut.rdialog.grayed(1);

                begin($(e.currentTarget));
            }
            e.stopPropagation();
            e.preventDefault();
        });

        $(".fb-mask").on("click",function(e){
            //移除结果旁的dialog
            bds.se.ShortCut.ldialog && bds.se.ShortCut.ldialog.destory();

            bds.se.ShortCut.key = 0;

            bds.se.ShortCut.rdialog && bds.se.ShortCut.rdialog.grayed(0);

            cancel($(".fb-list-container"));

        });
    },
    get_Snapshot:function(){
        $(window).scrollTop(0);
        var that = this;
        bds.se.ShortCut.rdialog = new dialog();
        that.init_shade();
        $(".fb-canvas-block").addClass("c-loading");
        html2canvas(document.body, {
            proxy: bds.util.domain.get("f3.baidu.com") + "/getProxyImage.php",
            onrendered: function (canvas) {

                $(".fb-canvas-block").removeClass("c-loading");


                var cut_canvas = document.createElement('canvas');
                cut_canvas.width = canvas.width;
                cut_canvas.height = $("body").height();

                var cut_canvas_ctx=cut_canvas.getContext("2d");
                cut_canvas_ctx.drawImage(canvas,0,0);

                bds.se.ShortCut.img_base64 = cut_canvas.toDataURL("image/png");
                $(".fb-canvas-block img").attr("src",cut_canvas.toDataURL("image/png"));

                setTimeout(function(){
                    that.canvas_block_height = $(".fb-canvas-block img").height();
                },50)

                $(document).on("scroll.feedback",function(){
                    var scrollTo = $(window).scrollTop(),
                    docHeight = $(document).height(),
                    windowHeight = $(window).height();
                    scrollPercent = (scrollTo / (docHeight-windowHeight));
                    $(".fb-canvas-block img").css("top", - (that.canvas_block_height - 172) * scrollPercent);
                })
            }
        });
    },
    get_Snapshot_list:function(x,y,width,height,cb){
        html2canvas(document.body, {
            proxy: bds.util.domain.get("f3.baidu.com") + "/getProxyImage.php",
            onrendered: function (canvas) {
                var cut_canvas = document.createElement('canvas');
                cut_canvas.width = width;
                cut_canvas.height = height;

                var cut_canvas_ctx=cut_canvas.getContext("2d");
                cut_canvas_ctx.drawImage(canvas,x,y);

                bds.se.ShortCut.img_base64_list = cut_canvas.toDataURL("image/png");
                cb();
            }
        });
    },
    html2canvas:function(){
        (function (window, document, undefined) {

            "use strict";

            var _html2canvas = {},
                previousElement,
                computedCSS,
                html2canvas;

            function h2clog(a) {
                if (_html2canvas.logging && window.console && window.console.log) {
                    window.console.log(a);
                }
            }

            _html2canvas.Util = {};

            _html2canvas.Util.trimText = (function (isNative) {
                return function (input) {
                    if (isNative) {
                        return isNative.apply(input);
                    }
                    else {
                        return ((input || '') + '').replace(/^\s+|\s+$/g, '');
                    }
                };
            })(String.prototype.trim);

            _html2canvas.Util.parseBackgroundImage = function (value) {
                var whitespace = ' \r\n\t',
                    method, definition, prefix, prefix_i, block, results = [],
                    c, mode = 0, numParen = 0, quote, args;

                var appendResult = function () {
                    if (method) {
                        if (definition.substr(0, 1) === '"') {
                            definition = definition.substr(1, definition.length - 2);
                        }
                        if (definition) {
                            args.push(definition);
                        }
                        if (method.substr(0, 1) === '-' &&
                            (prefix_i = method.indexOf('-', 1) + 1) > 0) {
                            prefix = method.substr(0, prefix_i);
                            method = method.substr(prefix_i);
                        }
                        results.push({
                            prefix: prefix,
                            method: method.toLowerCase(),
                            value: block,
                            args: args
                        });
                    }
                    args = []; //for some odd reason, setting .length = 0 didn't work in safari
                    method =
                        prefix =
                            definition =
                                block = '';
                };

                appendResult();
                for (var i = 0, ii = value.length; i < ii; i++) {
                    c = value[i];
                    if (mode === 0 && whitespace.indexOf(c) > -1) {
                        continue;
                    }
                    switch (c) {
                        case '"':
                            if (!quote) {
                                quote = c;
                            }
                            else if (quote === c) {
                                quote = null;
                            }
                            break;

                        case '(':
                            if (quote) {
                                break;
                            }
                            else if (mode === 0) {
                                mode = 1;
                                block += c;
                                continue;
                            } else {
                                numParen++;
                            }
                            break;

                        case ')':
                            if (quote) {
                                break;
                            }
                            else if (mode === 1) {
                                if (numParen === 0) {
                                    mode = 0;
                                    block += c;
                                    appendResult();
                                    continue;
                                } else {
                                    numParen--;
                                }
                            }
                            break;

                        case ',':
                            if (quote) {
                                break;
                            }
                            else if (mode === 0) {
                                appendResult();
                                continue;
                            }
                            else if (mode === 1) {
                                if (numParen === 0 && !method.match(/^url$/i)) {
                                    args.push(definition);
                                    definition = '';
                                    block += c;
                                    continue;
                                }
                            }
                            break;
                    }

                    block += c;
                    if (mode === 0) {
                        method += c;
                    }
                    else {
                        definition += c;
                    }
                }
                appendResult();

                return results;
            };

            _html2canvas.Util.Bounds = function getBounds(el) {
                var clientRect,
                    bounds = {};

                if (el.getBoundingClientRect) {
                    clientRect = el.getBoundingClientRect();


                    // TODO add scroll position to bounds, so no scrolling of window necessary
                    bounds.top = clientRect.top;
                    bounds.bottom = clientRect.bottom || (clientRect.top + clientRect.height);
                    bounds.left = clientRect.left;

                    // older IE doesn't have width/height, but top/bottom instead
                    bounds.width = clientRect.width || (clientRect.right - clientRect.left);
                    bounds.height = clientRect.height || (clientRect.bottom - clientRect.top);

                    return bounds;

                }
            };

            _html2canvas.Util.getCSS = function (el, attribute, index) {
                // return $(el).css(attribute);

                var val,
                    isBackgroundSizePosition = attribute.match(/^background(Size|Position)$/);

                function toPX(attribute, val) {
                    var rsLeft = el.runtimeStyle && el.runtimeStyle[ attribute ],
                        left,
                        style = el.style;

                    // Check if we are not dealing with pixels, (Opera has issues with this)
                    // Ported from jQuery css.js
                    // From the awesome hack by Dean Edwards
                    // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

                    // If we're not dealing with a regular pixel number
                    // but a number that has a weird ending, we need to convert it to pixels

                    if (!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(val) && /^-?\d/.test(val)) {

                        // Remember the original values
                        left = style.left;

                        // Put in the new values to get a computed value out
                        if (rsLeft) {
                            el.runtimeStyle.left = el.currentStyle.left;
                        }
                        style.left = attribute === "fontSize" ? "1em" : (val || 0);
                        val = style.pixelLeft + "px";

                        // Revert the changed values
                        style.left = left;
                        if (rsLeft) {
                            el.runtimeStyle.left = rsLeft;
                        }

                    }

                    if (!/^(thin|medium|thick)$/i.test(val)) {
                        return Math.round(parseFloat(val)) + "px";
                    }

                    return val;
                }

                if (previousElement !== el) {
                    computedCSS = document.defaultView.getComputedStyle(el, null);
                }
                val = computedCSS[attribute];

                if (isBackgroundSizePosition) {
                    val = (val || '').split(',');
                    val = val[index || 0] || val[0] || 'auto';
                    val = _html2canvas.Util.trimText(val).split(' ');

                    if (attribute === 'backgroundSize' && (!val[ 0 ] || val[ 0 ].match(/cover|contain|auto/))) {
                        //these values will be handled in the parent function

                    } else {
                        val[ 0 ] = ( val[ 0 ].indexOf("%") === -1 ) ? toPX(attribute + "X", val[ 0 ]) : val[ 0 ];
                        if (val[ 1 ] === undefined) {
                            if (attribute === 'backgroundSize') {
                                val[ 1 ] = 'auto';
                                return val;
                            }
                            else {
                                // IE 9 doesn't return double digit always
                                val[ 1 ] = val[ 0 ];
                            }
                        }
                        val[ 1 ] = ( val[ 1 ].indexOf("%") === -1 ) ? toPX(attribute + "Y", val[ 1 ]) : val[ 1 ];
                    }
                } else if (/border(Top|Bottom)(Left|Right)Radius/.test(attribute)) {
                    var arr = val.split(" ");
                    if (arr.length <= 1) {
                        arr[ 1 ] = arr[ 0 ];
                    }
                    arr[ 0 ] = parseInt(arr[ 0 ], 10);
                    arr[ 1 ] = parseInt(arr[ 1 ], 10);
                    val = arr;
                }

                return val;
            };

            _html2canvas.Util.resizeBounds = function (current_width, current_height, target_width, target_height, stretch_mode) {
                var target_ratio = target_width / target_height,
                    current_ratio = current_width / current_height,
                    output_width, output_height;

                if (!stretch_mode || stretch_mode === 'auto') {
                    output_width = target_width;
                    output_height = target_height;

                } else {
                    if (target_ratio < current_ratio ^ stretch_mode === 'contain') {
                        output_height = target_height;
                        output_width = target_height * current_ratio;
                    } else {
                        output_width = target_width;
                        output_height = target_width / current_ratio;
                    }
                }

                return { width: output_width, height: output_height };
            };

            function backgroundBoundsFactory(prop, el, bounds, image, imageIndex, backgroundSize) {
                var bgposition = _html2canvas.Util.getCSS(el, prop, imageIndex) ,
                    topPos,
                    left,
                    percentage,
                    val;

                if (bgposition.length === 1) {
                    val = bgposition[0];

                    bgposition = [];

                    bgposition[0] = val;
                    bgposition[1] = val;
                }

                if (bgposition[0].toString().indexOf("%") !== -1) {
                    percentage = (parseFloat(bgposition[0]) / 100);
                    left = bounds.width * percentage;
                    if (prop !== 'backgroundSize') {
                        left -= (backgroundSize || image).width * percentage;
                    }

                } else {
                    if (prop === 'backgroundSize') {
                        if (bgposition[0] === 'auto') {
                            left = image.width;

                        } else {
                            if (bgposition[0].match(/contain|cover/)) {
                                var resized = _html2canvas.Util.resizeBounds(image.width, image.height, bounds.width, bounds.height, bgposition[0]);
                                left = resized.width;
                                topPos = resized.height;
                            } else {
                                left = parseInt(bgposition[0], 10);
                            }
                        }

                    } else {
                        left = parseInt(bgposition[0], 10);
                    }
                }


                if (bgposition[1] === 'auto') {
                    topPos = left / image.width * image.height;
                } else if (bgposition[1].toString().indexOf("%") !== -1) {
                    percentage = (parseFloat(bgposition[1]) / 100);
                    topPos = bounds.height * percentage;
                    if (prop !== 'backgroundSize') {
                        topPos -= (backgroundSize || image).height * percentage;
                    }

                } else {
                    topPos = parseInt(bgposition[1], 10);
                }

                return [left, topPos];
            }

            _html2canvas.Util.BackgroundPosition = function (el, bounds, image, imageIndex, backgroundSize) {
                var result = backgroundBoundsFactory('backgroundPosition', el, bounds, image, imageIndex, backgroundSize);
                return { left: result[0], top: result[1] };
            };
            _html2canvas.Util.BackgroundSize = function (el, bounds, image, imageIndex) {
                var result = backgroundBoundsFactory('backgroundSize', el, bounds, image, imageIndex);
                return { width: result[0], height: result[1] };
            };

            _html2canvas.Util.Extend = function (options, defaults) {
                for (var key in options) {
                    if (options.hasOwnProperty(key)) {
                        defaults[key] = options[key];
                    }
                }
                return defaults;
            };


            /*
             * Derived from jQuery.contents()
             * Copyright 2010, John Resig
             * Dual licensed under the MIT or GPL Version 2 licenses.
             * http://jquery.org/license
             */
            _html2canvas.Util.Children = function (elem) {


                var children;
                try {

                    children = (elem.nodeName && elem.nodeName.toUpperCase() === "IFRAME") ?
                        elem.contentDocument || elem.contentWindow.document : (function (array) {
                        var ret = [];

                        if (array !== null) {

                            (function (first, second) {
                                var i = first.length,
                                    j = 0;

                                if (typeof second.length === "number") {
                                    for (var l = second.length; j < l; j++) {
                                        first[ i++ ] = second[ j ];
                                    }

                                } else {
                                    while (second[j] !== undefined) {
                                        first[ i++ ] = second[ j++ ];
                                    }
                                }

                                first.length = i;

                                return first;
                            })(ret, array);

                        }

                        return ret;
                    })(elem.childNodes);

                } catch (ex) {
                    h2clog("html2canvas.Util.Children failed with exception: " + ex.message);
                    children = [];
                }
                return children;
            };

            _html2canvas.Util.Font = (function () {

                var fontData = {};

                return function (font, fontSize, doc) {
                    if (fontData[font + "-" + fontSize] !== undefined) {
                        return fontData[font + "-" + fontSize];
                    }

                    var container = doc.createElement('div'),
                        img = doc.createElement('img'),
                        span = doc.createElement('span'),
                        sampleText = 'Hidden Text',
                        baseline,
                        middle,
                        metricsObj;

                    container.style.visibility = "hidden";
                    container.style.fontFamily = font;
                    container.style.fontSize = fontSize;
                    container.style.margin = 0;
                    container.style.padding = 0;

                    doc.body.appendChild(container);

                    // http://probablyprogramming.com/2009/03/15/the-tiniest-gif-ever (handtinywhite.gif)
                    img.src = "data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";
                    img.width = 1;
                    img.height = 1;

                    img.style.margin = 0;
                    img.style.padding = 0;
                    img.style.verticalAlign = "baseline";

                    span.style.fontFamily = font;
                    span.style.fontSize = fontSize;
                    span.style.margin = 0;
                    span.style.padding = 0;

                    span.appendChild(doc.createTextNode(sampleText));
                    container.appendChild(span);
                    container.appendChild(img);
                    baseline = (img.offsetTop - span.offsetTop) + 1;

                    container.removeChild(span);
                    container.appendChild(doc.createTextNode(sampleText));

                    container.style.lineHeight = "normal";
                    img.style.verticalAlign = "super";

                    middle = (img.offsetTop - container.offsetTop) + 1;
                    metricsObj = {
                        baseline: baseline,
                        lineWidth: 1,
                        middle: middle
                    };

                    fontData[font + "-" + fontSize] = metricsObj;

                    doc.body.removeChild(container);

                    return metricsObj;
                };
            })();

            (function () {

                _html2canvas.Generate = {};

                var reGradients = [
                    /^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,
                    /^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,
                    /^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,
                    /^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,
                    /^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,
                    /^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,
                    /^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/
                ];

                /*
                 * TODO: Add IE10 vendor prefix (-ms) support
                 * TODO: Add W3C gradient (linear-gradient) support
                 * TODO: Add old Webkit -webkit-gradient(radial, ...) support
                 * TODO: Maybe some RegExp optimizations are possible ;o)
                 */
                _html2canvas.Generate.parseGradient = function (css, bounds) {
                    var gradient, i, len = reGradients.length, m1, stop, m2, m2Len, step, m3, tl, tr, br, bl;

                    for (i = 0; i < len; i += 1) {
                        m1 = css.match(reGradients[i]);
                        if (m1) {
                            break;
                        }
                    }

                    if (m1) {
                        switch (m1[1]) {
                            case '-webkit-linear-gradient':
                            case '-o-linear-gradient':

                                gradient = {
                                    type: 'linear',
                                    x0: null,
                                    y0: null,
                                    x1: null,
                                    y1: null,
                                    colorStops: []
                                };

                                // get coordinates
                                m2 = m1[2].match(/\w+/g);
                                if (m2) {
                                    m2Len = m2.length;
                                    for (i = 0; i < m2Len; i += 1) {
                                        switch (m2[i]) {
                                            case 'top':
                                                gradient.y0 = 0;
                                                gradient.y1 = bounds.height;
                                                break;

                                            case 'right':
                                                gradient.x0 = bounds.width;
                                                gradient.x1 = 0;
                                                break;

                                            case 'bottom':
                                                gradient.y0 = bounds.height;
                                                gradient.y1 = 0;
                                                break;

                                            case 'left':
                                                gradient.x0 = 0;
                                                gradient.x1 = bounds.width;
                                                break;
                                        }
                                    }
                                }
                                if (gradient.x0 === null && gradient.x1 === null) { // center
                                    gradient.x0 = gradient.x1 = bounds.width / 2;
                                }
                                if (gradient.y0 === null && gradient.y1 === null) { // center
                                    gradient.y0 = gradient.y1 = bounds.height / 2;
                                }

                                // get colors and stops
                                m2 = m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
                                if (m2) {
                                    m2Len = m2.length;
                                    step = 1 / Math.max(m2Len - 1, 1);
                                    for (i = 0; i < m2Len; i += 1) {
                                        m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
                                        if (m3[2]) {
                                            stop = parseFloat(m3[2]);
                                            if (m3[3] === '%') {
                                                stop /= 100;
                                            } else { // px - stupid opera
                                                stop /= bounds.width;
                                            }
                                        } else {
                                            stop = i * step;
                                        }
                                        gradient.colorStops.push({
                                            color: m3[1],
                                            stop: stop
                                        });
                                    }
                                }
                                break;

                            case '-webkit-gradient':

                                gradient = {
                                    type: m1[2] === 'radial' ? 'circle' : m1[2], // TODO: Add radial gradient support for older mozilla definitions
                                    x0: 0,
                                    y0: 0,
                                    x1: 0,
                                    y1: 0,
                                    colorStops: []
                                };

                                // get coordinates
                                m2 = m1[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);
                                if (m2) {
                                    gradient.x0 = (m2[1] * bounds.width) / 100;
                                    gradient.y0 = (m2[2] * bounds.height) / 100;
                                    gradient.x1 = (m2[3] * bounds.width) / 100;
                                    gradient.y1 = (m2[4] * bounds.height) / 100;
                                }

                                // get colors and stops
                                m2 = m1[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);
                                if (m2) {
                                    m2Len = m2.length;
                                    for (i = 0; i < m2Len; i += 1) {
                                        m3 = m2[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);
                                        stop = parseFloat(m3[2]);
                                        if (m3[1] === 'from') {
                                            stop = 0.0;
                                        }
                                        if (m3[1] === 'to') {
                                            stop = 1.0;
                                        }
                                        gradient.colorStops.push({
                                            color: m3[3],
                                            stop: stop
                                        });
                                    }
                                }
                                break;

                            case '-moz-linear-gradient':

                                gradient = {
                                    type: 'linear',
                                    x0: 0,
                                    y0: 0,
                                    x1: 0,
                                    y1: 0,
                                    colorStops: []
                                };

                                // get coordinates
                                m2 = m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);

                                // m2[1] == 0%   -> left
                                // m2[1] == 50%  -> center
                                // m2[1] == 100% -> right

                                // m2[2] == 0%   -> top
                                // m2[2] == 50%  -> center
                                // m2[2] == 100% -> bottom

                                if (m2) {
                                    gradient.x0 = (m2[1] * bounds.width) / 100;
                                    gradient.y0 = (m2[2] * bounds.height) / 100;
                                    gradient.x1 = bounds.width - gradient.x0;
                                    gradient.y1 = bounds.height - gradient.y0;
                                }

                                // get colors and stops
                                m2 = m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);
                                if (m2) {
                                    m2Len = m2.length;
                                    step = 1 / Math.max(m2Len - 1, 1);
                                    for (i = 0; i < m2Len; i += 1) {
                                        m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);
                                        if (m3[2]) {
                                            stop = parseFloat(m3[2]);
                                            if (m3[3]) { // percentage
                                                stop /= 100;
                                            }
                                        } else {
                                            stop = i * step;
                                        }
                                        gradient.colorStops.push({
                                            color: m3[1],
                                            stop: stop
                                        });
                                    }
                                }
                                break;

                            case '-webkit-radial-gradient':
                            case '-moz-radial-gradient':
                            case '-o-radial-gradient':

                                gradient = {
                                    type: 'circle',
                                    x0: 0,
                                    y0: 0,
                                    x1: bounds.width,
                                    y1: bounds.height,
                                    cx: 0,
                                    cy: 0,
                                    rx: 0,
                                    ry: 0,
                                    colorStops: []
                                };

                                // center
                                m2 = m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
                                if (m2) {
                                    gradient.cx = (m2[1] * bounds.width) / 100;
                                    gradient.cy = (m2[2] * bounds.height) / 100;
                                }

                                // size
                                m2 = m1[3].match(/\w+/);
                                m3 = m1[4].match(/[a-z\-]*/);
                                if (m2 && m3) {
                                    switch (m3[0]) {
                                        case 'farthest-corner':
                                        case 'cover': // is equivalent to farthest-corner
                                        case '': // mozilla removes "cover" from definition :(
                                            tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));
                                            tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
                                            br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
                                            bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));
                                            gradient.rx = gradient.ry = Math.max(tl, tr, br, bl);
                                            break;
                                        case 'closest-corner':
                                            tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));
                                            tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
                                            br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));
                                            bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));
                                            gradient.rx = gradient.ry = Math.min(tl, tr, br, bl);
                                            break;
                                        case 'farthest-side':
                                            if (m2[0] === 'circle') {
                                                gradient.rx = gradient.ry = Math.max(
                                                    gradient.cx,
                                                    gradient.cy,
                                                    gradient.x1 - gradient.cx,
                                                    gradient.y1 - gradient.cy
                                                );
                                            } else { // ellipse

                                                gradient.type = m2[0];

                                                gradient.rx = Math.max(
                                                    gradient.cx,
                                                    gradient.x1 - gradient.cx
                                                );
                                                gradient.ry = Math.max(
                                                    gradient.cy,
                                                    gradient.y1 - gradient.cy
                                                );
                                            }
                                            break;
                                        case 'closest-side':
                                        case 'contain': // is equivalent to closest-side
                                            if (m2[0] === 'circle') {
                                                gradient.rx = gradient.ry = Math.min(
                                                    gradient.cx,
                                                    gradient.cy,
                                                    gradient.x1 - gradient.cx,
                                                    gradient.y1 - gradient.cy
                                                );
                                            } else { // ellipse

                                                gradient.type = m2[0];

                                                gradient.rx = Math.min(
                                                    gradient.cx,
                                                    gradient.x1 - gradient.cx
                                                );
                                                gradient.ry = Math.min(
                                                    gradient.cy,
                                                    gradient.y1 - gradient.cy
                                                );
                                            }
                                            break;

                                        // TODO: add support for "30px 40px" sizes (webkit only)
                                    }
                                }

                                // color stops
                                m2 = m1[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
                                if (m2) {
                                    m2Len = m2.length;
                                    step = 1 / Math.max(m2Len - 1, 1);
                                    for (i = 0; i < m2Len; i += 1) {
                                        m3 = m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
                                        if (m3[2]) {
                                            stop = parseFloat(m3[2]);
                                            if (m3[3] === '%') {
                                                stop /= 100;
                                            } else { // px - stupid opera
                                                stop /= bounds.width;
                                            }
                                        } else {
                                            stop = i * step;
                                        }
                                        gradient.colorStops.push({
                                            color: m3[1],
                                            stop: stop
                                        });
                                    }
                                }
                                break;
                        }
                    }

                    return gradient;
                };

                _html2canvas.Generate.Gradient = function (src, bounds) {
                    if (bounds.width === 0 || bounds.height === 0) {
                        return;
                    }

                    var canvas = document.createElement('canvas'),
                        ctx = canvas.getContext('2d'),
                        gradient, grad, i, len;

                    canvas.width = bounds.width;
                    canvas.height = bounds.height;

                    // TODO: add support for multi defined background gradients
                    gradient = _html2canvas.Generate.parseGradient(src, bounds);

                    if (gradient) {
                        if (gradient.type === 'linear') {
                            grad = ctx.createLinearGradient(gradient.x0, gradient.y0, gradient.x1, gradient.y1);

                            for (i = 0, len = gradient.colorStops.length; i < len; i += 1) {
                                try {
                                    grad.addColorStop(gradient.colorStops[i].stop, gradient.colorStops[i].color);
                                }
                                catch (e) {
                                    h2clog(['failed to add color stop: ', e, '; tried to add: ', gradient.colorStops[i], '; stop: ', i, '; in: ', src]);
                                }
                            }

                            ctx.fillStyle = grad;
                            ctx.fillRect(0, 0, bounds.width, bounds.height);

                        } else if (gradient.type === 'circle') {

                            grad = ctx.createRadialGradient(gradient.cx, gradient.cy, 0, gradient.cx, gradient.cy, gradient.rx);

                            for (i = 0, len = gradient.colorStops.length; i < len; i += 1) {
                                try {
                                    grad.addColorStop(gradient.colorStops[i].stop, gradient.colorStops[i].color);
                                }
                                catch (e) {
                                    h2clog(['failed to add color stop: ', e, '; tried to add: ', gradient.colorStops[i], '; stop: ', i, '; in: ', src]);
                                }
                            }

                            ctx.fillStyle = grad;
                            ctx.fillRect(0, 0, bounds.width, bounds.height);

                        } else if (gradient.type === 'ellipse') {

                            // draw circle
                            var canvasRadial = document.createElement('canvas'),
                                ctxRadial = canvasRadial.getContext('2d'),
                                ri = Math.max(gradient.rx, gradient.ry),
                                di = ri * 2, imgRadial;

                            canvasRadial.width = canvasRadial.height = di;

                            grad = ctxRadial.createRadialGradient(gradient.rx, gradient.ry, 0, gradient.rx, gradient.ry, ri);

                            for (i = 0, len = gradient.colorStops.length; i < len; i += 1) {
                                try {
                                    grad.addColorStop(gradient.colorStops[i].stop, gradient.colorStops[i].color);
                                }
                                catch (e) {
                                    h2clog(['failed to add color stop: ', e, '; tried to add: ', gradient.colorStops[i], '; stop: ', i, '; in: ', src]);
                                }
                            }

                            ctxRadial.fillStyle = grad;
                            ctxRadial.fillRect(0, 0, di, di);

                            ctx.fillStyle = gradient.colorStops[i - 1].color;
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(canvasRadial, gradient.cx - gradient.rx, gradient.cy - gradient.ry, 2 * gradient.rx, 2 * gradient.ry);

                        }
                    }

                    return canvas;
                };

                _html2canvas.Generate.ListAlpha = function (number) {
                    var tmp = "",
                        modulus;

                    do {
                        modulus = number % 26;
                        tmp = String.fromCharCode((modulus) + 64) + tmp;
                        number = number / 26;
                    } while ((number * 26) > 26);

                    return tmp;
                };

                _html2canvas.Generate.ListRoman = function (number) {
                    var romanArray = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"],
                        decimal = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
                        roman = "",
                        v,
                        len = romanArray.length;

                    if (number <= 0 || number >= 4000) {
                        return number;
                    }

                    for (v = 0; v < len; v += 1) {
                        while (number >= decimal[v]) {
                            number -= decimal[v];
                            roman += romanArray[v];
                        }
                    }

                    return roman;

                };

            })();
            function h2cRenderContext(width, height) {
                var storage = [];
                return {
                    storage: storage,
                    width: width,
                    height: height,
                    clip: function () {
                        storage.push({
                            type: "function",
                            name: "clip",
                            'arguments': arguments
                        });
                    },
                    translate: function () {
                        storage.push({
                            type: "function",
                            name: "translate",
                            'arguments': arguments
                        });
                    },
                    fill: function () {
                        storage.push({
                            type: "function",
                            name: "fill",
                            'arguments': arguments
                        });
                    },
                    save: function () {
                        storage.push({
                            type: "function",
                            name: "save",
                            'arguments': arguments
                        });
                    },
                    restore: function () {
                        storage.push({
                            type: "function",
                            name: "restore",
                            'arguments': arguments
                        });
                    },
                    fillRect: function () {
                        storage.push({
                            type: "function",
                            name: "fillRect",
                            'arguments': arguments
                        });
                    },
                    createPattern: function () {
                        storage.push({
                            type: "function",
                            name: "createPattern",
                            'arguments': arguments
                        });
                    },
                    drawShape: function () {

                        var shape = [];

                        storage.push({
                            type: "function",
                            name: "drawShape",
                            'arguments': shape
                        });

                        return {
                            moveTo: function () {
                                shape.push({
                                    name: "moveTo",
                                    'arguments': arguments
                                });
                            },
                            lineTo: function () {
                                shape.push({
                                    name: "lineTo",
                                    'arguments': arguments
                                });
                            },
                            arcTo: function () {
                                shape.push({
                                    name: "arcTo",
                                    'arguments': arguments
                                });
                            },
                            bezierCurveTo: function () {
                                shape.push({
                                    name: "bezierCurveTo",
                                    'arguments': arguments
                                });
                            },
                            quadraticCurveTo: function () {
                                shape.push({
                                    name: "quadraticCurveTo",
                                    'arguments': arguments
                                });
                            }
                        };

                    },
                    drawImage: function () {
                        storage.push({
                            type: "function",
                            name: "drawImage",
                            'arguments': arguments
                        });
                    },
                    fillText: function () {
                        storage.push({
                            type: "function",
                            name: "fillText",
                            'arguments': arguments
                        });
                    },
                    setVariable: function (variable, value) {
                        storage.push({
                            type: "variable",
                            name: variable,
                            'arguments': value
                        });
                    }
                };
            }

            _html2canvas.Parse = function (images, options) {
                bds.se.ShortCut.scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
                //bds.se.ShortCut.scrollLeft=document.documentElement.scrollLeft;
                window.scroll(0, 0);

                var element = (( options.elements === undefined ) ? document.body : options.elements[0]), // select body by default
                    numDraws = 0,
                    doc = element.ownerDocument,
                    support = _html2canvas.Util.Support(options, doc),
                    ignoreElementsRegExp = new RegExp("(" + options.ignoreElements + ")"),
                    body = doc.body,
                    getCSS = _html2canvas.Util.getCSS,
                    pseudoHide = "___html2canvas___pseudoelement",
                    hidePseudoElements = doc.createElement('style');

                hidePseudoElements.innerHTML = '.' + pseudoHide + '-before:before { content: "" !important; display: none !important; }' +
                    '.' + pseudoHide + '-after:after { content: "" !important; display: none !important; }';

                body.appendChild(hidePseudoElements);

                images = images || {};

                function documentWidth() {
                    return Math.max(
                        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),
                        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),
                        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)
                    );
                }

                function documentHeight() {
                    return Math.max(
                        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),
                        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),
                        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)
                    );
                }

                function getCSSInt(element, attribute) {
                    var val = parseInt(getCSS(element, attribute), 10);
                    return (isNaN(val)) ? 0 : val; // borders in old IE are throwing 'medium' for demo.html
                }

                function renderRect(ctx, x, y, w, h, bgcolor) {
                    if (bgcolor !== "transparent") {
                        ctx.setVariable("fillStyle", bgcolor);
                        ctx.fillRect(x, y, w, h);
                        numDraws += 1;
                    }
                }

                function textTransform(text, transform) {
                    switch (transform) {
                        case "lowercase":
                            return text.toLowerCase();
                        case "capitalize":
                            return text.replace(/(^|\s|:|-|\(|\))([a-z])/g, function (m, p1, p2) {
                                if (m.length > 0) {
                                    return p1 + p2.toUpperCase();
                                }
                            });
                        case "uppercase":
                            return text.toUpperCase();
                        default:
                            return text;
                    }
                }

                function noLetterSpacing(letter_spacing) {
                    return (/^(normal|none|0px)$/.test(letter_spacing));
                }

                function drawText(currentText, x, y, ctx) {
                    if (currentText !== null && _html2canvas.Util.trimText(currentText).length > 0) {
                        ctx.fillText(currentText, x, y);
                        numDraws += 1;
                    }
                }

                function setTextVariables(ctx, el, text_decoration, color) {
                    var align = false,
                        bold = getCSS(el, "fontWeight"),
                        family = getCSS(el, "fontFamily"),
                        size = getCSS(el, "fontSize");

                    switch (parseInt(bold, 10)) {
                        case 401:
                            bold = "bold";
                            break;
                        case 400:
                            bold = "normal";
                            break;
                    }

                    ctx.setVariable("fillStyle", color);
                    ctx.setVariable("font", [getCSS(el, "fontStyle"), getCSS(el, "fontVariant"), bold, size, family].join(" "));
                    ctx.setVariable("textAlign", (align) ? "right" : "left");

                    if (text_decoration !== "none") {
                        return _html2canvas.Util.Font(family, size, doc);
                    }
                }

                function renderTextDecoration(ctx, text_decoration, bounds, metrics, color) {
                    switch (text_decoration) {
                        case "underline":
                            // Draws a line at the baseline of the font
                            // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size
                            renderRect(ctx, bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, color);
                            break;
                        case "overline":
                            renderRect(ctx, bounds.left, Math.round(bounds.top), bounds.width, 1, color);
                            break;
                        case "line-through":
                            // TODO try and find exact position for line-through
                            renderRect(ctx, bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, color);
                            break;
                    }
                }

                function getTextBounds(state, text, textDecoration, isLast) {
                    var bounds;
                    if (support.rangeBounds) {
                        if (textDecoration !== "none" || _html2canvas.Util.trimText(text).length !== 0) {
                            bounds = textRangeBounds(text, state.node, state.textOffset);
                        }
                        state.textOffset += text.length;
                    } else if (state.node && typeof state.node.nodeValue === "string") {
                        var newTextNode = (isLast) ? state.node.splitText(text.length) : null;
                        bounds = textWrapperBounds(state.node);
                        state.node = newTextNode;
                    }
                    return bounds;
                }

                function textRangeBounds(text, textNode, textOffset) {
                    var range = doc.createRange();
                    range.setStart(textNode, textOffset);
                    range.setEnd(textNode, textOffset + text.length);
                    return range.getBoundingClientRect();
                }

                function textWrapperBounds(oldTextNode) {
                    var parent = oldTextNode.parentNode,
                        wrapElement = doc.createElement('wrapper'),
                        backupText = oldTextNode.cloneNode(true);

                    wrapElement.appendChild(oldTextNode.cloneNode(true));
                    parent.replaceChild(wrapElement, oldTextNode);

                    var bounds = _html2canvas.Util.Bounds(wrapElement);
                    parent.replaceChild(backupText, wrapElement);
                    return bounds;
                }

                function renderText(el, textNode, stack) {
                    var ctx = stack.ctx,
                        color = getCSS(el, "color"),
                        textDecoration = getCSS(el, "textDecoration"),
                        textAlign = getCSS(el, "textAlign"),
                        metrics,
                        textList,
                        state = {
                            node: textNode,
                            textOffset: 0
                        };

                    if (_html2canvas.Util.trimText(textNode.nodeValue).length > 0) {
                        textNode.nodeValue = textTransform(textNode.nodeValue, getCSS(el, "textTransform"));
                        textAlign = textAlign.replace(["-webkit-auto"], ["auto"]);

                        textList = (!options.letterRendering && /^(left|right|justify|auto)$/.test(textAlign) && noLetterSpacing(getCSS(el, "letterSpacing"))) ?
                            textNode.nodeValue.split(/(\b| )/)
                            : textNode.nodeValue.split("");

                        metrics = setTextVariables(ctx, el, textDecoration, color);

                        if (options.chinese) {
                            textList.forEach(function (word, index) {
                                if (/.*[\u4E00-\u9FA5].*$/.test(word)) {
                                    word = word.split("");
                                    word.unshift(index, 1);
                                    textList.splice.apply(textList, word);
                                }
                            });
                        }

                        textList.forEach(function (text, index) {
                            var bounds = getTextBounds(state, text, textDecoration, (index < textList.length - 1));
                            if (bounds) {
                                drawText(text, bounds.left, bounds.bottom, ctx);
                                renderTextDecoration(ctx, textDecoration, bounds, metrics, color);
                            }
                        });
                    }
                }

                function listPosition(element, val) {
                    var boundElement = doc.createElement("boundelement"),
                        originalType,
                        bounds;

                    boundElement.style.display = "inline";

                    originalType = element.style.listStyleType;
                    element.style.listStyleType = "none";

                    boundElement.appendChild(doc.createTextNode(val));

                    element.insertBefore(boundElement, element.firstChild);

                    bounds = _html2canvas.Util.Bounds(boundElement);
                    element.removeChild(boundElement);
                    element.style.listStyleType = originalType;
                    return bounds;
                }

                function elementIndex(el) {
                    var i = -1,
                        count = 1,
                        childs = el.parentNode.childNodes;

                    if (el.parentNode) {
                        while (childs[ ++i ] !== el) {
                            if (childs[ i ].nodeType === 1) {
                                count++;
                            }
                        }
                        return count;
                    } else {
                        return -1;
                    }
                }

                function listItemText(element, type) {
                    var currentIndex = elementIndex(element),
                        text;
                    switch (type) {
                        case "decimal":
                            text = currentIndex;
                            break;
                        case "decimal-leading-zero":
                            text = (currentIndex.toString().length === 1) ? currentIndex = "0" + currentIndex.toString() : currentIndex.toString();
                            break;
                        case "upper-roman":
                            text = _html2canvas.Generate.ListRoman(currentIndex);
                            break;
                        case "lower-roman":
                            text = _html2canvas.Generate.ListRoman(currentIndex).toLowerCase();
                            break;
                        case "lower-alpha":
                            text = _html2canvas.Generate.ListAlpha(currentIndex).toLowerCase();
                            break;
                        case "upper-alpha":
                            text = _html2canvas.Generate.ListAlpha(currentIndex);
                            break;
                    }

                    text += ". ";
                    return text;
                }

                function renderListItem(element, stack, elBounds) {
                    var x,
                        text,
                        ctx = stack.ctx,
                        type = getCSS(element, "listStyleType"),
                        listBounds;

                    if (/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(type)) {
                        text = listItemText(element, type);
                        listBounds = listPosition(element, text);
                        setTextVariables(ctx, element, "none", getCSS(element, "color"));

                        if (getCSS(element, "listStylePosition") === "inside") {
                            ctx.setVariable("textAlign", "left");
                            x = elBounds.left;
                        } else {
                            return;
                        }

                        drawText(text, x, listBounds.bottom, ctx);
                    }
                }

                function loadImage(src) {
                    var img = images[src];
                    if (img && img.succeeded === true) {
                        return img.img;
                    } else {
                        return false;
                    }
                }

                function clipBounds(src, dst) {
                    var x = Math.max(src.left, dst.left),
                        y = Math.max(src.top, dst.top),
                        x2 = Math.min((src.left + src.width), (dst.left + dst.width)),
                        y2 = Math.min((src.top + src.height), (dst.top + dst.height));

                    return {
                        left: x,
                        top: y,
                        width: x2 - x,
                        height: y2 - y
                    };
                }

                function setZ(zIndex, parentZ) {
                    // TODO fix static elements overlapping relative/absolute elements under same stack, if they are defined after them
                    var newContext;
                    if (!parentZ) {
                        newContext = h2czContext(0);
                        return newContext;
                    }

                    if (zIndex !== "auto") {
                        newContext = h2czContext(zIndex);
                        parentZ.children.push(newContext);
                        return newContext;

                    }

                    return parentZ;
                }

                function renderImage(ctx, element, image, bounds, borders) {

                    var paddingLeft = getCSSInt(element, 'paddingLeft'),
                        paddingTop = getCSSInt(element, 'paddingTop'),
                        paddingRight = getCSSInt(element, 'paddingRight'),
                        paddingBottom = getCSSInt(element, 'paddingBottom');

                    drawImage(
                        ctx,
                        image,
                        0, //sx
                        0, //sy
                        image.width, //sw
                        image.height, //sh
                        bounds.left + paddingLeft + borders[3].width, //dx
                        bounds.top + paddingTop + borders[0].width, // dy
                        bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight), //dw
                        bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom) //dh
                    );
                }

                function getBorderData(element) {
                    return ["Top", "Right", "Bottom", "Left"].map(function (side) {
                        return {
                            width: getCSSInt(element, 'border' + side + 'Width'),
                            color: getCSS(element, 'border' + side + 'Color')
                        };
                    });
                }

                function getBorderRadiusData(element) {
                    return ["TopLeft", "TopRight", "BottomRight", "BottomLeft"].map(function (side) {
                        return getCSS(element, 'border' + side + 'Radius');
                    });
                }

                var getCurvePoints = (function (kappa) {

                    return function (x, y, r1, r2) {
                        var ox = (r1) * kappa, // control point offset horizontal
                            oy = (r2) * kappa, // control point offset vertical
                            xm = x + r1, // x-middle
                            ym = y + r2; // y-middle
                        return {
                            topLeft: bezierCurve({
                                x: x,
                                y: ym
                            }, {
                                x: x,
                                y: ym - oy
                            }, {
                                x: xm - ox,
                                y: y
                            }, {
                                x: xm,
                                y: y
                            }),
                            topRight: bezierCurve({
                                x: x,
                                y: y
                            }, {
                                x: x + ox,
                                y: y
                            }, {
                                x: xm,
                                y: ym - oy
                            }, {
                                x: xm,
                                y: ym
                            }),
                            bottomRight: bezierCurve({
                                x: xm,
                                y: y
                            }, {
                                x: xm,
                                y: y + oy
                            }, {
                                x: x + ox,
                                y: ym
                            }, {
                                x: x,
                                y: ym
                            }),
                            bottomLeft: bezierCurve({
                                x: xm,
                                y: ym
                            }, {
                                x: xm - ox,
                                y: ym
                            }, {
                                x: x,
                                y: y + oy
                            }, {
                                x: x,
                                y: y
                            })
                        };
                    };
                })(4 * ((Math.sqrt(2) - 1) / 3));

                function bezierCurve(start, startControl, endControl, end) {

                    var lerp = function (a, b, t) {
                        return {
                            x: a.x + (b.x - a.x) * t,
                            y: a.y + (b.y - a.y) * t
                        };
                    };

                    return {
                        start: start,
                        startControl: startControl,
                        endControl: endControl,
                        end: end,
                        subdivide: function (t) {
                            var ab = lerp(start, startControl, t),
                                bc = lerp(startControl, endControl, t),
                                cd = lerp(endControl, end, t),
                                abbc = lerp(ab, bc, t),
                                bccd = lerp(bc, cd, t),
                                dest = lerp(abbc, bccd, t);
                            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];
                        },
                        curveTo: function (borderArgs) {
                            borderArgs.push(["bezierCurve", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);
                        },
                        curveToReversed: function (borderArgs) {
                            borderArgs.push(["bezierCurve", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);
                        }
                    };
                }

                function parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {
                    if (radius1[0] > 0 || radius1[1] > 0) {
                        borderArgs.push(["line", corner1[0].start.x, corner1[0].start.y]);
                        corner1[0].curveTo(borderArgs);
                        corner1[1].curveTo(borderArgs);
                    } else {
                        borderArgs.push(["line", x, y]);
                    }

                    if (radius2[0] > 0 || radius2[1] > 0) {
                        borderArgs.push(["line", corner2[0].start.x, corner2[0].start.y]);
                    }
                }

                function drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {
                    var borderArgs = [];

                    if (radius1[0] > 0 || radius1[1] > 0) {
                        borderArgs.push(["line", outer1[1].start.x, outer1[1].start.y]);
                        outer1[1].curveTo(borderArgs);
                    } else {
                        borderArgs.push([ "line", borderData.c1[0], borderData.c1[1]]);
                    }

                    if (radius2[0] > 0 || radius2[1] > 0) {
                        borderArgs.push(["line", outer2[0].start.x, outer2[0].start.y]);
                        outer2[0].curveTo(borderArgs);
                        borderArgs.push(["line", inner2[0].end.x, inner2[0].end.y]);
                        inner2[0].curveToReversed(borderArgs);
                    } else {
                        borderArgs.push([ "line", borderData.c2[0], borderData.c2[1]]);
                        borderArgs.push([ "line", borderData.c3[0], borderData.c3[1]]);
                    }

                    if (radius1[0] > 0 || radius1[1] > 0) {
                        borderArgs.push(["line", inner1[1].end.x, inner1[1].end.y]);
                        inner1[1].curveToReversed(borderArgs);
                    } else {
                        borderArgs.push([ "line", borderData.c4[0], borderData.c4[1]]);
                    }

                    return borderArgs;
                }

                function calculateCurvePoints(bounds, borderRadius, borders) {

                    var x = bounds.left,
                        y = bounds.top,
                        width = bounds.width,
                        height = bounds.height,

                        tlh = borderRadius[0][0],
                        tlv = borderRadius[0][1],
                        trh = borderRadius[1][0],
                        trv = borderRadius[1][1],
                        brv = borderRadius[2][0],
                        brh = borderRadius[2][1],
                        blh = borderRadius[3][0],
                        blv = borderRadius[3][1],

                        topWidth = width - trh,
                        rightHeight = height - brv,
                        bottomWidth = width - brh,
                        leftHeight = height - blv;

                    return {
                        topLeftOuter: getCurvePoints(
                            x,
                            y,
                            tlh,
                            tlv
                        ).topLeft.subdivide(0.5),

                        topLeftInner: getCurvePoints(
                            x + borders[3].width,
                            y + borders[0].width,
                            Math.max(0, tlh - borders[3].width),
                            Math.max(0, tlv - borders[0].width)
                        ).topLeft.subdivide(0.5),

                        topRightOuter: getCurvePoints(
                            x + topWidth,
                            y,
                            trh,
                            trv
                        ).topRight.subdivide(0.5),

                        topRightInner: getCurvePoints(
                            x + Math.min(topWidth, width + borders[3].width),
                            y + borders[0].width,
                            (topWidth > width + borders[3].width) ? 0 : trh - borders[3].width,
                            trv - borders[0].width
                        ).topRight.subdivide(0.5),

                        bottomRightOuter: getCurvePoints(
                            x + bottomWidth,
                            y + rightHeight,
                            brh,
                            brv
                        ).bottomRight.subdivide(0.5),

                        bottomRightInner: getCurvePoints(
                            x + Math.min(bottomWidth, width + borders[3].width),
                            y + Math.min(rightHeight, height + borders[0].width),
                            Math.max(0, brh - borders[1].width),
                            Math.max(0, brv - borders[2].width)
                        ).bottomRight.subdivide(0.5),

                        bottomLeftOuter: getCurvePoints(
                            x,
                            y + leftHeight,
                            blh,
                            blv
                        ).bottomLeft.subdivide(0.5),

                        bottomLeftInner: getCurvePoints(
                            x + borders[3].width,
                            y + leftHeight,
                            Math.max(0, blh - borders[3].width),
                            Math.max(0, blv - borders[2].width)
                        ).bottomLeft.subdivide(0.5)
                    };
                }

                function getBorderClip(element, borderPoints, borders, radius, bounds) {
                    var backgroundClip = getCSS(element, 'backgroundClip'),
                        borderArgs = [];

                    switch (backgroundClip) {
                        case "content-box":
                        case "padding-box":
                            parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);
                            parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);
                            parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);
                            parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);
                            break;

                        default:
                            parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);
                            parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);
                            parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);
                            parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);
                            break;
                    }

                    return borderArgs;
                }

                function parseBorders(element, bounds, borders) {
                    var x = bounds.left,
                        y = bounds.top,
                        width = bounds.width,
                        height = bounds.height,
                        borderSide,
                        bx,
                        by,
                        bw,
                        bh,
                        borderArgs,
                    // http://www.w3.org/TR/css3-background/#the-border-radius
                        borderRadius = getBorderRadiusData(element),
                        borderPoints = calculateCurvePoints(bounds, borderRadius, borders),
                        borderData = {
                            clip: getBorderClip(element, borderPoints, borders, borderRadius, bounds),
                            borders: []
                        };

                    for (borderSide = 0; borderSide < 4; borderSide++) {

                        if (borders[borderSide].width > 0) {
                            bx = x;
                            by = y;
                            bw = width;
                            bh = height - (borders[2].width);

                            switch (borderSide) {
                                case 0:
                                    // top border
                                    bh = borders[0].width;

                                    borderArgs = drawSide({
                                            c1: [bx, by],
                                            c2: [bx + bw, by],
                                            c3: [bx + bw - borders[1].width, by + bh],
                                            c4: [bx + borders[3].width, by + bh]
                                        }, borderRadius[0], borderRadius[1],
                                        borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);
                                    break;
                                case 1:
                                    // right border
                                    bx = x + width - (borders[1].width);
                                    bw = borders[1].width;

                                    borderArgs = drawSide({
                                            c1: [bx + bw, by],
                                            c2: [bx + bw, by + bh + borders[2].width],
                                            c3: [bx, by + bh],
                                            c4: [bx, by + borders[0].width]
                                        }, borderRadius[1], borderRadius[2],
                                        borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);
                                    break;
                                case 2:
                                    // bottom border
                                    by = (by + height) - (borders[2].width);
                                    bh = borders[2].width;

                                    borderArgs = drawSide({
                                            c1: [bx + bw, by + bh],
                                            c2: [bx, by + bh],
                                            c3: [bx + borders[3].width, by],
                                            c4: [bx + bw - borders[2].width, by]
                                        }, borderRadius[2], borderRadius[3],
                                        borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);
                                    break;
                                case 3:
                                    // left border
                                    bw = borders[3].width;

                                    borderArgs = drawSide({
                                            c1: [bx, by + bh + borders[2].width],
                                            c2: [bx, by],
                                            c3: [bx + bw, by + borders[0].width],
                                            c4: [bx + bw, by + bh]
                                        }, borderRadius[3], borderRadius[0],
                                        borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);
                                    break;
                            }

                            borderData.borders.push({
                                args: borderArgs,
                                color: borders[borderSide].color
                            });

                        }
                    }

                    return borderData;
                }

                function createShape(ctx, args) {
                    var shape = ctx.drawShape();
                    args.forEach(function (border, index) {
                        shape[(index === 0) ? "moveTo" : border[0] + "To" ].apply(null, border.slice(1));
                    });
                    return shape;
                }

                function renderBorders(ctx, borderArgs, color) {
                    if (color !== "transparent") {
                        ctx.setVariable("fillStyle", color);
                        createShape(ctx, borderArgs);
                        ctx.fill();
                        numDraws += 1;
                    }
                }

                function renderFormValue(el, bounds, stack) {

                    var valueWrap = doc.createElement('valuewrap'),
                        cssPropertyArray = ['lineHeight', 'textAlign', 'fontFamily', 'color', 'fontSize', 'paddingLeft', 'paddingTop', 'width', 'height', 'border', 'borderLeftWidth', 'borderTopWidth'],
                        textValue,
                        textNode;

                    cssPropertyArray.forEach(function (property) {
                        try {
                            valueWrap.style[property] = getCSS(el, property);
                        } catch (e) {
                            // Older IE has issues with "border"
                            h2clog("html2canvas: Parse: Exception caught in renderFormValue: " + e.message);
                        }
                    });

                    valueWrap.style.borderColor = "black";
                    valueWrap.style.borderStyle = "solid";
                    valueWrap.style.display = "block";
                    valueWrap.style.position = "absolute";

                    if (/^(submit|reset|button|text|password)$/.test(el.type) || el.nodeName === "SELECT") {
                        valueWrap.style.lineHeight = getCSS(el, "height");
                    }

                    valueWrap.style.top = bounds.top + "px";
                    valueWrap.style.left = bounds.left + "px";

                    textValue = (el.nodeName === "SELECT") ? (el.options[el.selectedIndex] || 0).text : el.value;
                    if (!textValue) {
                        textValue = el.placeholder;
                    }

                    textNode = doc.createTextNode(textValue);

                    valueWrap.appendChild(textNode);
                    body.appendChild(valueWrap);

                    renderText(el, textNode, stack);
                    body.removeChild(valueWrap);
                }

                function drawImage(ctx) {
                    ctx.drawImage.apply(ctx, Array.prototype.slice.call(arguments, 1));
                    numDraws += 1;
                }

                function getPseudoElement(el, which) {
                    var elStyle = window.getComputedStyle(el, which);
                    if (!elStyle || !elStyle.content || elStyle.content === "none" || elStyle.content === "-moz-alt-content") {
                        return;
                    }
                    var content = elStyle.content + '',
                        first = content.substr(0, 1);
                    //strips quotes
                    if (first === content.substr(content.length - 1) && first.match(/'|"/)) {
                        content = content.substr(1, content.length - 2);
                    }

                    var isImage = content.substr(0, 3) === 'url',
                        elps = document.createElement(isImage ? 'img' : 'span');

                    elps.className = pseudoHide + "-before " + pseudoHide + "-after";

                    Object.keys(elStyle).filter(indexedProperty).forEach(function (prop) {
                        // Prevent assigning of read only CSS Rules, ex. length, parentRule
                        try {
                            elps.style[prop] = elStyle[prop];
                        } catch (e) {
                            h2clog(['Tried to assign readonly property ', prop, 'Error:', e]);
                        }
                    });

                    if (isImage) {
                        elps.src = _html2canvas.Util.parseBackgroundImage(content)[0].args[0];
                    } else {
                        elps.innerHTML = content;
                    }
                    return elps;
                }

                function indexedProperty(property) {
                    return (isNaN(window.parseInt(property, 10)));
                }

                function injectPseudoElements(el, stack) {
                    var before = getPseudoElement(el, ':before'),
                        after = getPseudoElement(el, ':after');
                    if (!before && !after) {
                        return;
                    }

                    if (before) {
                        el.className += " " + pseudoHide + "-before";
                        el.parentNode.insertBefore(before, el);
                        parseElement(before, stack, true);
                        el.parentNode.removeChild(before);
                        el.className = el.className.replace(pseudoHide + "-before", "").trim();
                    }

                    if (after) {
                        el.className += " " + pseudoHide + "-after";
                        el.appendChild(after);
                        parseElement(after, stack, true);
                        el.removeChild(after);
                        el.className = el.className.replace(pseudoHide + "-after", "").trim();
                    }

                }

                function renderBackgroundRepeat(ctx, image, backgroundPosition, bounds) {
                    var offsetX = Math.round(bounds.left + backgroundPosition.left),
                        offsetY = Math.round(bounds.top + backgroundPosition.top);

                    ctx.createPattern(image);
                    ctx.translate(offsetX, offsetY);
                    ctx.fill();
                    ctx.translate(-offsetX, -offsetY);
                }

                function backgroundRepeatShape(ctx, image, backgroundPosition, bounds, left, top, width, height) {
                    var args = [];
                    args.push(["line", Math.round(left), Math.round(top)]);
                    args.push(["line", Math.round(left + width), Math.round(top)]);
                    args.push(["line", Math.round(left + width), Math.round(height + top)]);
                    args.push(["line", Math.round(left), Math.round(height + top)]);
                    createShape(ctx, args);
                    ctx.save();
                    ctx.clip();
                    renderBackgroundRepeat(ctx, image, backgroundPosition, bounds);
                    ctx.restore();
                }

                function renderBackgroundColor(ctx, backgroundBounds, bgcolor) {
                    renderRect(
                        ctx,
                        backgroundBounds.left,
                        backgroundBounds.top,
                        backgroundBounds.width,
                        backgroundBounds.height,
                        bgcolor
                    );
                }

                function renderBackgroundRepeating(el, bounds, ctx, image, imageIndex) {
                    var backgroundSize = _html2canvas.Util.BackgroundSize(el, bounds, image, imageIndex),
                        backgroundPosition = _html2canvas.Util.BackgroundPosition(el, bounds, image, imageIndex, backgroundSize),
                        backgroundRepeat = getCSS(el, "backgroundRepeat").split(",").map(function (value) {
                            return value.trim();
                        });

                    image = resizeImage(image, backgroundSize);

                    backgroundRepeat = backgroundRepeat[imageIndex] || backgroundRepeat[0];

                    switch (backgroundRepeat) {
                        case "repeat-x":
                            backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
                                bounds.left, bounds.top + backgroundPosition.top, 99999, image.height);
                            break;

                        case "repeat-y":
                            backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
                                bounds.left + backgroundPosition.left, bounds.top, image.width, 99999);
                            break;

                        case "no-repeat":
                            backgroundRepeatShape(ctx, image, backgroundPosition, bounds,
                                bounds.left + backgroundPosition.left, bounds.top + backgroundPosition.top, image.width, image.height);
                            break;

                        default:
                            renderBackgroundRepeat(ctx, image, backgroundPosition, {
                                top: bounds.top,
                                left: bounds.left,
                                width: image.width,
                                height: image.height
                            });
                            break;
                    }
                }

                function renderBackgroundImage(element, bounds, ctx) {
                    var backgroundImage = getCSS(element, "backgroundImage"),
                        backgroundImages = _html2canvas.Util.parseBackgroundImage(backgroundImage),
                        image,
                        imageIndex = backgroundImages.length;

                    while (imageIndex--) {
                        backgroundImage = backgroundImages[imageIndex];

                        if (!backgroundImage.args || backgroundImage.args.length === 0) {
                            continue;
                        }

                        var key = backgroundImage.method === 'url' ?
                            backgroundImage.args[0] :
                            backgroundImage.value;

                        image = loadImage(key);

                        // TODO add support for background-origin
                        if (image) {
                            renderBackgroundRepeating(element, bounds, ctx, image, imageIndex);
                        } else {
                            h2clog("html2canvas: Error loading background:", backgroundImage);
                        }
                    }
                }

                function resizeImage(image, bounds) {
                    if (image.width === bounds.width && image.height === bounds.height) {
                        return image;
                    }

                    var ctx, canvas = doc.createElement('canvas');
                    canvas.width = bounds.width;
                    canvas.height = bounds.height;
                    ctx = canvas.getContext("2d");
                    drawImage(ctx, image, 0, 0, image.width, image.height, 0, 0, bounds.width, bounds.height);
                    return canvas;
                }

                function setOpacity(ctx, element, parentStack) {
                    var opacity = getCSS(element, "opacity") * ((parentStack) ? parentStack.opacity : 1);
                    ctx.setVariable("globalAlpha", opacity);
                    return opacity;
                }

                function createStack(element, parentStack, bounds) {

                    var ctx = h2cRenderContext((!parentStack) ? documentWidth() : bounds.width, (!parentStack) ? documentHeight() : bounds.height),
                        stack = {
                            ctx: ctx,
                            zIndex: setZ(getCSS(element, "zIndex"), (parentStack) ? parentStack.zIndex : null),
                            opacity: setOpacity(ctx, element, parentStack),
                            cssPosition: getCSS(element, "position"),
                            borders: getBorderData(element),
                            clip: (parentStack && parentStack.clip) ? _html2canvas.Util.Extend({}, parentStack.clip) : null
                        };

                    // TODO correct overflow for absolute content residing under a static position
                    if (options.useOverflow === true && /(hidden|scroll|auto)/.test(getCSS(element, "overflow")) === true && /(BODY)/i.test(element.nodeName) === false) {
                        stack.clip = (stack.clip) ? clipBounds(stack.clip, bounds) : bounds;
                    }

                    stack.zIndex.children.push(stack);

                    return stack;
                }

                function getBackgroundBounds(borders, bounds, clip) {
                    var backgroundBounds = {
                        left: bounds.left + borders[3].width,
                        top: bounds.top + borders[0].width,
                        width: bounds.width - (borders[1].width + borders[3].width),
                        height: bounds.height - (borders[0].width + borders[2].width)
                    };

                    if (clip) {
                        backgroundBounds = clipBounds(backgroundBounds, clip);
                    }

                    return backgroundBounds;
                }

                function renderElement(element, parentStack, pseudoElement) {
                    var bounds = _html2canvas.Util.Bounds(element),
                        image,
                        bgcolor = (ignoreElementsRegExp.test(element.nodeName)) ? "#efefef" : getCSS(element, "backgroundColor"),
                        stack = createStack(element, parentStack, bounds),
                        borders = stack.borders,
                        ctx = stack.ctx,
                        backgroundBounds = getBackgroundBounds(borders, bounds, stack.clip),
                        borderData = parseBorders(element, bounds, borders);

                    createShape(ctx, borderData.clip);

                    ctx.save();
                    ctx.clip();

                    if (backgroundBounds.height > 0 && backgroundBounds.width > 0) {
                        renderBackgroundColor(ctx, bounds, bgcolor);
                        renderBackgroundImage(element, backgroundBounds, ctx);
                    }

                    ctx.restore();

                    borderData.borders.forEach(function (border) {
                        renderBorders(ctx, border.args, border.color);
                    });

                    if (!pseudoElement) {
                        injectPseudoElements(element, stack);
                    }

                    switch (element.nodeName) {
                        case "IMG":
                            if ((image = loadImage(element.getAttribute('src')))) {
                                renderImage(ctx, element, image, bounds, borders);
                            } else {
                                h2clog("html2canvas: Error loading <img>:" + element.getAttribute('src'));
                            }
                            break;
                        case "INPUT":
                            // TODO add all relevant type's, i.e. HTML5 new stuff
                            // todo add support for placeholder attribute for browsers which support it
                            if (/^(text|url|email|submit|button|reset)$/.test(element.type) && (element.value || element.placeholder).length > 0) {
                                renderFormValue(element, bounds, stack);
                            }
                            break;
                        case "TEXTAREA":
                            if ((element.value || element.placeholder || "").length > 0) {
                                renderFormValue(element, bounds, stack);
                            }
                            break;
                        case "SELECT":
                            if ((element.options || element.placeholder || "").length > 0) {
                                renderFormValue(element, bounds, stack);
                            }
                            break;
                        case "LI":
                            renderListItem(element, stack, backgroundBounds);
                            break;
                        case "CANVAS":
                            renderImage(ctx, element, element, bounds, borders);
                            break;
                    }

                    return stack;
                }

                function isElementVisible(element) {
                    return (getCSS(element, 'display') !== "none" && getCSS(element, 'visibility') !== "hidden" && !element.hasAttribute("data-html2canvas-ignore"));
                }

                function parseElement(el, stack, pseudoElement) {

                    if (isElementVisible(el)) {
                        stack = renderElement(el, stack, pseudoElement) || stack;
                        if (!ignoreElementsRegExp.test(el.nodeName)) {
                            _html2canvas.Util.Children(el).forEach(function (node) {
                                if (node.nodeType === 1) {
                                    parseElement(node, stack, pseudoElement);
                                } else if (node.nodeType === 3) {
                                    renderText(el, node, stack);
                                }
                            });
                        }
                    }
                }

                function svgDOMRender(body, stack) {
                    var img = new Image(),
                        docWidth = documentWidth(),
                        docHeight = documentHeight(),
                        html = "";

                    function parseDOM(el) {
                        var children = _html2canvas.Util.Children(el),
                            len = children.length,
                            attr,
                            a,
                            alen,
                            elm,
                            i;
                        for (i = 0; i < len; i += 1) {
                            elm = children[ i ];
                            if (elm.nodeType === 3) {
                                // Text node
                                html += elm.nodeValue.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                            } else if (elm.nodeType === 1) {
                                // Element
                                if (!/^(script|meta|title)$/.test(elm.nodeName.toLowerCase())) {

                                    html += "<" + elm.nodeName.toLowerCase();

                                    // add attributes
                                    if (elm.hasAttributes()) {
                                        attr = elm.attributes;
                                        alen = attr.length;
                                        for (a = 0; a < alen; a += 1) {
                                            html += " " + attr[ a ].name + '="' + attr[ a ].value + '"';
                                        }
                                    }


                                    html += '>';

                                    parseDOM(elm);


                                    html += "</" + elm.nodeName.toLowerCase() + ">";
                                }
                            }

                        }

                    }

                    parseDOM(body);
                    img.src = [
                        "data:image/svg+xml,",
                        "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='" + docWidth + "' height='" + docHeight + "'>",
                        "<foreignObject width='" + docWidth + "' height='" + docHeight + "'>",
                        "<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",
                        html.replace(/\#/g, "%23"),
                        "</html>",
                        "</foreignObject>",
                        "</svg>"
                    ].join("");

                    img.onload = function () {
                        stack.svgRender = img;
                    };

                }

                function init() {
                    var stack = renderElement(element, null);

                    if (support.svgRendering) {
                        svgDOMRender(document.documentElement, stack);
                    }

                    Array.prototype.slice.call(element.children, 0).forEach(function (childElement) {
                        parseElement(childElement, stack);
                    });

                    stack.backgroundColor = getCSS(document.documentElement, "backgroundColor");
                    body.removeChild(hidePseudoElements);
                    return stack;
                }

                return init();
            };

            function h2czContext(zindex) {
                return {
                    zindex: zindex,
                    children: []
                };
            }

            _html2canvas.Preload = function (options) {

                var images = {
                        numLoaded: 0,   // also failed are counted here
                        numFailed: 0,
                        numTotal: 0,
                        cleanupDone: false
                    },
                    pageOrigin,
                    methods,
                    i,
                    count = 0,
                    element = options.elements[0] || document.body,
                    doc = element.ownerDocument,
                    domImages = doc.images, // TODO probably should limit it to images present in the element only
                    imgLen = domImages.length,
                    link = doc.createElement("a"),
                    supportCORS = (function (img) {
                        return (img.crossOrigin !== undefined);
                    })(new Image()),
                    timeoutTimer;

                link.href = window.location.href;
                pageOrigin = link.protocol + link.host;

                function isSameOrigin(url) {
                    link.href = url;
                    link.href = link.href; // YES, BELIEVE IT OR NOT, that is required for IE9 - http://jsfiddle.net/niklasvh/2e48b/
                    var origin = link.protocol + link.host;
                    return (origin === pageOrigin);
                }

                function start() {
                    h2clog("html2canvas: start: images: " + images.numLoaded + " / " + images.numTotal + " (failed: " + images.numFailed + ")");
                    if (!images.firstRun && images.numLoaded >= images.numTotal) {
                        h2clog("Finished loading images: # " + images.numTotal + " (failed: " + images.numFailed + ")");

                        if (typeof options.complete === "function") {
                            options.complete(images);
                        }

                    }
                }

                // TODO modify proxy to serve images with CORS enabled, where available
                function proxyGetImage(url, img, imageObj) {
                    var callback_name,
                        scriptUrl = options.proxy,
                        script;

                    link.href = url;
                    url = link.href; // work around for pages with base href="" set - WARNING: this may change the url

                    callback_name = 'html2canvas_' + (count++);
                    imageObj.callbackname = callback_name;

                    if (scriptUrl.indexOf("?") > -1) {
                        scriptUrl += "&";
                    } else {
                        scriptUrl += "?";
                    }
                    scriptUrl += 'url=' + encodeURIComponent(url) + '&callback=' + callback_name;
                    script = doc.createElement("script");

                    window[callback_name] = function (a) {
                        if (a.substring(0, 6) === "error:") {
                            imageObj.succeeded = false;
                            images.numLoaded++;
                            images.numFailed++;
                            start();
                        } else {
                            setImageLoadHandlers(img, imageObj);
                            img.src = a;
                        }
                        window[callback_name] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)
                        try {
                            delete window[callback_name];  // for all browser that support this
                        } catch (ex) {
                        }
                        script.parentNode.removeChild(script);
                        script = null;
                        delete imageObj.script;
                        delete imageObj.callbackname;
                    };

                    script.setAttribute("type", "text/javascript");
                    script.setAttribute("src", scriptUrl);
                    imageObj.script = script;
                    window.document.body.appendChild(script);

                }

                function loadPseudoElement(element, type) {
                    var style = window.getComputedStyle(element, type),
                        content = style.content;
                    if (content.substr(0, 3) === 'url') {
                        methods.loadImage(_html2canvas.Util.parseBackgroundImage(content)[0].args[0]);
                    }
                    loadBackgroundImages(style.backgroundImage, element);
                }

                function loadPseudoElementImages(element) {
                    loadPseudoElement(element, ":before");
                    loadPseudoElement(element, ":after");
                }

                function loadGradientImage(backgroundImage, bounds) {
                    var img = _html2canvas.Generate.Gradient(backgroundImage, bounds);

                    if (img !== undefined) {
                        images[backgroundImage] = {
                            img: img,
                            succeeded: true
                        };
                        images.numTotal++;
                        images.numLoaded++;
                        start();
                    }
                }

                function invalidBackgrounds(background_image) {
                    return (background_image && background_image.method && background_image.args && background_image.args.length > 0 );
                }

                function loadBackgroundImages(background_image, el) {
                    var bounds;

                    _html2canvas.Util.parseBackgroundImage(background_image).filter(invalidBackgrounds).forEach(function (background_image) {
                        if (background_image.method === 'url') {
                            methods.loadImage(background_image.args[0]);
                        } else if (background_image.method.match(/\-?gradient$/)) {
                            if (bounds === undefined) {
                                bounds = _html2canvas.Util.Bounds(el);
                            }
                            loadGradientImage(background_image.value, bounds);
                        }
                    });
                }

                function getImages(el) {
                    var elNodeType = false;

                    // Firefox fails with permission denied on pages with iframes
                    try {
                        _html2canvas.Util.Children(el).forEach(function (img) {
                            getImages(img);
                        });
                    }
                    catch (e) {
                    }

                    try {
                        elNodeType = el.nodeType;
                    } catch (ex) {
                        elNodeType = false;
                        h2clog("html2canvas: failed to access some element's nodeType - Exception: " + ex.message);
                    }

                    if (elNodeType === 1 || elNodeType === undefined) {
                        loadPseudoElementImages(el);
                        try {
                            loadBackgroundImages(_html2canvas.Util.getCSS(el, 'backgroundImage'), el);
                        } catch (e) {
                            h2clog("html2canvas: failed to get background-image - Exception: " + e.message);
                        }
                        loadBackgroundImages(el);
                    }
                }

                function setImageLoadHandlers(img, imageObj) {
                    img.onload = function () {
                        if (imageObj.timer !== undefined) {
                            // CORS succeeded
                            window.clearTimeout(imageObj.timer);
                        }

                        images.numLoaded++;
                        imageObj.succeeded = true;
                        img.onerror = img.onload = null;
                        start();
                    };
                    img.onerror = function () {
                        if (img.crossOrigin === "anonymous") {
                            // CORS failed
                            window.clearTimeout(imageObj.timer);

                            // let's try with proxy instead
                            if (options.proxy) {
                                var src = img.src;
                                img = new Image();
                                imageObj.img = img;
                                img.src = src;

                                proxyGetImage(img.src, img, imageObj);
                                return;
                            }
                        }

                        images.numLoaded++;
                        images.numFailed++;
                        imageObj.succeeded = false;
                        img.onerror = img.onload = null;
                        start();
                    };
                }

                methods = {
                    loadImage: function (src) {
                        var img, imageObj;
                        if (src && images[src] === undefined) {
                            img = new Image();
                            if (src.match(/data:image\/.*;base64,/i)) {
                                img.src = src.replace(/url\(['"]{0,}|['"]{0,}\)$/ig, '');
                                imageObj = images[src] = {
                                    img: img
                                };
                                images.numTotal++;
                                setImageLoadHandlers(img, imageObj);
                            } else if (isSameOrigin(src) || options.allowTaint === true) {
                                imageObj = images[src] = {
                                    img: img
                                };
                                images.numTotal++;
                                setImageLoadHandlers(img, imageObj);
                                img.src = src;
                            } else if (supportCORS && !options.allowTaint && options.useCORS) {
                                // attempt to load with CORS

                                img.crossOrigin = "anonymous";
                                imageObj = images[src] = {
                                    img: img
                                };
                                images.numTotal++;
                                setImageLoadHandlers(img, imageObj);
                                img.src = src;

                                // work around for https://bugs.webkit.org/show_bug.cgi?id=80028
                                img.customComplete = function () {
                                    if (!this.img.complete) {
                                        this.timer = window.setTimeout(this.img.customComplete, 100);
                                    } else {
                                        this.img.onerror();
                                    }
                                }.bind(imageObj);
                                img.customComplete();

                            } else if (options.proxy) {
                                imageObj = images[src] = {
                                    img: img
                                };
                                images.numTotal++;
                                proxyGetImage(src, img, imageObj);
                            }
                        }

                    },
                    cleanupDOM: function (cause) {
                        var img, src;
                        if (!images.cleanupDone) {
                            if (cause && typeof cause === "string") {
                                h2clog("html2canvas: Cleanup because: " + cause);
                            } else {
                                h2clog("html2canvas: Cleanup after timeout: " + options.timeout + " ms.");
                            }

                            for (src in images) {
                                if (images.hasOwnProperty(src)) {
                                    img = images[src];
                                    if (typeof img === "object" && img.callbackname && img.succeeded === undefined) {
                                        // cancel proxy image request
                                        window[img.callbackname] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)
                                        try {
                                            delete window[img.callbackname];  // for all browser that support this
                                        } catch (ex) {
                                        }
                                        if (img.script && img.script.parentNode) {
                                            img.script.setAttribute("src", "about:blank");  // try to cancel running request
                                            img.script.parentNode.removeChild(img.script);
                                        }
                                        images.numLoaded++;
                                        images.numFailed++;
                                        h2clog("html2canvas: Cleaned up failed img: '" + src + "' Steps: " + images.numLoaded + " / " + images.numTotal);
                                    }
                                }
                            }

                            // cancel any pending requests
                            if (window.stop !== undefined) {
                                window.stop();
                            } else if (document.execCommand !== undefined) {
                                document.execCommand("Stop", false);
                            }
                            if (document.close !== undefined) {
                                document.close();
                            }
                            images.cleanupDone = true;
                            if (!(cause && typeof cause === "string")) {
                                start();
                            }
                        }
                    },

                    renderingDone: function () {
                        if (timeoutTimer) {
                            window.clearTimeout(timeoutTimer);
                        }
                    }
                };

                if (options.timeout > 0) {
                    timeoutTimer = window.setTimeout(methods.cleanupDOM, options.timeout);
                }

                h2clog('html2canvas: Preload starts: finding background-images');
                images.firstRun = true;

                getImages(element);

                h2clog('html2canvas: Preload: Finding images');
                // load <img> images
                for (i = 0; i < imgLen; i += 1) {
                    methods.loadImage(domImages[i].getAttribute("src"));
                }

                images.firstRun = false;
                h2clog('html2canvas: Preload: Done.');
                if (images.numTotal === images.numLoaded) {
                    start();
                }

                return methods;

            };
            _html2canvas.Renderer = function (parseQueue, options) {

                function createRenderQueue(parseQueue) {
                    var queue = [];

                    var sortZ = function (zStack) {
                        var subStacks = [],
                            stackValues = [];

                        zStack.children.forEach(function (stackChild) {
                            if (stackChild.children && stackChild.children.length > 0) {
                                subStacks.push(stackChild);
                                stackValues.push(stackChild.zindex);
                            } else {
                                queue.push(stackChild);
                            }
                        });

                        stackValues.sort(function (a, b) {
                            return a - b;
                        });

                        stackValues.forEach(function (zValue) {
                            var index;

                            subStacks.some(function (stack, i) {
                                index = i;
                                return (stack.zindex === zValue);
                            });
                            sortZ(subStacks.splice(index, 1)[0]);

                        });
                    };
                    if (parseQueue && parseQueue.zIndex) {
                        sortZ(parseQueue.zIndex);
                    }

                    return queue;
                }

                function getRenderer(rendererName) {
                    var renderer;

                    if (typeof options.renderer === "string" && _html2canvas.Renderer[rendererName] !== undefined) {
                        renderer = _html2canvas.Renderer[rendererName](options);
                    } else if (typeof rendererName === "function") {
                        renderer = rendererName(options);
                    } else {
                        throw new Error("Unknown renderer");
                    }

                    if (typeof renderer !== "function") {
                        throw new Error("Invalid renderer defined");
                    }
                    return renderer;
                }

                return getRenderer(options.renderer)(parseQueue, options, document, createRenderQueue(parseQueue), _html2canvas);
            };

            _html2canvas.Util.Support = function (options, doc) {

                function supportSVGRendering() {
                    var img = new Image(),
                        canvas = doc.createElement("canvas"),
                        ctx = (canvas.getContext === undefined) ? false : canvas.getContext("2d");
                    if (ctx === false) {
                        return false;
                    }
                    canvas.width = canvas.height = 10;
                    img.src = [
                        "data:image/svg+xml,",
                        "<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>",
                        "<foreignObject width='10' height='10'>",
                        "<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>",
                        "sup",
                        "</div>",
                        "</foreignObject>",
                        "</svg>"
                    ].join("");
                    try {
                        ctx.drawImage(img, 0, 0);
                        canvas.toDataURL();
                    } catch (e) {
                        return false;
                    }
                    h2clog('html2canvas: Parse: SVG powered rendering available');
                    return true;
                }

                // Test whether we can use ranges to measure bounding boxes
                // Opera doesn't provide valid bounds.height/bottom even though it supports the method.

                function supportRangeBounds() {
                    var r, testElement, rangeBounds, rangeHeight, support = false;

                    if (doc.createRange) {
                        r = doc.createRange();
                        if (r.getBoundingClientRect) {
                            testElement = doc.createElement('boundtest');
                            testElement.style.height = "123px";
                            testElement.style.display = "block";
                            doc.body.appendChild(testElement);

                            r.selectNode(testElement);
                            rangeBounds = r.getBoundingClientRect();
                            rangeHeight = rangeBounds.height;

                            if (rangeHeight === 123) {
                                support = true;
                            }
                            doc.body.removeChild(testElement);
                        }
                    }

                    return support;
                }

                return {
                    rangeBounds: supportRangeBounds(),
                    svgRendering: options.svgRendering && supportSVGRendering()
                };
            };
            window.html2canvas = function (elements, opts) {
                elements = (elements.length) ? elements : [elements];
                var queue,
                    canvas,
                    options = {
                        // general
                        logging: false,
                        elements: elements,
                        background: "#fff",

                        // preload options
                        proxy: null,
                        timeout: 0,    // no timeout
                        useCORS: false, // try to load images as CORS (where available), before falling back to proxy
                        allowTaint: false, // whether to allow images to taint the canvas, won't need proxy if set to true

                        // parse options
                        svgRendering: false, // use svg powered rendering where available (FF11+)
                        ignoreElements: "IFRAME|OBJECT|PARAM",
                        useOverflow: true,
                        letterRendering: false,
                        chinese: false,

                        // render options

                        width: null,
                        height: null,
                        taintTest: true, // do a taint test with all images before applying to canvas
                        renderer: "Canvas"
                    };

                options = _html2canvas.Util.Extend(opts, options);

                _html2canvas.logging = options.logging;
                options.complete = function (images) {

                    if (typeof options.onpreloaded === "function") {
                        if (options.onpreloaded(images) === false) {
                            return;
                        }
                    }
                    queue = _html2canvas.Parse(images, options);

                    if (typeof options.onparsed === "function") {
                        if (options.onparsed(queue) === false) {
                            return;
                        }
                    }

                    canvas = _html2canvas.Renderer(queue, options);

                    if (typeof options.onrendered === "function") {
                        options.onrendered(canvas);
                    }


                };

                // for pages without images, we still want this to be async, i.e. return methods before executing
                window.setTimeout(function () {
                    _html2canvas.Preload(options);
                }, 0);

                return {
                    render: function (queue, opts) {
                        return _html2canvas.Renderer(queue, _html2canvas.Util.Extend(opts, options));
                    },
                    parse: function (images, opts) {
                        return _html2canvas.Parse(images, _html2canvas.Util.Extend(opts, options));
                    },
                    preload: function (opts) {
                        return _html2canvas.Preload(_html2canvas.Util.Extend(opts, options));
                    },
                    log: h2clog
                };
            };

            window.html2canvas.log = h2clog; // for renderers
            window.html2canvas.Renderer = {
                Canvas: undefined // We are assuming this will be used
            };
            _html2canvas.Renderer.Canvas = function (options) {

                options = options || {};

                var doc = document,
                    safeImages = [],
                    testCanvas = document.createElement("canvas"),
                    testctx = testCanvas.getContext("2d"),
                    canvas = options.canvas || doc.createElement('canvas');


                function createShape(ctx, args) {
                    ctx.beginPath();
                    args.forEach(function (arg) {
                        ctx[arg.name].apply(ctx, arg['arguments']);
                    });
                    ctx.closePath();
                }

                function safeImage(item) {
                    if (safeImages.indexOf(item['arguments'][0].src) === -1) {
                        testctx.drawImage(item['arguments'][0], 0, 0);
                        try {
                            testctx.getImageData(0, 0, 1, 1);
                        } catch (e) {
                            testCanvas = doc.createElement("canvas");
                            testctx = testCanvas.getContext("2d");
                            return false;
                        }
                        safeImages.push(item['arguments'][0].src);
                    }
                    return true;
                }

                function isTransparent(backgroundColor) {
                    return (backgroundColor === "transparent" || backgroundColor === "rgba(0, 0, 0, 0)");
                }

                function renderItem(ctx, item) {
                    switch (item.type) {
                        case "variable":
                            ctx[item.name] = item['arguments'];
                            break;
                        case "function":
                            if (item.name === "createPattern") {
                                if (item['arguments'][0].width > 0 && item['arguments'][0].height > 0) {
                                    try {
                                        ctx.fillStyle = ctx.createPattern(item['arguments'][0], "repeat");
                                    }
                                    catch (e) {
                                        h2clog("html2canvas: Renderer: Error creating pattern", e.message);
                                    }
                                }
                            } else if (item.name === "drawShape") {
                                createShape(ctx, item['arguments']);
                            } else if (item.name === "drawImage") {
                                if (item['arguments'][8] > 0 && item['arguments'][7] > 0) {
                                    if (!options.taintTest || (options.taintTest && safeImage(item))) {
                                        ctx.drawImage.apply(ctx, item['arguments']);
                                    }
                                }
                            } else {
                                ctx[item.name].apply(ctx, item['arguments']);
                            }
                            break;
                    }
                }

                return function (zStack, options, doc, queue, _html2canvas) {
                    var ctx = canvas.getContext("2d"),
                        storageContext,
                        i,
                        queueLen,
                        newCanvas,
                        bounds,
                        fstyle;

                    canvas.width = canvas.style.width = options.width || zStack.ctx.width;
                    canvas.height = canvas.style.height = options.height || zStack.ctx.height;

                    fstyle = ctx.fillStyle;
                    ctx.fillStyle = (isTransparent(zStack.backgroundColor) && options.background !== undefined) ? options.background : zStack.backgroundColor;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = fstyle;


                    if (options.svgRendering && zStack.svgRender !== undefined) {
                        // TODO: enable async rendering to support this
                        ctx.drawImage(zStack.svgRender, 0, 0);
                    } else {
                        for (i = 0, queueLen = queue.length; i < queueLen; i += 1) {
                            storageContext = queue.splice(0, 1)[0];
                            storageContext.canvasPosition = storageContext.canvasPosition || {};

                            // set common settings for canvas
                            ctx.textBaseline = "bottom";

                            if (storageContext.clip) {
                                ctx.save();
                                ctx.beginPath();
                                ctx.rect(storageContext.clip.left, storageContext.clip.top, storageContext.clip.width, storageContext.clip.height);
                                ctx.clip();
                            }

                            if (storageContext.ctx.storage) {
                                storageContext.ctx.storage.forEach(renderItem.bind(null, ctx));
                            }

                            if (storageContext.clip) {
                                ctx.restore();
                            }
                        }
                    }

                    h2clog("html2canvas: Renderer: Canvas renderer done - returning canvas obj");

                    queueLen = options.elements.length;

                    if (queueLen === 1) {
                        if (typeof options.elements[0] === "object" && options.elements[0].nodeName !== "BODY") {
                            // crop image to the bounds of selected (single) element
                            bounds = _html2canvas.Util.Bounds(options.elements[0]);
                            newCanvas = doc.createElement('canvas');
                            newCanvas.width = bounds.width;
                            newCanvas.height = bounds.height;
                            ctx = newCanvas.getContext("2d");

                            ctx.drawImage(canvas, bounds.left, bounds.top, bounds.width, bounds.height, 0, 0, bounds.width, bounds.height);
                            canvas = null;
                            return newCanvas;
                        }
                    }

                    return canvas;
                };
            };
        })(window, document);
    }
};
}
})();
;
define("plugins/safeIcon",["require"],function(){function t(){n(),$(document).on("scroll.safeIcon",n)}function n(){s.clear();var t=$(".result .c-icon-baozhang-new");t.length&&t.each(function(t,n){a(n)&&o(n)})}function e(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function a(t){if(!t)return!1;if(!t.getBoundingClientRect)return!0;var n=t.getBoundingClientRect();return n.top<window.innerHeight&&n.bottom>0&&n.left<window.innerWidth&&n.right>0?!0:!1}function i(t){if(window.localStorage){var n=s.get(),a=!!$(t).attr("data-safe-icon-run");
return(n.split(",").length<2||-1!==n.indexOf(e()))&&!a}return!0}function o(t){if(!i(t))return!1;$(t).attr("data-safe-icon-run",!0),$(t).attr("hint-type","anim-newBao");var n=$(t),a=$($(t).parents("div.result.c-container")),o=a.attr("data-click"),r=o?o.replace("safe","ani-safe"):"";setTimeout(function(){n.addClass("animate"),a.attr("data-click",r),n.one("animationend",function(){n.removeClass("animate"),setTimeout(function(){n.addClass("animate"),$(t).attr("hint-type","newBao"),n.one("animationend",function(){a.attr("data-click",o)
})},1e3)})},1e3),ns_c_pj({qid:bds.comm.qid||""},"pj=animaBao&"),s.set(e()+"~"+ +new Date)}function r(t){var n=function(){return window.localStorage&&window.localStorage.getItem(t)?window.localStorage.getItem(t):""},e=function(e){if(window.localStorage){var a=n();return""===e?(window.localStorage.setItem(t,e),!0):2===a.split(",").length||-1!==a.indexOf(e.split("~")[0])?!1:(e=a?a+","+String(e):String(e),window.localStorage.setItem(t,e),!0)}return!0},a=function(){var t=n();+new Date-+t.split(",")[0].split("~").pop()>=f&&e("")
};return{get:n,set:e,clear:a}}function c(){$(document).off("scroll.safeIcon",n)}function l(){try{t()}catch(n){console.log(n)}}var u="safeIconHis",f=1296e6,s=r(u);return{init:l,destroy:c}});;
define("plugins/frontend_sample",["require"],function(){var n={};return function(r,e){if(location.search.indexOf("s_"+r+"=hit")>=0)return!0;n[r]||(n[r]=Math.random());var i=n[r];return e>i}});;


define("webb/instance",["require","@baidu/webb","webb/instance-config"],function(n){function e(){return bds&&bds.comm&&bds.comm.lid?bds.comm.lid:""}function i(n){if(!a[n]){var i={pid:n,lid:e()},o=b[n];if(!o)return null;for(var t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);a[n]=new r(i)}return a[n]}var r=n("@baidu/webb"),b=n("webb/instance-config").config;if(-1!==document.cookie.indexOf("webbtest=1"))for(var o in b)if(b.hasOwnProperty(o))for(var t in b[o])b[o].hasOwnProperty(t)&&(b[o][t].sample=1);var a={};
return{getInstance:i}});;
define("webb/instance-config",["require"],function(){var e={"1_3":{et_js:{sample:.1},et_comm:{sample:.1},pf_comm:{sample:.01}}};return{config:e}});;
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@baidu/webb",[],t):"object"==typeof exports?exports.webb2=t():e.webb2=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})
},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){"use strict";function i(e,t){var i=new Image,o=n();window[o]=i,i.onload=function(){t&&t(),delete window[o]},i.onerror=function(e){t&&t(e),delete window[o]},i.src=e}function n(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()
}function o(e,t){if(!t||"object"!==(void 0===t?"undefined":b(t)))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}function s(e){return Object.keys(e).map(function(t){var i=e[t];return void 0===i?i="":"string"!=typeof i&&(i=JSON.stringify(i)),encodeURIComponent(t)+"="+encodeURIComponent(i)}).join("&")}function r(e,t){var i=["webkit","moz","ms","o"];if(t in e)return t;for(var n=0;n<i.length;n++){var o=""+i[n]+t;if(o in e)return o}return""}function a(){return{x:document.body.scrollLeft||document.documentElement.scrollLeft,y:document.body.scrollTop||document.documentElement.scrollTop}
}function u(e){v&&(document.addEventListener(g,e),document.addEventListener(w,e))}function d(e){document.removeEventListener(g,e),document.removeEventListener(w,e)}function c(e){return e&&"hidden"in e?e.hidden:document[v]}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(i){e[i]=t[i]}),e}function l(){if(Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector
}}function m(e){var t=window.getComputedStyle(e)["background-image"];return t&&"none"!==t&&/^url\(/i.test(t)?t.replace(/^url\(['"]?([^'"]+)['"]?\)/i,"$1"):""}function f(e){return e&&"string"==typeof e&&/^\s?(http:|https:)?\/\//.test(e)}function p(e,t){/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",function(){return t?void e():void setTimeout(function(){e()},0)})}Object.defineProperty(t,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e
}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.sendLog=i,t.guid=n,t.extend=o,t.stringify=s,t.getProp=r,t.getScrollInfo=a,t.bindVisibilityChangeEvent=u,t.disposeVisibilityChangeEvent=d,t.getPageHiddenValue=c,t.assign=h,t.matchesPolyfill=l,t.getUrlFromStyle=m,t.isUrl=f,t.afterReady=p;var v=r(document,"hidden"),g=v.replace(/hidden/i,"visibilitychange"),w="baiduboxappvisibilitychange"},function(e,t,i){"use strict";function n(e){var t=this,i=e.colno||window.event&&window.event.errorCharacter||0,n=e.error||{},s=o.assign({msg:e.message,ln:e.lineno,file:e.filename,col:i,stack:n.stack},this.exceptionInfo);
setTimeout(function(){t.send("et_js",s,t.exceptionDim)},0)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(0);t["default"]={initException:function(){this.exceptionDim=null,this.exceptionInfo={},this.onerrorCb=n.bind(this)},startJsExceptionLog:function(e,t){this.exceptionInfo=o.assign({},e),this.exceptionDim=o.assign({},t),window.removeEventListener("error",this.onerrorCb),window.addEventListener("error",this.onerrorCb)},startResExceptionLog:function(){},stopJsExceptionLog:function(){window.removeEventListener("error",this.onerrorCb)
},stopResExceptionLog:function(){},sendExceptionLog:function(e,t){this.send("et_comm",e,t)},destroyJsException:function(){this.stopJsExceptionLog(),this.exceptionDim=null,this.exceptionInfo=null,this.onerrorCb=null}},e.exports=t["default"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t["default"]={sendBaseDispLog:function(e,t,i){var o=document.documentElement,s={size:{doc:{w:o.scrollWidth,h:o.scrollHeight},wind:{w:o.clientWidth,h:o.clientHeight},scr:{w:screen.width,h:screen.height}},dpr:window.devicePixelRatio||1};
e&&(s=n.assign(s,e)),this.send("disp_comm",s,t,null,i)},sendDispLog:function(e,t,i){var o=void 0;o=e instanceof Array?e:n.assign({},e),this.send("disp_content",o,t,null,i)}},e.exports=t["default"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0);t["default"]={sendBasePfLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=arguments[2],o=window.performance&&performance.timing||{},s=o.navigationStart,r=o.requestStart,a=o.responseStart,u=o.responseEnd,d=o.domComplete,c=o.domLoading,h=o.domainLookupStart,l=o.domainLookupEnd,m=o.connectStart,f=o.connectEnd,p=o.loadEventStart,b=o.loadEventEnd,v={dns:l-h,tcp:f-m,req:a-r,res:u-a,dct:d-c,ld:b-p},g=window.__webbbrige__||{},w=g.whiteScreenTime,y=g.firstScreenTime;
w&&(v=n.assign(v,{wst:w-s})),y&&(v=n.assign(v,{fst:y-s})),v=n.assign(v,e),this.send("pf_comm",v,t,null,i)},sendPfLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=arguments[2],o=n.assign({},e);this.send("pf_comm",o,t,null,i)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={sendCountLog:function(e,t){this.send("count_comm",e,t)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={sendDistributeLog:function(e,t){this.send("dist_comm",e,t)
}},e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)
}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(0),a="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/webb.gif";"http:"===location.protocol&&(a="http://sestat.baidu.com/webb.gif");var u="https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif";"http:"===location.protocol&&(u="http://sestat.baidu.com/mwb2.gif");var d={time:1,ia:1,disp_comm:1,disp_content:1,et_js:2,count_comm:2,dist_comm:2,pf_comm:2},c=function(){function e(t){n(this,e);var i={sample:0};this.validateOptions(t),this.options=r.extend(i,t),this.random=Math.random(),this.options.sample&&(this.options.curSample=Math.random()<this.options.sample?1:0),this.updateCurSample(),this.initException(),this.options.ia&&this.initIa&&this.initIa()
}return s(e,[{key:"updateCurSample",value:function(){var e=this;Object.keys(this.options).forEach(function(t){var i=e.options[t];i&&i.sample&&!i.curSample&&(e.options[t].curSample=Math.random()<i.sample?1:0)})}},{key:"validateOptions",value:function(e){var t=["pid","lid"];if("object"!==(void 0===e?"undefined":o(e)))throw new Error("Options must be an object!");if(!t.every(function(t){return t in e}))throw new Error("Options "+t.join(", ")+" required")}},{key:"updateOption",value:function(e){this.options=r.extend(this.options,e),this.updateCurSample()
}},{key:"wrapCommonParam",value:function(e,t,i){var n={pid:this.options.pid,lid:this.options.lid,ts:Date.now(),type:e,info:t,ext:this.options.ext?this.options.ext:{}};return i&&(n.dim=i),n}},{key:"hitSample",value:function(e){var t=this.options[e];return t?"sample"in t?"eachreq"===t.sampleType?t.sample&&Math.random()<=t.sample?1:0:t.curSample:"eachreq"===this.options.sampleType?this.options.sample&&Math.random()<=this.options.sample?1:0:this.options.curSample:0}},{key:"getLogHost",value:function(e){var t=this.options;
return t[e]&&t[e].logHost||t.logHost?t[e]&&t[e].logHost?t[e].logHost:t.logHost:2===d[e]?u:a}},{key:"send",value:function(e,t,i,n,o){if(this.hitSample(e)){"function"==typeof i&&(o=n,n=i,i=null);var s=this.wrapCommonParam(e,t,i);r.extend(s,o),s&&s.ext?s.ext.path=location.pathname:s&&!s.ext&&(s.ext={path:location.pathname});var a=r.guid(),u=window[a]=new Image;u.onload=function(e){n&&("function"==typeof n?n(e):n.successCb&&"function"==typeof n.successCb&&n.successCb(e)),delete window[a]},u.onerror=function(e){n&&n.errorCb&&"function"==typeof n.errorCb&&n.errorCb(e),delete window[a]
},u.src=this.getLogHost(e)+"?"+r.stringify(s)}}},{key:"sendBeacon",value:function(e,t,i,n){if(this.hitSample(e)){var o=this.wrapCommonParam(e,t,i);r.extend(o,n),o&&o.ext?o.ext.path=location.pathname:o&&!o.ext&&(o.ext={path:location.pathname}),navigator.sendBeacon?navigator.sendBeacon(this.getLogHost(e)+"?"+r.stringify(o))||this.send(e,t,i):this.send(e,t,i)}}},{key:"destroy",value:function(){this.destroyJsException(),this.destroyIaMonitor(),this.destroyMediaTime()}}]),e}();t["default"]=c,e.exports=t["default"]
},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(8),s=n(o),r=i(1),a=n(r),u=i(9),d=n(u),c=i(2),h=n(c),l=i(3),m=n(l),f=i(4),p=n(f),b=i(5),v=n(b),g=i(6),w=n(g),y=i(0);y.extend(w["default"].prototype,s["default"]),y.extend(w["default"].prototype,a["default"]),y.extend(w["default"].prototype,d["default"]),y.extend(w["default"].prototype,h["default"]),y.extend(w["default"].prototype,m["default"]),y.extend(w["default"].prototype,p["default"]),y.extend(w["default"].prototype,v["default"]),t["default"]=w["default"],e.exports=t["default"]
},function(e,t,i){"use strict";function n(e,t){return-1!==e.indexOf(t)}function o(e){s.getPageHiddenValue(e)?this.iaHideCb(e):this.iaShowCb(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),r=["bf","scroll","resize"];t["default"]={initIa:function(){this.iaTimer=null,this.curSpeed=4e3,this.iaQueue=[],this.lastQueueLen=-1,this.iaDim={},this.iaSendSwitch=!1,this.scrollCb=this.sendScrollLog.bind(this),this.resizeCb=this.sendResizeLog.bind(this),this.iaVisibilityCb=o.bind(this),this.iaHideCb=this.iaHideCb.bind(this),this.iaShowCb=this.iaShowCb.bind(this)
},flushIaQueue:function(){var e=[].concat(this.iaQueue);for(this.iaQueue=[];e.length;){var t=e.splice(0,6);this.sendBeacon("ia",t,this.iaDim)}clearTimeout(this.iaTimer),this.startCycle()},startCycle:function(){var e=this;this.iaTimer=setTimeout(function(){var t=e.iaQueue.length;-1===e.lastQueueLen?e.lastQueueLen=t:e.lastQueueLen&&t/e.lastQueueLen>=2&&e.curSpeed>2e3?e.curSpeed-=1e3:t&&e.lastQueueLen/t>=2&&e.curSpeed<6e3?e.curSpeed+=1e3:!t&&e.curSpeed<6e3?e.curSpeed+=1e3:t&&!e.lastQueueLen&&e.curSpeed>2e3?e.curSpeed-=1e3:!t&&e.curSpeed<6e3&&(e.curSpeed+=1e3),e.lastQueueLen=t,e.flushIaQueue(),clearTimeout(e.iaTimer),e.startCycle()
},this.curSpeed)},startIaMonitor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.options&&this.options.ia){this.iaDim=s.assign(this.iaDim,e),this.resetIaSwitch(),this.iaShowCb(null,!0),this.removeMonitorEvents(),clearTimeout(this.iaTimer),this.startCycle(),this.monitorItems=r;var t=[];this.options&&this.options.ia&&this.options.ia.iaMonitorItems?t=this.options.ia.iaMonitorItems:this.options&&this.options.iaMonitorItems&&(t=this.options.iaMonitorItems),t&&Array.isArray(t)&&t.length&&(this.monitorItems=t.filter(function(e){return n(r,e)
}),this.monitorItems.length||(this.monitorItems=r)),this.bindMonitorEvents()}},stopIaMonitor:function(){this.options&&this.options.ia&&(this.iaHideCb(null,!0),this.flushIaQueue(),this.removeMonitorEvents(),clearTimeout(this.iaTimer))},sendScrollLog:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scrollLogLock||(this.scrollLogLock=!0,setTimeout(function(){e.scrollLogLock=!1},500),t.x>=0&&t.y>=0||(t=s.getScrollInfo()),this.iaQueue.push({k:"scroll",x:t.x,y:t.y,t:(new Date).getTime(),ele:t.scrollEle||"window"}))
},sendResizeLog:function(){var e=this;this.resizeLogLock||(this.resizeLogLock=!0,setTimeout(function(){e.resizeLogLock=!1},500),setTimeout(function(){e.iaQueue.push({k:"resize",w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight,t:(new Date).getTime()})},50))},bindMonitorEvents:function(){var e=this.monitorItems;n(e,"bf")&&(s.getProp(document,"hidden")&&s.bindVisibilityChangeEvent(this.iaVisibilityCb),window.addEventListener("beforeunload",this.iaHideCb,!1),window.addEventListener("unload",this.iaHideCb,!1),window.addEventListener("pagehide",this.iaHideCb,!1),window.addEventListener("pageshow",this.iaShowCb,!1)),n(e,"scroll")&&window.addEventListener("scroll",this.scrollCb),n(e,"resize")&&window.addEventListener("resize",this.resizeCb)
},removeMonitorEvents:function(){window.removeEventListener("scroll",this.scrollCb),window.removeEventListener("resize",this.resizeCb),s.disposeVisibilityChangeEvent(this.iaVisibilityCb),window.removeEventListener("beforeunload",this.iaHideCb,!1),window.removeEventListener("unload",this.iaHideCb,!1),window.removeEventListener("pagehide",this.iaHideCb,!1),window.removeEventListener("pageshow",this.iaShowCb,!1)},updateIaDim:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};
this.iaDim=e},resetIaSwitch:function(){this.iaSendSwitch=!1},convertIaSwitch:function(){this.iaSendSwitch=!this.iaSendSwitch},iaHideCb:function(e,t){if(this.iaSendSwitch||t){var i=e?e.type:"";t&&(i="manual"),this.convertIaSwitch(),this.iaQueue.push({k:"blur",trigger:i,t:(new Date).getTime()}),this.flushIaQueue()}},iaShowCb:function(e,t){if(!this.iaSendSwitch||t){var i=e?e.type:"";t&&(i="manual"),this.convertIaSwitch(),this.iaQueue.push({k:"focus",trigger:i,t:(new Date).getTime()}),this.flushIaQueue()
}},destroyIaMonitor:function(){this.removeMonitorEvents(),clearTimeout(this.iaTimer),this.iaTimer=null,this.curSpeed=null,this.iaQueue=null,this.lastQueueLen=null,this.iaDim=null,this.scrollCb=null,this.resizeCb=null,this.pageActiveStatusChangeCb=null}},e.exports=t["default"]},function(e,t,i){"use strict";function n(){var e=this.__media__;e.sendSwitch=!0,e.continueSwitch=!1}function o(){var e=this.__media__;e.sendSwitch=!e.sendSwitch,e.continueSwitch=!e.continueSwitch}function s(e){u.getPageHiddenValue(e)?this.mediaHideCb(e):this.mediaShowCb(e)
}function r(){var e=this.__media__||{};e.continueSwitch&&(this.convertMediaSwitch(),e.count+=1,e.startTime=Date.now())}function a(e,t){var i=this.__media__;if(i.sendSwitch||t){var n=e?e.type:"";t&&(n="manual"),i.endTime=Date.now(),this.convertMediaSwitch();var o={t1:i.startTime,t2:i.endTime,count:i.count,trigger:n};this.sendBeacon(d,o,i.dim)}}Object.defineProperty(t,"__esModule",{value:!0});var u=i(0),d="time";t["default"]={initMediaTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.__media__={dim:t,startTime:0,endTime:0,count:1,sendSwitch:!0,continueSwitch:!1};
e?i.startTime=e:window.__webbbrige__&&window.__webbbrige__.startTime?(i.startTime=window.__webbbrige__.startTime,window.__webbbrige__.startTime=null):i.startTime=Date.now(),this.hasMediaInit=!0,this.mediaHideCb=a.bind(this),this.mediaShowCb=r.bind(this),this.mediaVisibilityCb=s.bind(this),this.resetMediaSwitch=n.bind(this),this.convertMediaSwitch=o.bind(this),this.destroyMediaEvent(),this.bindMediaEvent()},reStartMediaTime:function(e){if(!this.hasMediaInit)return void this.initMediaTime();var t=this.__media__;
t.count=e?1:t.count+1,t.startTime=Date.now(),this.resetMediaSwitch(),this.destroyMediaEvent(),this.bindMediaEvent()},stopMediaTime:function(){!this.__media__||this.__media__&&!this.__media__.startTime||(this.mediaHideCb(null,!0),this.destroyMediaEvent(),this.__media__.startTime=null)},updateMediaDim:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__media__.dim=e},bindMediaEvent:function(){u.getProp(document,"hidden")&&u.bindVisibilityChangeEvent(this.mediaVisibilityCb),window.addEventListener("beforeunload",this.mediaHideCb,!1),window.addEventListener("unload",this.mediaHideCb,!1),window.addEventListener("pagehide",this.mediaHideCb,!1),window.addEventListener("pageshow",this.mediaShowCb,!1)
},destroyMediaEvent:function(){u.disposeVisibilityChangeEvent(this.mediaVisibilityCb),window.removeEventListener("beforeunload",this.mediaHideCb,!1),window.removeEventListener("unload",this.mediaHideCb,!1),window.removeEventListener("pagehide",this.mediaHideCb,!1),window.removeEventListener("pageshow",this.mediaShowCb,!1)},destroyMediaTime:function(){this.destroyMediaEvent(),this.__media__=null,this.hasMediaInit=!1,this.mediaHideCb=null,this.mediaShowCb=null,this.mediaVisibilityCb=null,this.resetMediaSwitch=null,this.convertMediaSwitch=null
}},e.exports=t["default"]}])});;

// 前端展现日志
$(window).on('swap_begin', function () {
    if (bds && bds.se && bds.se.displayTime !== undefined && bds.se.displayTime !== null) {
        clearTimeout(bds.se.displayTime);
        bds.se.displayTime = null;
    }
}).on("confirm",function(){
    if (bds && bds.comm && bds.comm.globalLogFlag && bds.comm.globalLogFlag == 1) {
        if (bds.comm.logFlagNoNetwork == 1 || bds.comm.logFlagNoIntegration == 1) { // 无展现日志逻辑
        } else {
            bds.se.displayTime = setTimeout(function(){
                bds && bds.se && bds.se.display();
                bds.se.displayTime = null;
            }, 5000);
        }
    }
    if (bds){
        bds.se.userAction.collect();
    }
}).on("swap_end",function(e,cacheItem){
    if(!cacheItem && bds && bds.comm && bds.comm.globalLogFlag && bds.comm.globalLogFlag == 1){
        if (bds.comm.logFlagNoNetwork == 1 || bds.comm.logFlagNoIntegration == 1) { // 无展现日志逻辑
        } else {
            bds.se.displayTime = setTimeout(function(){
                bds && bds.se && bds.se.display();
                bds.se.displayTime = null;
            }, 5000);
        }
    }
    if(!cacheItem && bds){
        bds.se.userAction.collect();
    }

    // 给op (mashuchao) 发送webb监控日志 by huanghuiquan
    // 在每次搜索展现结果后发送监控日志
    bds.log.send.sendNow('flow_monitor', {}, {qid: bds.comm.qid, log: {}, len: 1})
});

    $(window).on("swap_end",function(){
        if(bds.comm.__rdNum && bds.comm.__rdNum > 9000){
            setTimeout(function(){
                $.ajax({
                    "dataType":"script",
                    "cache":true,
                    "url":"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/plugins/clean_7973b0f.js",
                    "success":function(){
                        bds.se.cleanCookie.init();
                    }
                });
            },0);
        }
    });

    window.icodetest = 12;

//浏览器缩放比不正常提示
$(window).on('swap_end',function () {
    if (bds && bds.comm && bds.comm.sampleval && $.inArray('ZOOM_TEST', bds.comm.sampleval) > -1) {
        require(['plugins/zoom_prompt'], function (resetZoom) {
            resetZoom()
        })
    } else if (bds && bds.comm && bds.comm.sampleval && $.inArray('ZOOM_COMP', bds.comm.sampleval) > -1) {
        require(['lib/get_zoom'], function (getZoom) {
            var zoom = getZoom();
            if (!!zoom && zoom != 1) {
                ns_c({
                    'fm': 'behs',
                    'qid': bds.comm.qid,
                    'tab': 'baidu_zoomshow'
                });
            }
        })
    }
});

// pc跨屏扫码至wise实验
$(window).on('swap_end', function() {
    if (bds && bds.comm && bds.comm.sampleval && $.inArray('qrcode', bds.comm.sampleval) > -1) {
        var encodedQuery = encodeURIComponent(bds.comm.query);
        if (encodedQuery.length <= 150) {
            require(['plugins/pcToWise'], function(pcToWise) {
                pcToWise(encodedQuery);
            });
        }
    }
});

$(document).ready(function () {
    require(['plugins/frontend_sample'], function (feSample) {
        if (feSample('op_https_cert_usable', 1 / 1000)) {
            require(['plugins/https_useable_sample'], function (start) {
                start(document, $);
            });
        }
    });
    require(['plugins/safeIcon'], function (safeIcon) {
        safeIcon.init();
    })
});

!function(){var t=navigator.userAgent,e=t.match(/MSIE\s*(\d+)/),o=e&&e[1]&&+e[1]<=9;o||require(["plugins/swfobject","soutu/js/tu"],function(t,e){if(/^\/imgsearch/.test(location.pathname)){var o=$("#content_left").find(".result-op"),i=[];o.each(function(){var t=$(this),e=t.attr("tpl");"tu_relate_site"===e&&(e+="@"+t.find(".op-tu-relate-site-result").length),i.push(e)}),e.log({rsv_imageshow:i.join(":")}),$("#page").hide(),$("#wrapper").outerHeight()<$(document).outerHeight()&&$("#foot").addClass("foot_fixed_bottom")
}})}();;
!function(){function o(o){var i=["voice_beha=1"],n=window.bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com";for(var e in o)o.hasOwnProperty(e)&&i.push(e+"="+o[e]);var t=window["nsIMG"+ +new Date]=new Image;return t.src=n+"/v.gif?pid=201&"+i.join("&"),!0}(location.href.match(/voice=1/)||navigator.userAgent.match(/mac os x/i))&&require(["plugins/swfobject","voice/js/voice"],function(i,n){if(n.log=o,n&&n.support()){n.addStyle(),window.__supportvoice=!0;
var e=$("#form .ipt_rec");e.css("display","block"),e.click(function(){var o=n.init({url:"https://vse.baidu.com/echo.fcgi"});o.done(function(o){o.openUI(),o.onfinish(function(o){var i=o.content.item[0],n=o&&o.result?o.result.corpus_no:"";changeUrl("wd="+encodeURIComponent(i)+"&rsv_voice=1&hsug_mtype=2&rsv_vcorpus="+encodeURIComponent(n)),bds.comm.lastVoiceQuery=i}),n.log({q:"resolve"})}).fail(function(){n.log({q:"reject"}),alert("不能获得麦克风的权限")}),n.log({q:"start"})})}})}();;

$(document).ready(function () {
    if (bds.comm && bds.comm.ishome && !$('.s_tab .s_tab_inner').get(0)) {
        $( ".s_tab" ).wrapInner("<div class='s_tab_inner'></div>");
    }
});

$(document).ready(function () {
    require(['plugins/hotWord'], function (hotword) {
        hotword.init();
    });
});
$(window).on('index_off', function () {
    require(['plugins/hotWord'], function (hotword) {
        hotword.destroy();
    });
});


